(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var zc={exports:{}},bo={},Bc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function qy(){if(op)return Ie;op=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function j(V,q,he){this.props=V,this.context=q,this.refs=$,this.updater=he||F}j.prototype.isReactComponent={},j.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=j.prototype;function X(V,q,he){this.props=V,this.context=q,this.refs=$,this.updater=he||F}var oe=X.prototype=new G;oe.constructor=X,B(oe,j.prototype),oe.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,we={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(V,q,he){var Te,Se={},Ae=null,Me=null;if(q!=null)for(Te in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(Ae=""+q.key),q)Ce.call(q,Te)&&!x.hasOwnProperty(Te)&&(Se[Te]=q[Te]);var Fe=arguments.length-2;if(Fe===1)Se.children=he;else if(1<Fe){for(var je=Array(Fe),mt=0;mt<Fe;mt++)je[mt]=arguments[mt+2];Se.children=je}if(V&&V.defaultProps)for(Te in Fe=V.defaultProps,Fe)Se[Te]===void 0&&(Se[Te]=Fe[Te]);return{$$typeof:i,type:V,key:Ae,ref:Me,props:Se,_owner:we.current}}function I(V,q){return{$$typeof:i,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return q[he]})}var L=/\/+/g;function C(V,q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):q.toString(36)}function et(V,q,he,Te,Se){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(Ae){case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case i:case e:Me=!0}}if(Me)return Me=V,Se=Se(Me),V=Te===""?"."+C(Me,0):Te,fe(Se)?(he="",V!=null&&(he=V.replace(L,"$&/")+"/"),et(Se,q,he,"",function(mt){return mt})):Se!=null&&(k(Se)&&(Se=I(Se,he+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+V)),q.push(Se)),1;if(Me=0,Te=Te===""?".":Te+":",fe(V))for(var Fe=0;Fe<V.length;Fe++){Ae=V[Fe];var je=Te+C(Ae,Fe);Me+=et(Ae,q,he,je,Se)}else if(je=A(V),typeof je=="function")for(V=je.call(V),Fe=0;!(Ae=V.next()).done;)Ae=Ae.value,je=Te+C(Ae,Fe++),Me+=et(Ae,q,he,je,Se);else if(Ae==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function At(V,q,he){if(V==null)return V;var Te=[],Se=0;return et(V,Te,"","",function(Ae){return q.call(he,Ae,Se++)}),Te}function Pt(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var ze={current:null},ee={transition:null},de={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ee,ReactCurrentOwner:we};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:At,forEach:function(V,q,he){At(V,function(){q.apply(this,arguments)},he)},count:function(V){var q=0;return At(V,function(){q++}),q},toArray:function(V){return At(V,function(q){return q})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=j,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=X,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ie.act=re,Ie.cloneElement=function(V,q,he){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Te=B({},V.props),Se=V.key,Ae=V.ref,Me=V._owner;if(q!=null){if(q.ref!==void 0&&(Ae=q.ref,Me=we.current),q.key!==void 0&&(Se=""+q.key),V.type&&V.type.defaultProps)var Fe=V.type.defaultProps;for(je in q)Ce.call(q,je)&&!x.hasOwnProperty(je)&&(Te[je]=q[je]===void 0&&Fe!==void 0?Fe[je]:q[je])}var je=arguments.length-2;if(je===1)Te.children=he;else if(1<je){Fe=Array(je);for(var mt=0;mt<je;mt++)Fe[mt]=arguments[mt+2];Te.children=Fe}return{$$typeof:i,type:V.type,key:Se,ref:Ae,props:Te,_owner:Me}},Ie.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},Ie.createElement=T,Ie.createFactory=function(V){var q=T.bind(null,V);return q.type=V,q},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=k,Ie.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Pt}},Ie.memo=function(V,q){return{$$typeof:_,type:V,compare:q===void 0?null:q}},Ie.startTransition=function(V){var q=ee.transition;ee.transition={};try{V()}finally{ee.transition=q}},Ie.unstable_act=re,Ie.useCallback=function(V,q){return ze.current.useCallback(V,q)},Ie.useContext=function(V){return ze.current.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V){return ze.current.useDeferredValue(V)},Ie.useEffect=function(V,q){return ze.current.useEffect(V,q)},Ie.useId=function(){return ze.current.useId()},Ie.useImperativeHandle=function(V,q,he){return ze.current.useImperativeHandle(V,q,he)},Ie.useInsertionEffect=function(V,q){return ze.current.useInsertionEffect(V,q)},Ie.useLayoutEffect=function(V,q){return ze.current.useLayoutEffect(V,q)},Ie.useMemo=function(V,q){return ze.current.useMemo(V,q)},Ie.useReducer=function(V,q,he){return ze.current.useReducer(V,q,he)},Ie.useRef=function(V){return ze.current.useRef(V)},Ie.useState=function(V){return ze.current.useState(V)},Ie.useSyncExternalStore=function(V,q,he){return ze.current.useSyncExternalStore(V,q,he)},Ie.useTransition=function(){return ze.current.useTransition()},Ie.version="18.3.1",Ie}var ap;function Ch(){return ap||(ap=1,Bc.exports=qy()),Bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Wy(){if(lp)return bo;lp=1;var i=Ch(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,_){var w,R={},A=null,F=null;_!==void 0&&(A=""+_),y.key!==void 0&&(A=""+y.key),y.ref!==void 0&&(F=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:A,ref:F,props:R,_owner:a.current}}return bo.Fragment=n,bo.jsx=f,bo.jsxs=f,bo}var up;function Ky(){return up||(up=1,zc.exports=Wy()),zc.exports}var ue=Ky(),H=Ch(),Rl={},jc={exports:{}},Qt={},bc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function Qy(){return cp||(cp=1,function(i){function e(ee,de){var re=ee.length;ee.push(de);e:for(;0<re;){var V=re-1>>>1,q=ee[V];if(0<a(q,de))ee[V]=de,ee[re]=q,re=V;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],re=ee.pop();if(re!==de){ee[0]=re;e:for(var V=0,q=ee.length,he=q>>>1;V<he;){var Te=2*(V+1)-1,Se=ee[Te],Ae=Te+1,Me=ee[Ae];if(0>a(Se,re))Ae<q&&0>a(Me,Se)?(ee[V]=Me,ee[Ae]=re,V=Ae):(ee[V]=Se,ee[Te]=re,V=Te);else if(Ae<q&&0>a(Me,re))ee[V]=Me,ee[Ae]=re,V=Ae;else break e}}return de}function a(ee,de){var re=ee.sortIndex-de.sortIndex;return re!==0?re:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],_=[],w=1,R=null,A=3,F=!1,B=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ee){for(var de=n(_);de!==null;){if(de.callback===null)s(_);else if(de.startTime<=ee)s(_),de.sortIndex=de.expirationTime,e(y,de);else break;de=n(_)}}function fe(ee){if($=!1,oe(ee),!B)if(n(y)!==null)B=!0,Pt(Ce);else{var de=n(_);de!==null&&ze(fe,de.startTime-ee)}}function Ce(ee,de){B=!1,$&&($=!1,G(T),T=-1),F=!0;var re=A;try{for(oe(de),R=n(y);R!==null&&(!(R.expirationTime>de)||ee&&!D());){var V=R.callback;if(typeof V=="function"){R.callback=null,A=R.priorityLevel;var q=V(R.expirationTime<=de);de=i.unstable_now(),typeof q=="function"?R.callback=q:R===n(y)&&s(y),oe(de)}else s(y);R=n(y)}if(R!==null)var he=!0;else{var Te=n(_);Te!==null&&ze(fe,Te.startTime-de),he=!1}return he}finally{R=null,A=re,F=!1}}var we=!1,x=null,T=-1,I=5,k=-1;function D(){return!(i.unstable_now()-k<I)}function L(){if(x!==null){var ee=i.unstable_now();k=ee;var de=!0;try{de=x(!0,ee)}finally{de?C():(we=!1,x=null)}}else we=!1}var C;if(typeof X=="function")C=function(){X(L)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,At=et.port2;et.port1.onmessage=L,C=function(){At.postMessage(null)}}else C=function(){j(L,0)};function Pt(ee){x=ee,we||(we=!0,C())}function ze(ee,de){T=j(function(){ee(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){B||F||(B=!0,Pt(Ce))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var re=A;A=de;try{return ee()}finally{A=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=A;A=ee;try{return de()}finally{A=re}},i.unstable_scheduleCallback=function(ee,de,re){var V=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=re+q,ee={id:w++,callback:de,priorityLevel:ee,startTime:re,expirationTime:q,sortIndex:-1},re>V?(ee.sortIndex=re,e(_,ee),n(y)===null&&ee===n(_)&&($?(G(T),T=-1):$=!0,ze(fe,re-V))):(ee.sortIndex=q,e(y,ee),B||F||(B=!0,Pt(Ce))),ee},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ee){var de=A;return function(){var re=A;A=de;try{return ee.apply(this,arguments)}finally{A=re}}}}($c)),$c}var hp;function Gy(){return hp||(hp=1,bc.exports=Qy()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Yy(){if(fp)return Qt;fp=1;var i=Ch(),e=Gy();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function A(t){return y.call(R,t)?!0:y.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,X);j[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,X);j[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,X);j[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function oe(t,r,o,u){var h=j.hasOwnProperty(r)?j[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(B(r,o,h,u)&&(o=null),u||h===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),we=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,V;function q(t){if(V===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||""}return`
`+V+t}var he=!1;function Te(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){u=z}t.call(r.prototype)}else{try{throw Error()}catch(z){u=z}t()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,S=p.length-1;1<=v&&0<=S&&h[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==p[S]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?q(t):""}function Se(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case we:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case et:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return r=t.displayName||null,r!==null?r:Ae(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Ae(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qn(t){t._valueTracker||(t._valueTracker=mt(t))}function Li(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jr(t,r){var o=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Oi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ks(t,r){r=r.checked,r!=null&&oe(t,"checked",r,!1)}function Qs(t,r){Ks(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Mi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Mi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ha(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Mi(t,r,o){(r!=="number"||gr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Yn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Gs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Ui(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ys(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Xs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function yr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){ei.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zr[r]=Zr[t]})});function Js(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+r).trim():r+"px"}function Zs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Js(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var eo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(t,r){if(r){if(eo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function no(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,sn=null,xn=null;function ji(t){if(t=Ao(t)){if(typeof Bi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ja(r),Bi(t.stateNode,t.type,r))}}function Nn(t){sn?xn?xn.push(t):xn=[t]:sn=t}function ro(){if(sn){var t=sn,r=xn;if(xn=sn=null,ji(t),r)for(t=0;t<r.length;t++)ji(r[t])}}function ni(t,r){return t(r)}function io(){}var Jn=!1;function so(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ni(t,r,o)}finally{Jn=!1,(sn!==null||xn!==null)&&(io(),ro())}}function tt(t,r){var o=t.stateNode;if(o===null)return null;var u=ja(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var bi=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{bi=!1}function ri(t,r,o,u,h,p,v,S,P){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(Q){this.onError(Q)}}var ii=!1,$i=null,gn=!1,oo=null,du={onError:function(t){ii=!0,$i=t}};function Hi(t,r,o,u,h,p,v,S,P){ii=!1,$i=null,ri.apply(du,arguments)}function fa(t,r,o,u,h,p,v,S,P){if(Hi.apply(this,arguments),ii){if(ii){var z=$i;ii=!1,$i=null}else throw Error(n(198));gn||(gn=!0,oo=z)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function si(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(yn(t)!==t)throw Error(n(188))}function da(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=p;break}if(S===u){v=!0,u=h,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=h;break}if(S===u){v=!0,u=p,o=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ao(t){return t=da(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Wi=e.unstable_scheduleCallback,lo=e.unstable_cancelCallback,pa=e.unstable_shouldYield,pu=e.unstable_requestPaint,be=e.unstable_now,ma=e.unstable_getCurrentPriorityLevel,oi=e.unstable_ImmediatePriority,vr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,uo=e.unstable_LowPriority,ga=e.unstable_IdlePriority,ai=null,Xt=null;function ya(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:_a,co=Math.log,va=Math.LN2;function _a(t){return t>>>=0,t===0?32:31-(co(t)/va|0)|0}var Ki=64,Qi=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=_r(S):(p&=v,p!==0&&(u=_r(p)))}else v=o&~h,v!==0?u=_r(v):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function mu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Mt(p),S=1<<v,P=h[v];P===-1?(!(S&o)||S&u)&&(h[v]=mu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ui(){var t=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),t}function Er(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function wr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Tr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Re=0;function Sr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ea,Gi,wa,Ta,Sa,ho=!1,Dn=[],wt=null,_n=null,En=null,Ir=new Map,an=new Map,Vn=[],gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ia(t,r){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ao(r),r!==null&&Gi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yu(t,r,o,u,h){switch(r){case"focusin":return wt=jt(wt,t,r,o,u,h),!0;case"dragenter":return _n=jt(_n,t,r,o,u,h),!0;case"mouseover":return En=jt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,jt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ca(t){var r=pi(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=si(o),r!==null){t.blockedOn=r,Sa(t.priority,function(){wa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Yi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ti=u,o.target.dispatchEvent(u),ti=null}else return r=Ao(o),r!==null&&Gi(r),t.blockedOn=o,!1;r.shift()}return!0}function ci(t,r,o){er(t)&&o.delete(r)}function Ra(){ho=!1,wt!==null&&er(wt)&&(wt=null),_n!==null&&er(_n)&&(_n=null),En!==null&&er(En)&&(En=null),Ir.forEach(ci),an.forEach(ci)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,ho||(ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ra)))}function Tn(t){function r(h){return wn(h,t)}if(0<Dn.length){wn(Dn[0],t);for(var o=1;o<Dn.length;o++){var u=Dn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&wn(wt,t),_n!==null&&wn(_n,t),En!==null&&wn(En,t),Ir.forEach(r),an.forEach(r),o=0;o<Vn.length;o++)u=Vn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Ca(o),o.blockedOn===null&&Vn.shift()}var tr=fe.ReactCurrentBatchConfig,Cr=!0;function We(t,r,o,u){var h=Re,p=tr.transition;tr.transition=null;try{Re=1,fo(t,r,o,u)}finally{Re=h,tr.transition=p}}function vu(t,r,o,u){var h=Re,p=tr.transition;tr.transition=null;try{Re=4,fo(t,r,o,u)}finally{Re=h,tr.transition=p}}function fo(t,r,o,u){if(Cr){var h=Yi(t,r,o,u);if(h===null)ku(t,r,u,hi,o),Ia(t,u);else if(yu(h,t,r,o,u))u.stopPropagation();else if(Ia(t,u),r&4&&-1<gu.indexOf(t)){for(;h!==null;){var p=Ao(h);if(p!==null&&Ea(p),p=Yi(t,r,o,u),p===null&&ku(t,r,u,hi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else ku(t,r,u,null,o)}}var hi=null;function Yi(t,r,o,u){if(hi=null,t=zi(u),t=pi(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=si(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return hi=t,null}function po(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ma()){case oi:return 1;case vr:return 4;case on:case uo:return 16;case ga:return 536870912;default:return 16}default:return 16}}var Zt=null,Xi=null,bt=null;function mo(){if(bt)return bt;var t,r=Xi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Ji(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function go(){return!1}function Tt(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ln:go,this.isPropagationStopped=go,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Tt(Sn),On=re({},Sn,{view:0,detail:0}),_u=Tt(On),es,nr,Rr,fi=re({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(es=t.screenX-Rr.screenX,nr=t.screenY-Rr.screenY):nr=es=0,Rr=t),es)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),ts=Tt(fi),yo=re({},fi,{dataTransfer:0}),Aa=Tt(yo),ns=re({},On,{relatedTarget:0}),rs=Tt(ns),Pa=re({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=Tt(Pa),ka=re({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=Tt(ka),Na=re({},Sn,{data:0}),vo=Tt(Na),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Va(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Da[t])?!!r[t]:!1}function Mn(){return Va}var l=re({},On,{key:function(t){if(t.key){var r=is[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return t.type==="keypress"?Ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Tt(l),g=re({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Tt(g),O=re({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),b=Tt(O),Z=re({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Tt(Z),ct=re({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Tt(ct),gt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,di=m&&(!st||ln&&8<ln&&11>=ln),ss=" ",Zh=!1;function ef(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function $g(t,r){switch(t){case"compositionend":return tf(r);case"keypress":return r.which!==32?null:(Zh=!0,ss);case"textInput":return t=r.data,t===ss&&Zh?null:t;default:return null}}function Hg(t,r){if(os)return t==="compositionend"||!st&&ef(t,r)?(t=mo(),bt=Xi=Zt=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return di&&r.locale!=="ko"?null:r.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qg[t.type]:r==="textarea"}function rf(t,r,o,u){Nn(u),r=Ua(r,"onChange"),0<r.length&&(o=new Zi("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var _o=null,Eo=null;function Wg(t){Tf(t,0)}function La(t){var r=hs(t);if(Li(r))return t}function Kg(t,r){if(t==="change")return r}var sf=!1;if(m){var Eu;if(m){var wu="oninput"in document;if(!wu){var of=document.createElement("div");of.setAttribute("oninput","return;"),wu=typeof of.oninput=="function"}Eu=wu}else Eu=!1;sf=Eu&&(!document.documentMode||9<document.documentMode)}function af(){_o&&(_o.detachEvent("onpropertychange",lf),Eo=_o=null)}function lf(t){if(t.propertyName==="value"&&La(Eo)){var r=[];rf(r,Eo,t,zi(t)),so(Wg,r)}}function Qg(t,r,o){t==="focusin"?(af(),_o=r,Eo=o,_o.attachEvent("onpropertychange",lf)):t==="focusout"&&af()}function Gg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(Eo)}function Yg(t,r){if(t==="click")return La(r)}function Xg(t,r){if(t==="input"||t==="change")return La(r)}function Jg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:Jg;function wo(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!In(t[h],r[h]))return!1}return!0}function uf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cf(t,r){var o=uf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uf(o)}}function hf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?hf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ff(){for(var t=window,r=gr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=gr(t.document)}return r}function Tu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Zg(t){var r=ff(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&hf(o.ownerDocument.documentElement,o)){if(u!==null&&Tu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=cf(o,p);var v=cf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ey=m&&"documentMode"in document&&11>=document.documentMode,as=null,Su=null,To=null,Iu=!1;function df(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Iu||as==null||as!==gr(u)||(u=as,"selectionStart"in u&&Tu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),To&&wo(To,u)||(To=u,u=Ua(Su,"onSelect"),0<u.length&&(r=new Zi("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=as)))}function Oa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ls={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},Cu={},pf={};m&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Ma(t){if(Cu[t])return Cu[t];if(!ls[t])return t;var r=ls[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in pf)return Cu[t]=r[o];return t}var mf=Ma("animationend"),gf=Ma("animationiteration"),yf=Ma("animationstart"),vf=Ma("transitionend"),_f=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){_f.set(t,r),c(r,[t])}for(var Ru=0;Ru<Ef.length;Ru++){var Au=Ef[Ru],ty=Au.toLowerCase(),ny=Au[0].toUpperCase()+Au.slice(1);Ar(ty,"on"+ny)}Ar(mf,"onAnimationEnd"),Ar(gf,"onAnimationIteration"),Ar(yf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(vf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function wf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,fa(u,r,void 0,t),t.currentTarget=null}function Tf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],P=S.instance,z=S.currentTarget;if(S=S.listener,P!==p&&h.isPropagationStopped())break e;wf(h,S,z),p=P}else for(v=0;v<u.length;v++){if(S=u[v],P=S.instance,z=S.currentTarget,S=S.listener,P!==p&&h.isPropagationStopped())break e;wf(h,S,z),p=P}}}if(gn)throw t=oo,gn=!1,oo=null,t}function He(t,r){var o=r[Ou];o===void 0&&(o=r[Ou]=new Set);var u=t+"__bubble";o.has(u)||(Sf(r,t,2,!1),o.add(u))}function Pu(t,r,o){var u=0;r&&(u|=4),Sf(o,t,u,r)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[Fa]){t[Fa]=!0,s.forEach(function(o){o!=="selectionchange"&&(ry.has(o)||Pu(o,!1,t),Pu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Fa]||(r[Fa]=!0,Pu("selectionchange",!1,r))}}function Sf(t,r,o,u){switch(po(r)){case 1:var h=We;break;case 4:h=vu;break;default:h=fo}o=h.bind(null,r,o,t),h=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function ku(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;S!==null;){if(v=pi(S),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}S=S.parentNode}}u=u.return}so(function(){var z=p,Q=zi(o),Y=[];e:{var K=_f.get(t);if(K!==void 0){var ne=Zi,ae=t;switch(t){case"keypress":if(Ji(o)===0)break e;case"keydown":case"keyup":ne=d;break;case"focusin":ae="focus",ne=rs;break;case"focusout":ae="blur",ne=rs;break;case"beforeblur":case"afterblur":ne=rs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=b;break;case mf:case gf:case yf:ne=rr;break;case vf:ne=Ue;break;case"scroll":ne=_u;break;case"wheel":ne=Pe;break;case"copy":case"cut":case"paste":ne=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var le=(r&4)!==0,nt=!le&&t==="scroll",M=le?K!==null?K+"Capture":null:K;le=[];for(var N=z,U;N!==null;){U=N;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,M!==null&&(J=tt(N,M),J!=null&&le.push(Co(N,J,U)))),nt)break;N=N.return}0<le.length&&(K=new ne(K,ae,null,o,Q),Y.push({event:K,listeners:le}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",K&&o!==ti&&(ae=o.relatedTarget||o.fromElement)&&(pi(ae)||ae[ir]))break e;if((ne||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,ne?(ae=o.relatedTarget||o.toElement,ne=z,ae=ae?pi(ae):null,ae!==null&&(nt=yn(ae),ae!==nt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=z),ne!==ae)){if(le=ts,J="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,J="onPointerLeave",M="onPointerEnter",N="pointer"),nt=ne==null?K:hs(ne),U=ae==null?K:hs(ae),K=new le(J,N+"leave",ne,o,Q),K.target=nt,K.relatedTarget=U,J=null,pi(Q)===z&&(le=new le(M,N+"enter",ae,o,Q),le.target=U,le.relatedTarget=nt,J=le),nt=J,ne&&ae)t:{for(le=ne,M=ae,N=0,U=le;U;U=us(U))N++;for(U=0,J=M;J;J=us(J))U++;for(;0<N-U;)le=us(le),N--;for(;0<U-N;)M=us(M),U--;for(;N--;){if(le===M||M!==null&&le===M.alternate)break t;le=us(le),M=us(M)}le=null}else le=null;ne!==null&&If(Y,K,ne,le,!1),ae!==null&&nt!==null&&If(Y,nt,ae,le,!0)}}e:{if(K=z?hs(z):window,ne=K.nodeName&&K.nodeName.toLowerCase(),ne==="select"||ne==="input"&&K.type==="file")var ce=Kg;else if(nf(K))if(sf)ce=Xg;else{ce=Gg;var pe=Qg}else(ne=K.nodeName)&&ne.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ce=Yg);if(ce&&(ce=ce(t,z))){rf(Y,ce,o,Q);break e}pe&&pe(t,K,z),t==="focusout"&&(pe=K._wrapperState)&&pe.controlled&&K.type==="number"&&Mi(K,"number",K.value)}switch(pe=z?hs(z):window,t){case"focusin":(nf(pe)||pe.contentEditable==="true")&&(as=pe,Su=z,To=null);break;case"focusout":To=Su=as=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,df(Y,o,Q);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":df(Y,o,Q)}var me;if(st)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else os?ef(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(di&&o.locale!=="ko"&&(os||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&os&&(me=mo()):(Zt=Q,Xi="value"in Zt?Zt.value:Zt.textContent,os=!0)),pe=Ua(z,ve),0<pe.length&&(ve=new vo(ve,t,null,o,Q),Y.push({event:ve,listeners:pe}),me?ve.data=me:(me=tf(o),me!==null&&(ve.data=me)))),(me=en?$g(t,o):Hg(t,o))&&(z=Ua(z,"onBeforeInput"),0<z.length&&(Q=new vo("onBeforeInput","beforeinput",null,o,Q),Y.push({event:Q,listeners:z}),Q.data=me))}Tf(Y,r)})}function Co(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ua(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=tt(t,o),p!=null&&u.unshift(Co(t,p,h)),p=tt(t,r),p!=null&&u.push(Co(t,p,h))),t=t.return}return u}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function If(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,P=S.alternate,z=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&z!==null&&(S=z,h?(P=tt(o,p),P!=null&&v.unshift(Co(o,P,S))):h||(P=tt(o,p),P!=null&&v.push(Co(o,P,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var iy=/\r\n?/g,sy=/\u0000|\uFFFD/g;function Cf(t){return(typeof t=="string"?t:""+t).replace(iy,`
`).replace(sy,"")}function za(t,r,o){if(r=Cf(r),Cf(t)!==r&&o)throw Error(n(425))}function Ba(){}var xu=null,Nu=null;function Du(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vu=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(t){return Rf.resolve(null).then(t).catch(ly)}:Vu;function ly(t){setTimeout(function(){throw t})}function Lu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Pr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Af(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Fn="__reactFiber$"+cs,Ro="__reactProps$"+cs,ir="__reactContainer$"+cs,Ou="__reactEvents$"+cs,uy="__reactListeners$"+cs,cy="__reactHandles$"+cs;function pi(t){var r=t[Fn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[Fn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Af(t);t!==null;){if(o=t[Fn])return o;t=Af(t)}return r}t=o,o=t.parentNode}return null}function Ao(t){return t=t[Fn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ja(t){return t[Ro]||null}var Mu=[],fs=-1;function kr(t){return{current:t}}function qe(t){0>fs||(t.current=Mu[fs],Mu[fs]=null,fs--)}function $e(t,r){fs++,Mu[fs]=t.current,t.current=r}var xr={},kt=kr(xr),$t=kr(!1),mi=xr;function ds(t,r){var o=t.type.contextTypes;if(!o)return xr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function ba(){qe($t),qe(kt)}function Pf(t,r,o){if(kt.current!==xr)throw Error(n(168));$e(kt,r),$e($t,o)}function kf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return re({},o,u)}function $a(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,mi=kt.current,$e(kt,t),$e($t,$t.current),!0}function xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=kf(t,r,mi),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(kt),$e(kt,t)):qe($t),$e($t,o)}var sr=null,Ha=!1,Fu=!1;function Nf(t){sr===null?sr=[t]:sr.push(t)}function hy(t){Ha=!0,Nf(t)}function Nr(){if(!Fu&&sr!==null){Fu=!0;var t=0,r=Re;try{var o=sr;for(Re=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,Ha=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Wi(oi,Nr),h}finally{Re=r,Fu=!1}}return null}var ps=[],ms=0,qa=null,Wa=0,un=[],cn=0,gi=null,or=1,ar="";function yi(t,r){ps[ms++]=Wa,ps[ms++]=qa,qa=t,Wa=r}function Df(t,r,o){un[cn++]=or,un[cn++]=ar,un[cn++]=gi,gi=t;var u=or;t=ar;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,or=1<<32-Mt(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Uu(t){t.return!==null&&(yi(t,1),Df(t,1,0))}function zu(t){for(;t===qa;)qa=ps[--ms],ps[ms]=null,Wa=ps[--ms],ps[ms]=null;for(;t===gi;)gi=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function Vf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Lf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Pr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=gi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ju(t){if(Ke){var r=nn;if(r){var o=r;if(!Lf(t,r)){if(Bu(t))throw Error(n(418));r=Pr(o.nextSibling);var u=tn;r&&Lf(t,r)?Vf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Bu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function Of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ka(t){if(t!==tn)return!1;if(!Ke)return Of(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Du(t.type,t.memoizedProps)),r&&(r=nn)){if(Bu(t))throw Mf(),Error(n(418));for(;r;)Vf(t,r),r=Pr(r.nextSibling)}if(Of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Pr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Pr(t.stateNode.nextSibling):null;return!0}function Mf(){for(var t=nn;t;)t=Pr(t.nextSibling)}function gs(){nn=tn=null,Ke=!1}function bu(t){Cn===null?Cn=[t]:Cn.push(t)}var fy=fe.ReactCurrentBatchConfig;function Po(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=h.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Qa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Ff(t){var r=t._init;return r(t._payload)}function Uf(t){function r(M,N){if(t){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function o(M,N){if(!t)return null;for(;N!==null;)r(M,N),N=N.sibling;return null}function u(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function h(M,N){return M=zr(M,N),M.index=0,M.sibling=null,M}function p(M,N,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=2,N):U):(M.flags|=2,N)):(M.flags|=1048576,N)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function S(M,N,U,J){return N===null||N.tag!==6?(N=Vc(U,M.mode,J),N.return=M,N):(N=h(N,U),N.return=M,N)}function P(M,N,U,J){var ce=U.type;return ce===x?Q(M,N,U.props.children,J,U.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Pt&&Ff(ce)===N.type)?(J=h(N,U.props),J.ref=Po(M,N,U),J.return=M,J):(J=vl(U.type,U.key,U.props,null,M.mode,J),J.ref=Po(M,N,U),J.return=M,J)}function z(M,N,U,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Lc(U,M.mode,J),N.return=M,N):(N=h(N,U.children||[]),N.return=M,N)}function Q(M,N,U,J,ce){return N===null||N.tag!==7?(N=Ci(U,M.mode,J,ce),N.return=M,N):(N=h(N,U),N.return=M,N)}function Y(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Vc(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return U=vl(N.type,N.key,N.props,null,M.mode,U),U.ref=Po(M,null,N),U.return=M,U;case we:return N=Lc(N,M.mode,U),N.return=M,N;case Pt:var J=N._init;return Y(M,J(N._payload),U)}if(Gn(N)||de(N))return N=Ci(N,M.mode,U,null),N.return=M,N;Qa(M,N)}return null}function K(M,N,U,J){var ce=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ce!==null?null:S(M,N,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===ce?P(M,N,U,J):null;case we:return U.key===ce?z(M,N,U,J):null;case Pt:return ce=U._init,K(M,N,ce(U._payload),J)}if(Gn(U)||de(U))return ce!==null?null:Q(M,N,U,J,null);Qa(M,U)}return null}function ne(M,N,U,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(U)||null,S(N,M,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ce:return M=M.get(J.key===null?U:J.key)||null,P(N,M,J,ce);case we:return M=M.get(J.key===null?U:J.key)||null,z(N,M,J,ce);case Pt:var pe=J._init;return ne(M,N,U,pe(J._payload),ce)}if(Gn(J)||de(J))return M=M.get(U)||null,Q(N,M,J,ce,null);Qa(N,J)}return null}function ae(M,N,U,J){for(var ce=null,pe=null,me=N,ve=N=0,_t=null;me!==null&&ve<U.length;ve++){me.index>ve?(_t=me,me=null):_t=me.sibling;var Oe=K(M,me,U[ve],J);if(Oe===null){me===null&&(me=_t);break}t&&me&&Oe.alternate===null&&r(M,me),N=p(Oe,N,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe,me=_t}if(ve===U.length)return o(M,me),Ke&&yi(M,ve),ce;if(me===null){for(;ve<U.length;ve++)me=Y(M,U[ve],J),me!==null&&(N=p(me,N,ve),pe===null?ce=me:pe.sibling=me,pe=me);return Ke&&yi(M,ve),ce}for(me=u(M,me);ve<U.length;ve++)_t=ne(me,M,ve,U[ve],J),_t!==null&&(t&&_t.alternate!==null&&me.delete(_t.key===null?ve:_t.key),N=p(_t,N,ve),pe===null?ce=_t:pe.sibling=_t,pe=_t);return t&&me.forEach(function(Br){return r(M,Br)}),Ke&&yi(M,ve),ce}function le(M,N,U,J){var ce=de(U);if(typeof ce!="function")throw Error(n(150));if(U=ce.call(U),U==null)throw Error(n(151));for(var pe=ce=null,me=N,ve=N=0,_t=null,Oe=U.next();me!==null&&!Oe.done;ve++,Oe=U.next()){me.index>ve?(_t=me,me=null):_t=me.sibling;var Br=K(M,me,Oe.value,J);if(Br===null){me===null&&(me=_t);break}t&&me&&Br.alternate===null&&r(M,me),N=p(Br,N,ve),pe===null?ce=Br:pe.sibling=Br,pe=Br,me=_t}if(Oe.done)return o(M,me),Ke&&yi(M,ve),ce;if(me===null){for(;!Oe.done;ve++,Oe=U.next())Oe=Y(M,Oe.value,J),Oe!==null&&(N=p(Oe,N,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe);return Ke&&yi(M,ve),ce}for(me=u(M,me);!Oe.done;ve++,Oe=U.next())Oe=ne(me,M,ve,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?ve:Oe.key),N=p(Oe,N,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(Hy){return r(M,Hy)}),Ke&&yi(M,ve),ce}function nt(M,N,U,J){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var ce=U.key,pe=N;pe!==null;){if(pe.key===ce){if(ce=U.type,ce===x){if(pe.tag===7){o(M,pe.sibling),N=h(pe,U.props.children),N.return=M,M=N;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Pt&&Ff(ce)===pe.type){o(M,pe.sibling),N=h(pe,U.props),N.ref=Po(M,pe,U),N.return=M,M=N;break e}o(M,pe);break}else r(M,pe);pe=pe.sibling}U.type===x?(N=Ci(U.props.children,M.mode,J,U.key),N.return=M,M=N):(J=vl(U.type,U.key,U.props,null,M.mode,J),J.ref=Po(M,N,U),J.return=M,M=J)}return v(M);case we:e:{for(pe=U.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){o(M,N.sibling),N=h(N,U.children||[]),N.return=M,M=N;break e}else{o(M,N);break}else r(M,N);N=N.sibling}N=Lc(U,M.mode,J),N.return=M,M=N}return v(M);case Pt:return pe=U._init,nt(M,N,pe(U._payload),J)}if(Gn(U))return ae(M,N,U,J);if(de(U))return le(M,N,U,J);Qa(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(o(M,N.sibling),N=h(N,U),N.return=M,M=N):(o(M,N),N=Vc(U,M.mode,J),N.return=M,M=N),v(M)):o(M,N)}return nt}var ys=Uf(!0),zf=Uf(!1),Ga=kr(null),Ya=null,vs=null,$u=null;function Hu(){$u=vs=Ya=null}function qu(t){var r=Ga.current;qe(Ga),t._currentValue=r}function Wu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){Ya=t,$u=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:r,next:null},vs===null){if(Ya===null)throw Error(n(308));vs=t,Ya.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return r}var vi=null;function Ku(t){vi===null?vi=[t]:vi.push(t)}function Bf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Ku(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ve&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,Ku(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Xa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}function bf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ja(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,z=P.next;P.next=null,v===null?p=z:v.next=z,v=P;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=z:S.next=z,Q.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;v=0,Q=z=P=null,S=p;do{var K=S.lane,ne=S.eventTime;if((u&K)===K){Q!==null&&(Q=Q.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(K=r,ne=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(ne,Y,K);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,K=typeof ae=="function"?ae.call(ne,Y,K):ae,K==null)break e;Y=re({},Y,K);break e;case 2:Dr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else ne={eventTime:ne,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(z=Q=ne,P=Y):Q=Q.next=ne,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(Q===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);wi|=v,t.lanes=v,t.memoizedState=Y}}function $f(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var ko={},Un=kr(ko),xo=kr(ko),No=kr(ko);function _i(t){if(t===ko)throw Error(n(174));return t}function Gu(t,r){switch($e(No,r),$e(xo,t),$e(Un,ko),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe(Un),$e(Un,r)}function Es(){qe(Un),qe(xo),qe(No)}function Hf(t){_i(No.current);var r=_i(Un.current),o=ut(r,t.type);r!==o&&($e(xo,t),$e(Un,o))}function Yu(t){xo.current===t&&(qe(Un),qe(xo))}var Qe=kr(0);function Za(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xu=[];function Ju(){for(var t=0;t<Xu.length;t++)Xu[t]._workInProgressVersionPrimary=null;Xu.length=0}var el=fe.ReactCurrentDispatcher,Zu=fe.ReactCurrentBatchConfig,Ei=0,Ge=null,ht=null,yt=null,tl=!1,Do=!1,Vo=0,dy=0;function xt(){throw Error(n(321))}function ec(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function tc(t,r,o,u,h,p){if(Ei=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,el.current=t===null||t.memoizedState===null?yy:vy,t=o(u,h),Do){p=0;do{if(Do=!1,Vo=0,25<=p)throw Error(n(301));p+=1,yt=ht=null,r.updateQueue=null,el.current=_y,t=o(u,h)}while(Do)}if(el.current=il,r=ht!==null&&ht.next!==null,Ei=0,yt=ht=Ge=null,tl=!1,r)throw Error(n(300));return t}function nc(){var t=Vo!==0;return Vo=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ge.memoizedState=yt=t:yt=yt.next=t,yt}function fn(){if(ht===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=yt===null?Ge.memoizedState:yt.next;if(r!==null)yt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ge.memoizedState=yt=t:yt=yt.next=t}return yt}function Lo(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=v=null,P=null,z=p;do{var Q=z.lane;if((Ei&Q)===Q)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:t(u,z.action);else{var Y={lane:Q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(S=P=Y,v=u):P=P.next=Y,Ge.lanes|=Q,wi|=Q}z=z.next}while(z!==null&&z!==p);P===null?v=u:P.next=S,In(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ge.lanes|=p,wi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ic(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);In(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function qf(){}function Wf(t,r){var o=Ge,u=fn(),h=r(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,sc(Gf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Oo(9,Qf.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Ei&30||Kf(o,r,h)}return h}function Kf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Qf(t,r,o,u){r.value=o,r.getSnapshot=u,Yf(r)&&Xf(t)}function Gf(t,r,o){return o(function(){Yf(r)&&Xf(t)})}function Yf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function Xf(t){var r=lr(t,1);r!==null&&kn(r,t,1,-1)}function Jf(t){var r=zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},r.queue=t,t=t.dispatch=gy.bind(null,Ge,t),[r.memoizedState,t]}function Oo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Zf(){return fn().memoizedState}function nl(t,r,o,u){var h=zn();Ge.flags|=t,h.memoizedState=Oo(1|r,o,void 0,u===void 0?null:u)}function rl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,u!==null&&ec(u,v.deps)){h.memoizedState=Oo(r,o,p,u);return}}Ge.flags|=t,h.memoizedState=Oo(1|r,o,p,u)}function ed(t,r){return nl(8390656,8,t,r)}function sc(t,r){return rl(2048,8,t,r)}function td(t,r){return rl(4,2,t,r)}function nd(t,r){return rl(4,4,t,r)}function rd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function id(t,r,o){return o=o!=null?o.concat([t]):null,rl(4,4,rd.bind(null,r,t),o)}function oc(){}function sd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function od(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function ad(t,r,o){return Ei&21?(In(o,r)||(o=ui(),Ge.lanes|=o,wi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function py(t,r){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var u=Zu.transition;Zu.transition={};try{t(!1),r()}finally{Re=o,Zu.transition=u}}function ld(){return fn().memoizedState}function my(t,r,o){var u=Fr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ud(t))cd(r,o);else if(o=Bf(t,r,o,u),o!==null){var h=zt();kn(o,t,u,h),hd(o,r,u)}}function gy(t,r,o){var u=Fr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ud(t))cd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(h.hasEagerState=!0,h.eagerState=S,In(S,v)){var P=r.interleaved;P===null?(h.next=h,Ku(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=Bf(t,r,h,u),o!==null&&(h=zt(),kn(o,t,u,h),hd(o,r,u))}}function ud(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function cd(t,r){Do=tl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function hd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}var il={readContext:hn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},yy={readContext:hn,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:ed,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,nl(4194308,4,rd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return nl(4194308,4,t,r)},useInsertionEffect:function(t,r){return nl(4,2,t,r)},useMemo:function(t,r){var o=zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=zn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=my.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:Jf,useDebugValue:oc,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Jf(!1),r=t[0];return t=py.bind(null,t[1]),zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ge,h=zn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Ei&30||Kf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ed(Gf.bind(null,u,p,t),[t]),u.flags|=2048,Oo(9,Qf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=zn(),r=vt.identifierPrefix;if(Ke){var o=ar,u=or;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Vo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=dy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},vy={readContext:hn,useCallback:sd,useContext:hn,useEffect:sc,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:rc,useRef:Zf,useState:function(){return rc(Lo)},useDebugValue:oc,useDeferredValue:function(t){var r=fn();return ad(r,ht.memoizedState,t)},useTransition:function(){var t=rc(Lo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:qf,useSyncExternalStore:Wf,useId:ld,unstable_isNewReconciler:!1},_y={readContext:hn,useCallback:sd,useContext:hn,useEffect:sc,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:ic,useRef:Zf,useState:function(){return ic(Lo)},useDebugValue:oc,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:ad(r,ht.memoizedState,t)},useTransition:function(){var t=ic(Lo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:qf,useSyncExternalStore:Wf,useId:ld,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function ac(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var sl={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Fr(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Fr(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Fr(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Vr(t,h,u),r!==null&&(kn(r,t,u,o),Xa(r,t,u))}};function fd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!wo(o,u)||!wo(h,p):!0}function dd(t,r,o){var u=!1,h=xr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=Ht(r)?mi:kt.current,u=r.contextTypes,p=(u=u!=null)?ds(t,h):xr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=sl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function pd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&sl.enqueueReplaceState(r,r.state,null)}function lc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Qu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=Ht(r)?mi:kt.current,h.context=ds(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ac(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&sl.enqueueReplaceState(h,h.state,null),Ja(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ws(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function uc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function cc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Ey=typeof WeakMap=="function"?WeakMap:Map;function md(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){fl||(fl=!0,Cc=u),cc(t,r)},o}function gd(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){cc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){cc(t,r),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function yd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Ey;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Ly.bind(null,t,r,o),r.then(t,t))}function vd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function _d(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Vr(o,r,1))),o.lanes|=1),t)}var wy=fe.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?zf(r,null,o,u):ys(r,t.child,o,u)}function Ed(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=tc(t,r,o,u,p,h),o=nc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&o&&Uu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function wd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Dc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Td(t,r,p,u,h)):(t=vl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(v,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=zr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Td(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(wo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return hc(t,r,o,u,h)}function Sd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ss,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(Ss,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(Ss,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(Ss,rn),rn|=u;return Ut(t,r,h,o),r.child}function Id(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function hc(t,r,o,u,h){var p=Ht(o)?mi:kt.current;return p=ds(r,p),_s(r,h),o=tc(t,r,o,u,p,h),u=nc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&u&&Uu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Cd(t,r,o,u,h){if(Ht(o)){var p=!0;$a(r)}else p=!1;if(_s(r,h),r.stateNode===null)al(t,r),dd(r,o,u),lc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var P=v.context,z=o.contextType;typeof z=="object"&&z!==null?z=hn(z):(z=Ht(o)?mi:kt.current,z=ds(r,z));var Q=o.getDerivedStateFromProps,Y=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||P!==z)&&pd(r,v,u,z),Dr=!1;var K=r.memoizedState;v.state=K,Ja(r,u,v,h),P=r.memoizedState,S!==u||K!==P||$t.current||Dr?(typeof Q=="function"&&(ac(r,o,Q,u),P=r.memoizedState),(S=Dr||fd(r,o,S,u,K,P,z))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=z,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,jf(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:Rn(r.type,S),v.props=z,Y=r.pendingProps,K=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=Ht(o)?mi:kt.current,P=ds(r,P));var ne=o.getDerivedStateFromProps;(Q=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==P)&&pd(r,v,u,P),Dr=!1,K=r.memoizedState,v.state=K,Ja(r,u,v,h);var ae=r.memoizedState;S!==Y||K!==ae||$t.current||Dr?(typeof ne=="function"&&(ac(r,o,ne,u),ae=r.memoizedState),(z=Dr||fd(r,o,z,u,K,ae,P)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=P,u=z):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return fc(t,r,o,u,p,h)}function fc(t,r,o,u,h,p){Id(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&xf(r,o,!1),cr(t,r,p);u=r.stateNode,wy.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=ys(r,t.child,null,p),r.child=ys(r,null,S,p)):Ut(t,r,S,p),r.memoizedState=u.state,h&&xf(r,o,!0),r.child}function Rd(t){var r=t.stateNode;r.pendingContext?Pf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Pf(t,r.context,!1),Gu(t,r.containerInfo)}function Ad(t,r,o,u,h){return gs(),bu(h),r.flags|=256,Ut(t,r,o,u),r.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pd(t,r,o){var u=r.pendingProps,h=Qe.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Qe,h&1),t===null)return ju(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=_l(v,u,0,null),t=Ci(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=pc(o),r.memoizedState=dc,t):mc(r,v));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return Ty(t,r,v,u,S,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,S=h.sibling;var P={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=zr(h,P),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=zr(S,p):(p=Ci(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?pc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=dc,u}return p=t.child,t=p.sibling,u=zr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function mc(t,r){return r=_l({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ol(t,r,o,u){return u!==null&&bu(u),ys(r,t.child,null,o),t=mc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ty(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=uc(Error(n(422))),ol(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=_l({mode:"visible",children:u.children},h,0,null),p=Ci(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ys(r,t.child,null,v),r.child.memoizedState=pc(v),r.memoizedState=dc,p);if(!(r.mode&1))return ol(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=uc(p,u,void 0),ol(t,r,v,u)}if(S=(v&t.childLanes)!==0,qt||S){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),kn(u,t,h,-1))}return Nc(),u=uc(Error(n(421))),ol(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Oy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Pr(h.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(un[cn++]=or,un[cn++]=ar,un[cn++]=gi,or=t.id,ar=t.overflow,gi=r),r=mc(r,u.children),r.flags|=4096,r)}function kd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Wu(t.return,r,o)}function gc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Qe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,o,r);else if(t.tag===19)kd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Qe,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Za(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),gc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Za(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}gc(r,!0,o,null,p);break;case"together":gc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function al(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=zr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=zr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Sy(t,r,o){switch(r.tag){case 3:Rd(r),gs();break;case 5:Hf(r);break;case 1:Ht(r.type)&&$a(r);break;case 4:Gu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(Ga,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Qe,Qe.current&1),r.flags|=128,null):o&r.child.childLanes?Pd(t,r,o):($e(Qe,Qe.current&1),t=cr(t,r,o),t!==null?t.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Qe,Qe.current),u)break;return null;case 22:case 23:return r.lanes=0,Sd(t,r,o)}return cr(t,r,o)}var Nd,yc,Dd,Vd;Nd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},yc=function(){},Dd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,_i(Un.current);var p=null;switch(o){case"input":h=Jr(t,h),u=Jr(t,u),p=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),p=[];break;case"textarea":h=Gs(t,h),u=Gs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ba)}to(o,u);var v;o=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var S=h[z];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in u){var P=u[z];if(S=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&P!==S&&(P!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(z,o)),o=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&He("scroll",t),p||S===P||(p=[])):(p=p||[]).push(z,P))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Vd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Mo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Iy(t,r,o){var u=r.pendingProps;switch(zu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Ht(r.type)&&ba(),Nt(r),null;case 3:return u=r.stateNode,Es(),qe($t),qe(kt),Ju(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ka(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Pc(Cn),Cn=null))),yc(t,r),Nt(r),null;case 5:Yu(r);var h=_i(No.current);if(o=r.type,t!==null&&r.stateNode!=null)Dd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=_i(Un.current),Ka(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Fn]=r,u[Ro]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(h=0;h<So.length;h++)He(So[h],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":Oi(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":Fi(u,p),He("invalid",u)}to(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&za(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&za(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&He("scroll",u)}switch(o){case"input":Qn(u),ha(u,p,!0);break;case"textarea":Qn(u),Ys(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ba)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Fn]=r,t[Ro]=u,Nd(t,r,!1,!1),r.stateNode=t;e:{switch(v=no(o,u),o){case"dialog":He("cancel",t),He("close",t),h=u;break;case"iframe":case"object":case"embed":He("load",t),h=u;break;case"video":case"audio":for(h=0;h<So.length;h++)He(So[h],t);h=u;break;case"source":He("error",t),h=u;break;case"img":case"image":case"link":He("error",t),He("load",t),h=u;break;case"details":He("toggle",t),h=u;break;case"input":Oi(t,u),h=Jr(t,u),He("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),He("invalid",t);break;case"textarea":Fi(t,u),h=Gs(t,u),He("invalid",t);break;default:h=u}to(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?Zs(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Xs(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&yr(t,P):typeof P=="number"&&yr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&He("scroll",t):P!=null&&oe(t,p,P,v))}switch(o){case"input":Qn(t),ha(t,u,!1);break;case"textarea":Qn(t),Ys(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Yn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Yn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ba)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)Vd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=_i(No.current),_i(Un.current),Ka(r)){if(u=r.stateNode,o=r.memoizedProps,u[Fn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:za(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Fn]=r,r.stateNode=u}return Nt(r),null;case 13:if(qe(Qe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))Mf(),gs(),r.flags|=98560,p=!1;else if(p=Ka(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Fn]=r}else gs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else Cn!==null&&(Pc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Qe.current&1?ft===0&&(ft=3):Nc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Es(),yc(t,r),t===null&&Io(r.stateNode.containerInfo),Nt(r),null;case 10:return qu(r.type._context),Nt(r),null;case 17:return Ht(r.type)&&ba(),Nt(r),null;case 19:if(qe(Qe),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)Mo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=Za(t),v!==null){for(r.flags|=128,Mo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Qe,Qe.current&1|2),r.child}t=t.sibling}p.tail!==null&&be()>Is&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Za(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Nt(r),null}else 2*be()-p.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=be(),r.sibling=null,o=Qe.current,$e(Qe,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return xc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Cy(t,r){switch(zu(r),r.tag){case 1:return Ht(r.type)&&ba(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Es(),qe($t),qe(kt),Ju(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Yu(r),null;case 13:if(qe(Qe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));gs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Qe),null;case 4:return Es(),null;case 10:return qu(r.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var ll=!1,Dt=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ts(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function vc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var Ld=!1;function Ay(t,r){if(xu=Cr,t=ff(),Tu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,P=-1,z=0,Q=0,Y=t,K=null;t:for(;;){for(var ne;Y!==o||h!==0&&Y.nodeType!==3||(S=v+h),Y!==p||u!==0&&Y.nodeType!==3||(P=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)K=Y,Y=ne;for(;;){if(Y===t)break t;if(K===o&&++z===h&&(S=v),K===p&&++Q===u&&(P=v),(ne=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=ne}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nu={focusedElem:t,selectionRange:o},Cr=!1,se=r;se!==null;)if(r=se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,se=t;else for(;se!==null;){r=se;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,nt=ae.memoizedState,M=r.stateNode,N=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:Rn(r.type,le),nt);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Je(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,se=t;break}se=r.return}return ae=Ld,Ld=!1,ae}function Fo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&vc(r,o,p)}h=h.next}while(h!==u)}}function ul(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function _c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Od(t){var r=t.alternate;r!==null&&(t.alternate=null,Od(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Fn],delete r[Ro],delete r[Ou],delete r[uy],delete r[cy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Md(t){return t.tag===5||t.tag===3||t.tag===4}function Fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ba));else if(u!==4&&(t=t.child,t!==null))for(Ec(t,r,o),t=t.sibling;t!==null;)Ec(t,r,o),t=t.sibling}function wc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(wc(t,r,o),t=t.sibling;t!==null;)wc(t,r,o),t=t.sibling}var St=null,An=!1;function Lr(t,r,o){for(o=o.child;o!==null;)Ud(t,r,o),o=o.sibling}function Ud(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 5:Dt||Ts(o,r);case 6:var u=St,h=An;St=null,Lr(t,r,o),St=u,An=h,St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?Lu(t.parentNode,o):t.nodeType===1&&Lu(t,o),Tn(t)):Lu(St,o.stateNode));break;case 4:u=St,h=An,St=o.stateNode.containerInfo,An=!0,Lr(t,r,o),St=u,An=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&vc(o,r,v),h=h.next}while(h!==u)}Lr(t,r,o);break;case 1:if(!Dt&&(Ts(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Je(o,r,S)}Lr(t,r,o);break;case 21:Lr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Lr(t,r,o),Dt=u):Lr(t,r,o);break;default:Lr(t,r,o)}}function zd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ry),r.forEach(function(u){var h=My.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:St=S.stateNode,An=!1;break e;case 3:St=S.stateNode.containerInfo,An=!0;break e;case 4:St=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(St===null)throw Error(n(160));Ud(p,v,h),St=null,An=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(z){Je(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Bd(r,t),r=r.sibling}function Bd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),Bn(t),u&4){try{Fo(3,t,t.return),ul(3,t)}catch(le){Je(t,t.return,le)}try{Fo(5,t,t.return)}catch(le){Je(t,t.return,le)}}break;case 1:Pn(r,t),Bn(t),u&512&&o!==null&&Ts(o,o.return);break;case 5:if(Pn(r,t),Bn(t),u&512&&o!==null&&Ts(o,o.return),t.flags&32){var h=t.stateNode;try{yr(h,"")}catch(le){Je(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Ks(h,p),no(S,v);var z=no(S,p);for(v=0;v<P.length;v+=2){var Q=P[v],Y=P[v+1];Q==="style"?Zs(h,Y):Q==="dangerouslySetInnerHTML"?Xs(h,Y):Q==="children"?yr(h,Y):oe(h,Q,Y,z)}switch(S){case"input":Qs(h,p);break;case"textarea":Ui(h,p);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?Yn(h,!!p.multiple,ne,!1):K!==!!p.multiple&&(p.defaultValue!=null?Yn(h,!!p.multiple,p.defaultValue,!0):Yn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ro]=p}catch(le){Je(t,t.return,le)}}break;case 6:if(Pn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){Je(t,t.return,le)}}break;case 3:if(Pn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(le){Je(t,t.return,le)}break;case 4:Pn(r,t),Bn(t);break;case 13:Pn(r,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Ic=be())),u&4&&zd(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(z=Dt)||Q,Pn(r,t),Dt=z):Pn(r,t),Bn(t),u&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!Q&&t.mode&1)for(se=t,Q=t.child;Q!==null;){for(Y=se=Q;se!==null;){switch(K=se,ne=K.child,K.tag){case 0:case 11:case 14:case 15:Fo(4,K,K.return);break;case 1:Ts(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){Je(u,o,le)}}break;case 5:Ts(K,K.return);break;case 22:if(K.memoizedState!==null){$d(Y);continue}}ne!==null?(ne.return=K,se=ne):$d(Y)}Q=Q.sibling}e:for(Q=null,Y=t;;){if(Y.tag===5){if(Q===null){Q=Y;try{h=Y.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Js("display",v))}catch(le){Je(t,t.return,le)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(le){Je(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Pn(r,t),Bn(t),u&4&&zd(t);break;case 21:break;default:Pn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Md(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(yr(h,""),u.flags&=-33);var p=Fd(t);wc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=Fd(t);Ec(t,S,v);break;default:throw Error(n(161))}}catch(P){Je(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Py(t,r,o){se=t,jd(t)}function jd(t,r,o){for(var u=(t.mode&1)!==0;se!==null;){var h=se,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||ll;if(!v){var S=h.alternate,P=S!==null&&S.memoizedState!==null||Dt;S=ll;var z=Dt;if(ll=v,(Dt=P)&&!z)for(se=h;se!==null;)v=se,P=v.child,v.tag===22&&v.memoizedState!==null?Hd(h):P!==null?(P.return=v,se=P):Hd(h);for(;p!==null;)se=p,jd(p),p=p.sibling;se=h,ll=S,Dt=z}bd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,se=p):bd(t)}}function bd(t){for(;se!==null;){var r=se;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Dt||ul(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&$f(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}$f(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var Q=z.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&Tn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&_c(r)}catch(K){Je(r,r.return,K)}}if(r===t){se=null;break}if(o=r.sibling,o!==null){o.return=r.return,se=o;break}se=r.return}}function $d(t){for(;se!==null;){var r=se;if(r===t){se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,se=o;break}se=r.return}}function Hd(t){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ul(4,r)}catch(P){Je(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){Je(r,h,P)}}var p=r.return;try{_c(r)}catch(P){Je(r,p,P)}break;case 5:var v=r.return;try{_c(r)}catch(P){Je(r,v,P)}}}catch(P){Je(r,r.return,P)}if(r===t){se=null;break}var S=r.sibling;if(S!==null){S.return=r.return,se=S;break}se=r.return}}var ky=Math.ceil,cl=fe.ReactCurrentDispatcher,Tc=fe.ReactCurrentOwner,dn=fe.ReactCurrentBatchConfig,Ve=0,vt=null,ot=null,It=0,rn=0,Ss=kr(0),ft=0,Uo=null,wi=0,hl=0,Sc=0,zo=null,Wt=null,Ic=0,Is=1/0,hr=null,fl=!1,Cc=null,Or=null,dl=!1,Mr=null,pl=0,Bo=0,Rc=null,ml=-1,gl=0;function zt(){return Ve&6?be():ml!==-1?ml:ml=be()}function Fr(t){return t.mode&1?Ve&2&&It!==0?It&-It:fy.transition!==null?(gl===0&&(gl=ui()),gl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:po(t.type)),t):1}function kn(t,r,o,u){if(50<Bo)throw Bo=0,Rc=null,Error(n(185));wr(t,o,u),(!(Ve&2)||t!==vt)&&(t===vt&&(!(Ve&2)&&(hl|=o),ft===4&&Ur(t,It)),Kt(t,u),o===1&&Ve===0&&!(r.mode&1)&&(Is=be()+500,Ha&&Nr()))}function Kt(t,r){var o=t.callbackNode;Zn(t,r);var u=li(t,t===vt?It:0);if(u===0)o!==null&&lo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&lo(o),r===1)t.tag===0?hy(Wd.bind(null,t)):Nf(Wd.bind(null,t)),ay(function(){!(Ve&6)&&Nr()}),o=null;else{switch(Sr(u)){case 1:o=oi;break;case 4:o=vr;break;case 16:o=on;break;case 536870912:o=ga;break;default:o=on}o=ep(o,qd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function qd(t,r){if(ml=-1,gl=0,Ve&6)throw Error(n(327));var o=t.callbackNode;if(Cs()&&t.callbackNode!==o)return null;var u=li(t,t===vt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=yl(t,u);else{r=u;var h=Ve;Ve|=2;var p=Qd();(vt!==t||It!==r)&&(hr=null,Is=be()+500,Si(t,r));do try{Dy();break}catch(S){Kd(t,S)}while(!0);Hu(),cl.current=p,Ve=h,ot!==null?r=0:(vt=null,It=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Ac(t,h))),r===1)throw o=Uo,Si(t,0),Ur(t,u),Kt(t,be()),o;if(r===6)Ur(t,u);else{if(h=t.current.alternate,!(u&30)&&!xy(h)&&(r=yl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Ac(t,p))),r===1))throw o=Uo,Si(t,0),Ur(t,u),Kt(t,be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ii(t,Wt,hr);break;case 3:if(Ur(t,u),(u&130023424)===u&&(r=Ic+500-be(),10<r)){if(li(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Vu(Ii.bind(null,t,Wt,hr),r);break}Ii(t,Wt,hr);break;case 4:if(Ur(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Mt(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*ky(u/1960))-u,10<u){t.timeoutHandle=Vu(Ii.bind(null,t,Wt,hr),u);break}Ii(t,Wt,hr);break;case 5:Ii(t,Wt,hr);break;default:throw Error(n(329))}}}return Kt(t,be()),t.callbackNode===o?qd.bind(null,t):null}function Ac(t,r){var o=zo;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=yl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Pc(r)),t}function Pc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function xy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(t,r){for(r&=~Sc,r&=~hl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function Wd(t){if(Ve&6)throw Error(n(327));Cs();var r=li(t,0);if(!(r&1))return Kt(t,be()),null;var o=yl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Ac(t,u))}if(o===1)throw o=Uo,Si(t,0),Ur(t,r),Kt(t,be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ii(t,Wt,hr),Kt(t,be()),null}function kc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(Is=be()+500,Ha&&Nr())}}function Ti(t){Mr!==null&&Mr.tag===0&&!(Ve&6)&&Cs();var r=Ve;Ve|=1;var o=dn.transition,u=Re;try{if(dn.transition=null,Re=1,t)return t()}finally{Re=u,dn.transition=o,Ve=r,!(Ve&6)&&Nr()}}function xc(){rn=Ss.current,qe(Ss)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,oy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(zu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ba();break;case 3:Es(),qe($t),qe(kt),Ju();break;case 5:Yu(u);break;case 4:Es();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:qu(u.type._context);break;case 22:case 23:xc()}o=o.return}if(vt=t,ot=t=zr(t.current,null),It=rn=r,ft=0,Uo=null,Sc=hl=wi=0,Wt=zo=null,vi!==null){for(r=0;r<vi.length;r++)if(o=vi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}vi=null}return t}function Kd(t,r){do{var o=ot;try{if(Hu(),el.current=il,tl){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}tl=!1}if(Ei=0,yt=ht=Ge=null,Do=!1,Vo=0,Tc.current=null,o===null||o.return===null){ft=1,Uo=r,ot=null;break}e:{var p=t,v=o.return,S=o,P=r;if(r=It,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Q=S,Y=Q.tag;if(!(Q.mode&1)&&(Y===0||Y===11||Y===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ne=vd(v);if(ne!==null){ne.flags&=-257,_d(ne,v,S,p,r),ne.mode&1&&yd(p,z,r),r=ne,P=z;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(P),r.updateQueue=le}else ae.add(P);break e}else{if(!(r&1)){yd(p,z,r),Nc();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var nt=vd(v);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),_d(nt,v,S,p,r),bu(ws(P,S));break e}}p=P=ws(P,S),ft!==4&&(ft=2),zo===null?zo=[p]:zo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=md(p,P,r);bf(p,M);break e;case 1:S=P;var N=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Or===null||!Or.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=gd(p,S,r);bf(p,J);break e}}p=p.return}while(p!==null)}Yd(o)}catch(ce){r=ce,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function Qd(){var t=cl.current;return cl.current=il,t===null?il:t}function Nc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(wi&268435455)&&!(hl&268435455)||Ur(vt,It)}function yl(t,r){var o=Ve;Ve|=2;var u=Qd();(vt!==t||It!==r)&&(hr=null,Si(t,r));do try{Ny();break}catch(h){Kd(t,h)}while(!0);if(Hu(),Ve=o,cl.current=u,ot!==null)throw Error(n(261));return vt=null,It=0,ft}function Ny(){for(;ot!==null;)Gd(ot)}function Dy(){for(;ot!==null&&!pa();)Gd(ot)}function Gd(t){var r=Zd(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Yd(t):ot=r,Tc.current=null}function Yd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Cy(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=Iy(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Ii(t,r,o){var u=Re,h=dn.transition;try{dn.transition=null,Re=1,Vy(t,r,o,u)}finally{dn.transition=h,Re=u}return null}function Vy(t,r,o,u){do Cs();while(Mr!==null);if(Ve&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===vt&&(ot=vt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||dl||(dl=!0,ep(on,function(){return Cs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=Re;Re=1;var S=Ve;Ve|=4,Tc.current=null,Ay(t,o),Bd(o,t),Zg(Nu),Cr=!!xu,Nu=xu=null,t.current=o,Py(o),pu(),Ve=S,Re=v,dn.transition=p}else t.current=o;if(dl&&(dl=!1,Mr=t,pl=h),p=t.pendingLanes,p===0&&(Or=null),ya(o.stateNode),Kt(t,be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(fl)throw fl=!1,t=Cc,Cc=null,t;return pl&1&&t.tag!==0&&Cs(),p=t.pendingLanes,p&1?t===Rc?Bo++:(Bo=0,Rc=t):Bo=0,Nr(),null}function Cs(){if(Mr!==null){var t=Sr(pl),r=dn.transition,o=Re;try{if(dn.transition=null,Re=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,pl=0,Ve&6)throw Error(n(331));var h=Ve;for(Ve|=4,se=t.current;se!==null;){var p=se,v=p.child;if(se.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var z=S[P];for(se=z;se!==null;){var Q=se;switch(Q.tag){case 0:case 11:case 15:Fo(8,Q,p)}var Y=Q.child;if(Y!==null)Y.return=Q,se=Y;else for(;se!==null;){Q=se;var K=Q.sibling,ne=Q.return;if(Od(Q),Q===z){se=null;break}if(K!==null){K.return=ne,se=K;break}se=ne}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var nt=le.sibling;le.sibling=null,le=nt}while(le!==null)}}se=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,se=v;else e:for(;se!==null;){if(p=se,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Fo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,se=M;break e}se=p.return}}var N=t.current;for(se=N;se!==null;){v=se;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,se=U;else e:for(v=N;se!==null;){if(S=se,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:ul(9,S)}}catch(ce){Je(S,S.return,ce)}if(S===v){se=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,se=J;break e}se=S.return}}if(Ve=h,Nr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ai,t)}catch{}u=!0}return u}finally{Re=o,dn.transition=r}}return!1}function Xd(t,r,o){r=ws(o,r),r=md(t,r,1),t=Vr(t,r,1),r=zt(),t!==null&&(wr(t,1,r),Kt(t,r))}function Je(t,r,o){if(t.tag===3)Xd(t,t,o);else for(;r!==null;){if(r.tag===3){Xd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){t=ws(o,t),t=gd(r,t,1),r=Vr(r,t,1),t=zt(),r!==null&&(wr(r,1,t),Kt(r,t));break}}r=r.return}}function Ly(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(It&o)===o&&(ft===4||ft===3&&(It&130023424)===It&&500>be()-Ic?Si(t,0):Sc|=o),Kt(t,r)}function Jd(t,r){r===0&&(t.mode&1?(r=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):r=1);var o=zt();t=lr(t,r),t!==null&&(wr(t,r,o),Kt(t,o))}function Oy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Jd(t,o)}function My(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Jd(t,o)}var Zd;Zd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,Sy(t,r,o);qt=!!(t.flags&131072)}else qt=!1,Ke&&r.flags&1048576&&Df(r,Wa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;al(t,r),t=r.pendingProps;var h=ds(r,kt.current);_s(r,o),h=tc(null,r,u,t,h,o);var p=nc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,$a(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Qu(r),h.updater=sl,r.stateNode=h,h._reactInternals=r,lc(r,u,t,o),r=fc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Uu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(al(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Uy(u),t=Rn(u,t),h){case 0:r=hc(null,r,u,t,o);break e;case 1:r=Cd(null,r,u,t,o);break e;case 11:r=Ed(null,r,u,t,o);break e;case 14:r=wd(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),hc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Cd(t,r,u,h,o);case 3:e:{if(Rd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,jf(t,r),Ja(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=ws(Error(n(423)),r),r=Ad(t,r,u,o,h);break e}else if(u!==h){h=ws(Error(n(424)),r),r=Ad(t,r,u,o,h);break e}else for(nn=Pr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=zf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gs(),u===h){r=cr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Hf(r),t===null&&ju(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Du(u,h)?v=null:p!==null&&Du(u,p)&&(r.flags|=32),Id(t,r),Ut(t,r,v,o),r.child;case 6:return t===null&&ju(r),null;case 13:return Pd(t,r,o);case 4:return Gu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ys(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Ed(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,$e(Ga,u._currentValue),u._currentValue=v,p!==null)if(In(p.value,v)){if(p.children===h.children&&!$t.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=ur(-1,o&-o),P.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var Q=z.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),z.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Wu(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),Wu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),wd(t,r,u,h,o);case 15:return Td(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),al(t,r),r.tag=1,Ht(u)?(t=!0,$a(r)):t=!1,_s(r,o),dd(r,u,h),lc(r,u,h,o),fc(null,r,u,!0,t,o);case 19:return xd(t,r,o);case 22:return Sd(t,r,o)}throw Error(n(156,r.tag))};function ep(t,r){return Wi(t,r)}function Fy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new Fy(t,r,o,u)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uy(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===At)return 14}return 2}function zr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function vl(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Dc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return Ci(o.children,h,p,r);case T:v=8,h|=8;break;case I:return t=pn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case C:return t=pn(13,o,r,h),t.elementType=C,t.lanes=p,t;case et:return t=pn(19,o,r,h),t.elementType=et,t.lanes=p,t;case ze:return _l(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case D:v=9;break e;case L:v=11;break e;case At:v=14;break e;case Pt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ci(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function _l(t,r,o,u){return t=pn(22,t,u,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function Vc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Lc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function zy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Er(0),this.expirationTimes=Er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Oc(t,r,o,u,h,p,v,S,P){return t=new zy(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(p),t}function By(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function tp(t){if(!t)return xr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return kf(t,o,r)}return r}function np(t,r,o,u,h,p,v,S,P){return t=Oc(o,u,!0,t,h,p,v,S,P),t.context=tp(null),o=t.current,u=zt(),h=Fr(o),p=ur(u,h),p.callback=r??null,Vr(o,p,h),t.current.lanes=h,wr(t,h,u),Kt(t,u),t}function El(t,r,o,u){var h=r.current,p=zt(),v=Fr(h);return o=tp(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Vr(h,r,v),t!==null&&(kn(t,h,v,p),Xa(t,h,v)),v}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Mc(t,r){rp(t,r),(t=t.alternate)&&rp(t,r)}var ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}Tl.prototype.render=Fc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));El(t,r,null,null)},Tl.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ti(function(){El(null,t,null,null)}),r[ir]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ta();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Vn.length&&r!==0&&r<Vn[o].priority;o++);Vn.splice(o,0,t),o===0&&Ca(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sp(){}function jy(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var z=wl(v);p.call(z)}}var v=np(r,u,t,0,null,!1,!1,"",sp);return t._reactRootContainer=v,t[ir]=v.current,Io(t.nodeType===8?t.parentNode:t),Ti(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var z=wl(P);S.call(z)}}var P=Oc(t,0,!1,null,null,!1,!1,"",sp);return t._reactRootContainer=P,t[ir]=P.current,Io(t.nodeType===8?t.parentNode:t),Ti(function(){El(r,P,o,u)}),P}function Il(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var S=h;h=function(){var P=wl(v);S.call(P)}}El(r,v,t,h)}else v=jy(o,r,t,h,u);return wl(v)}Ea=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(Tr(r,o|1),Kt(r,be()),!(Ve&6)&&(Is=be()+500,Nr()))}break;case 13:Ti(function(){var u=lr(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),Mc(t,1)}},Gi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=zt();kn(r,t,134217728,o)}Mc(t,134217728)}},wa=function(t){if(t.tag===13){var r=Fr(t),o=lr(t,r);if(o!==null){var u=zt();kn(o,t,r,u)}Mc(t,r)}},Ta=function(){return Re},Sa=function(t,r){var o=Re;try{return Re=t,r()}finally{Re=o}},Bi=function(t,r,o){switch(r){case"input":if(Qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=ja(u);if(!h)throw Error(n(90));Li(u),Qs(u,h)}}}break;case"textarea":Ui(t,o);break;case"select":r=o.value,r!=null&&Yn(t,!!o.multiple,r,!1)}},ni=kc,io=Ti;var by={usingClientEntryPoint:!1,Events:[Ao,hs,ja,Nn,ro,kc]},jo={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$y={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ao(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{ai=Cl.inject($y),Xt=Cl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=by,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(r))throw Error(n(200));return By(t,r,null,o)},Qt.createRoot=function(t,r){if(!Uc(t))throw Error(n(299));var o=!1,u="",h=ip;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Oc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,Io(t.nodeType===8?t.parentNode:t),new Fc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ao(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ti(t)},Qt.hydrate=function(t,r,o){if(!Sl(r))throw Error(n(200));return Il(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Uc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=ip;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=np(r,null,t,1,o??null,h,!1,p,v),t[ir]=r.current,Io(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Tl(r)},Qt.render=function(t,r,o){if(!Sl(r))throw Error(n(200));return Il(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(n(40));return t._reactRootContainer?(Ti(function(){Il(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Qt.unstable_batchedUpdates=kc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Sl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Il(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var dp;function Xy(){if(dp)return jc.exports;dp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jc.exports=Yy(),jc.exports}var pp;function Jy(){if(pp)return Rl;pp=1;var i=Xy();return Rl.createRoot=i.createRoot,Rl.hydrateRoot=i.hydrateRoot,Rl}var Zy=Jy(),$o={},mp;function ev(){if(mp)return $o;mp=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parse=f,$o.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,F){const B=new c,$=A.length;if($<2)return B;const j=(F==null?void 0:F.decode)||w;let G=0;do{const X=A.indexOf("=",G);if(X===-1)break;const oe=A.indexOf(";",G),fe=oe===-1?$:oe;if(X>fe){G=A.lastIndexOf(";",X-1)+1;continue}const Ce=m(A,G,X),we=y(A,X,Ce),x=A.slice(Ce,we);if(B[x]===void 0){let T=m(A,X+1,fe),I=y(A,fe,T);const k=j(A.slice(T,I));B[x]=k}G=fe+1}while(G<$);return B}function m(A,F,B){do{const $=A.charCodeAt(F);if($!==32&&$!==9)return F}while(++F<B);return B}function y(A,F,B){for(;F>B;){const $=A.charCodeAt(--F);if($!==32&&$!==9)return F+1}return B}function _(A,F,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=$(F);if(!e.test(j))throw new TypeError(`argument val is invalid: ${F}`);let G=A+"="+j;if(!B)return G;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);G+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);G+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);G+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);G+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(G+="; HttpOnly"),B.secure&&(G+="; Secure"),B.partitioned&&(G+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return G}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function R(A){return a.call(A)==="[object Date]"}return $o}ev();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gp="popstate";function tv(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return th("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Jo(a)}return rv(e,n,null,i)}function Ye(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nv(){return Math.random().toString(36).substring(2,10)}function yp(i,e){return{usr:i.state,key:i.key,idx:e}}function th(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:n,key:e&&e.key||s||nv()}}function Jo({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Bs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rv(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",y=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function R(){m="POP";let j=w(),G=j==null?null:j-_;_=j,y&&y({action:m,location:$.location,delta:G})}function A(j,G){m="PUSH";let X=th($.location,j,G);_=w()+1;let oe=yp(X,_),fe=$.createHref(X);try{f.pushState(oe,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;a.location.assign(fe)}c&&y&&y({action:m,location:$.location,delta:1})}function F(j,G){m="REPLACE";let X=th($.location,j,G);_=w();let oe=yp(X,_),fe=$.createHref(X);f.replaceState(oe,"",fe),c&&y&&y({action:m,location:$.location,delta:0})}function B(j){let G=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof j=="string"?j:Jo(j);return X=X.replace(/ $/,"%20"),Ye(G,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,G)}let $={get action(){return m},get location(){return i(a,f)},listen(j){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(gp,R),y=j,()=>{a.removeEventListener(gp,R),y=null}},createHref(j){return e(a,j)},createURL:B,encodeLocation(j){let G=B(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:F,go(j){return f.go(j)}};return $}function vm(i,e,n="/"){return iv(i,e,n,!1)}function iv(i,e,n,s){let a=typeof e=="string"?Bs(e):e,c=Wr(a.pathname||"/",n);if(c==null)return null;let f=_m(i);sv(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=gv(c);m=pv(f[y],_,s)}return m}function _m(i,e=[],n=[],s=""){let a=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(Ye(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=fr([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),_m(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:fv(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let y of Em(c.path))a(c,f,y)}),e}function Em(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Em(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function sv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:dv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ov=/^:[\w-]+$/,av=3,lv=2,uv=1,cv=10,hv=-2,vp=i=>i==="*";function fv(i,e){let n=i.split("/"),s=n.length;return n.some(vp)&&(s+=hv),e&&(s+=lv),n.filter(a=>!vp(a)).reduce((a,c)=>a+(ov.test(c)?av:c===""?uv:cv),s)}function dv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function pv(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=jl({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},w),A=y.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=jl({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:fr([c,R.pathname]),pathnameBase:Ev(fr([c,R.pathnameBase])),route:A}),R.pathnameBase!=="/"&&(c=fr([c,R.pathnameBase]))}return f}function jl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=mv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:R},A)=>{if(w==="*"){let B=m[A]||"";f=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const F=m[A];return R&&!F?_[w]=void 0:_[w]=(F||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function mv(i,e=!1,n=!0){Hn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function gv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function yv(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Bs(i):i;return{pathname:n?n.startsWith("/")?n:vv(n,e):e,search:wv(s),hash:Tv(a)}}function vv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _v(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wm(i){let e=_v(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tm(i,e,n,s=!1){let a;typeof i=="string"?a=Bs(i):(a={...i},Ye(!a.pathname||!a.pathname.includes("?"),Hc("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),Hc("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),Hc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),R-=1;a.pathname=A.join("/")}m=R>=0?e[R]:"/"}let y=yv(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||w)&&(y.pathname+="/"),y}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),Ev=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Tv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Sv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Sm=["POST","PUT","PATCH","DELETE"];new Set(Sm);var Iv=["GET",...Sm];new Set(Iv);var js=H.createContext(null);js.displayName="DataRouter";var Jl=H.createContext(null);Jl.displayName="DataRouterState";var Im=H.createContext({isTransitioning:!1});Im.displayName="ViewTransition";var Cv=H.createContext(new Map);Cv.displayName="Fetchers";var Rv=H.createContext(null);Rv.displayName="Await";var Kn=H.createContext(null);Kn.displayName="Navigation";var ia=H.createContext(null);ia.displayName="Location";var mr=H.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Rh=H.createContext(null);Rh.displayName="RouteError";function Av(i,{relative:e}={}){Ye(sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Kn),{hash:a,pathname:c,search:f}=oa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function sa(){return H.useContext(ia)!=null}function Di(){return Ye(sa(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ia).location}var Cm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rm(i){H.useContext(Kn).static||H.useLayoutEffect(i)}function Ah(){let{isDataRoute:i}=H.useContext(mr);return i?Bv():Pv()}function Pv(){Ye(sa(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(js),{basename:e,navigator:n}=H.useContext(Kn),{matches:s}=H.useContext(mr),{pathname:a}=Di(),c=JSON.stringify(wm(s)),f=H.useRef(!1);return Rm(()=>{f.current=!0}),H.useCallback((y,_={})=>{if(Hn(f.current,Cm),!f.current)return;if(typeof y=="number"){n.go(y);return}let w=Tm(y,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:fr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}H.createContext(null);function oa(i,{relative:e}={}){let{matches:n}=H.useContext(mr),{pathname:s}=Di(),a=JSON.stringify(wm(n));return H.useMemo(()=>Tm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function kv(i,e){return Am(i,e)}function Am(i,e,n,s){var G;Ye(sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Kn),{matches:c}=H.useContext(mr),f=c[c.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let X=w&&w.path||"";Pm(y,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Di(),A;if(e){let X=typeof e=="string"?Bs(e):e;Ye(_==="/"||((G=X.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),A=X}else A=R;let F=A.pathname||"/",B=F;if(_!=="/"){let X=_.replace(/^\//,"").split("/");B="/"+F.replace(/^\//,"").split("/").slice(X.length).join("/")}let $=vm(i,{pathname:B});Hn(w||$!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Hn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Lv($&&$.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:fr([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:fr([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,n,s);return e&&j?H.createElement(ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function xv(){let i=zv(),e=Sv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,f)}var Nv=H.createElement(xv,null),Dv=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(mr.Provider,{value:this.props.routeContext},H.createElement(Rh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vv({routeContext:i,match:e,children:n}){let s=H.useContext(js);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(mr.Provider,{value:i},n)}function Lv(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let y=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Ye(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<a.length;y++){let _=a[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:w,errors:R}=n,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||A){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((y,_,w)=>{let R,A=!1,F=null,B=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,F=_.route.errorElement||Nv,f&&(m<0&&w===0?(Pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,B=null):m===w&&(A=!0,B=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),j=()=>{let G;return R?G=F:A?G=B:_.route.Component?G=H.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,H.createElement(Vv,{match:_,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?H.createElement(Dv,{location:n.location,revalidation:n.revalidation,component:F,error:R,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Ph(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ov(i){let e=H.useContext(js);return Ye(e,Ph(i)),e}function Mv(i){let e=H.useContext(Jl);return Ye(e,Ph(i)),e}function Fv(i){let e=H.useContext(mr);return Ye(e,Ph(i)),e}function kh(i){let e=Fv(i),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Uv(){return kh("useRouteId")}function zv(){var s;let i=H.useContext(Rh),e=Mv("useRouteError"),n=kh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Bv(){let{router:i}=Ov("useNavigate"),e=kh("useNavigate"),n=H.useRef(!1);return Rm(()=>{n.current=!0}),H.useCallback(async(a,c={})=>{Hn(n.current,Cm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var _p={};function Pm(i,e,n){!e&&!_p[i]&&(_p[i]=!0,Hn(!1,n))}H.memo(jv);function jv({routes:i,future:e,state:n}){return Am(i,void 0,n,e)}function Ri(i){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bv({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ye(!sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=Bs(n));let{pathname:y="/",search:_="",hash:w="",state:R=null,key:A="default"}=n,F=H.useMemo(()=>{let B=Wr(y,f);return B==null?null:{location:{pathname:B,search:_,hash:w,state:R,key:A},navigationType:s}},[f,y,_,w,R,A,s]);return Hn(F!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:H.createElement(Kn.Provider,{value:m},H.createElement(ia.Provider,{children:e,value:F}))}function $v({children:i,location:e}){return kv(nh(i),e)}function nh(i,e=[]){let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let c=[...e,a];if(s.type===H.Fragment){n.push.apply(n,nh(s.props.children,c));return}Ye(s.type===Ri,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=nh(s.props.children,c)),n.push(f)}),n}var Ll="get",Ol="application/x-www-form-urlencoded";function Zl(i){return i!=null&&typeof i.tagName=="string"}function Hv(i){return Zl(i)&&i.tagName.toLowerCase()==="button"}function qv(i){return Zl(i)&&i.tagName.toLowerCase()==="form"}function Wv(i){return Zl(i)&&i.tagName.toLowerCase()==="input"}function Kv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Qv(i,e){return i.button===0&&(!e||e==="_self")&&!Kv(i)}var Al=null;function Gv(){if(Al===null)try{new FormData(document.createElement("form"),0),Al=!1}catch{Al=!0}return Al}var Yv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qc(i){return i!=null&&!Yv.has(i)?(Hn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ol}"`),null):i}function Xv(i,e){let n,s,a,c,f;if(qv(i)){let m=i.getAttribute("action");s=m?Wr(m,e):null,n=i.getAttribute("method")||Ll,a=qc(i.getAttribute("enctype"))||Ol,c=new FormData(i)}else if(Hv(i)||Wv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(s=y?Wr(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ll,a=qc(i.getAttribute("formenctype"))||qc(m.getAttribute("enctype"))||Ol,c=new FormData(m,i),!Gv()){let{name:_,type:w,value:R}=i;if(w==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,R)}}else{if(Zl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ll,s=null,a=Ol,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function xh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Jv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function e_(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await Jv(c,n);return f.links?f.links():[]}return[]}));return i_(s.flat(1).filter(Zv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ep(i,e,n,s,a,c){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>{var w;return n[_].pathname!==y.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,_)=>f(y,_)||m(y,_)):c==="data"?e.filter((y,_)=>{var R;let w=s.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function t_(i,e){return n_(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function n_(i){return[...new Set(i)]}function r_(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function i_(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(r_(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function s_(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function o_(){let i=H.useContext(js);return xh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function a_(){let i=H.useContext(Jl);return xh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Nh=H.createContext(void 0);Nh.displayName="FrameworkContext";function km(){let i=H.useContext(Nh);return xh(i,"You must render this element inside a <HydratedRouter> element"),i}function l_(i,e){let n=H.useContext(Nh),[s,a]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=G=>{G.forEach(X=>{f(X.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let F=()=>{a(!0)},B=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:Ho(m,F),onBlur:Ho(y,B),onMouseEnter:Ho(_,F),onMouseLeave:Ho(w,B),onTouchStart:Ho(R,F)}]:[!1,A,{}]}function Ho(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function u_({page:i,...e}){let{router:n}=o_(),s=H.useMemo(()=>vm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(h_,{page:i,matches:s,...e}):null}function c_(i){let{manifest:e,routeModules:n}=km(),[s,a]=H.useState([]);return H.useEffect(()=>{let c=!1;return e_(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function h_({page:i,matches:e,...n}){let s=Di(),{manifest:a,routeModules:c}=km(),{loaderData:f,matches:m}=a_(),y=H.useMemo(()=>Ep(i,e,m,a,s,"data"),[i,e,m,a,s]),_=H.useMemo(()=>Ep(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,B=!1;if(e.forEach(j=>{var X;let G=a.routes[j.route.id];!G||!G.hasLoader||(!y.some(oe=>oe.route.id===j.route.id)&&j.route.id in f&&((X=c[j.route.id])!=null&&X.shouldRevalidate)||G.hasClientLoader?B=!0:F.add(j.route.id))}),F.size===0)return[];let $=s_(i);return B&&F.size>0&&$.searchParams.set("_routes",e.filter(j=>F.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[f,s,a,y,e,i,c]),R=H.useMemo(()=>t_(_,a),[_,a]),A=c_(_);return H.createElement(H.Fragment,null,w.map(F=>H.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),R.map(F=>H.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),A.map(({key:F,link:B})=>H.createElement("link",{key:F,...B})))}function f_(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xm&&(window.__reactRouterVersion="7.1.3")}catch{}function d_({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=tv({window:n,v5Compat:!0}));let a=s.current,[c,f]=H.useState({action:a.action,location:a.location}),m=H.useCallback(y=>{H.startTransition(()=>f(y))},[f]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement(bv,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eu=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:y,to:_,preventScrollReset:w,viewTransition:R,...A},F){let{basename:B}=H.useContext(Kn),$=typeof _=="string"&&Nm.test(_),j,G=!1;if(typeof _=="string"&&$&&(j=_,xm))try{let I=new URL(window.location.href),k=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=Wr(k.pathname,B);k.origin===I.origin&&D!=null?_=D+k.search+k.hash:G=!0}catch{Hn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Av(_,{relative:a}),[oe,fe,Ce]=l_(s,A),we=y_(_,{replace:f,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||we(I)}let T=H.createElement("a",{...A,...Ce,href:j||X,onClick:G||c?e:x,ref:f_(F,fe),target:y,"data-discover":!$&&n==="render"?"true":void 0});return oe&&!$?H.createElement(H.Fragment,null,T,H.createElement(u_,{page:X})):T});eu.displayName="Link";var p_=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:y,..._},w){let R=oa(f,{relative:_.relative}),A=Di(),F=H.useContext(Jl),{navigator:B,basename:$}=H.useContext(Kn),j=F!=null&&T_(R)&&m===!0,G=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,X=A.pathname,oe=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(X=X.toLowerCase(),oe=oe?oe.toLowerCase():null,G=G.toLowerCase()),oe&&$&&(oe=Wr(oe,$)||oe);const fe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Ce=X===G||!a&&X.startsWith(G)&&X.charAt(fe)==="/",we=oe!=null&&(oe===G||!a&&oe.startsWith(G)&&oe.charAt(G.length)==="/"),x={isActive:Ce,isPending:we,isTransitioning:j},T=Ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ce?"active":null,we?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return H.createElement(eu,{..._,"aria-current":T,className:I,ref:w,style:k,to:f,viewTransition:m},typeof y=="function"?y(x):y)});p_.displayName="NavLink";var m_=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=Ll,action:m,onSubmit:y,relative:_,preventScrollReset:w,viewTransition:R,...A},F)=>{let B=E_(),$=w_(m,{relative:_}),j=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&Nm.test(m),X=oe=>{if(y&&y(oe),oe.defaultPrevented)return;oe.preventDefault();let fe=oe.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||f;B(fe||oe.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:R})};return H.createElement("form",{ref:F,method:j,action:$,onSubmit:s?y:X,...A,"data-discover":!G&&i==="render"?"true":void 0})});m_.displayName="Form";function g_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dm(i){let e=H.useContext(js);return Ye(e,g_(i)),e}function y_(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=Ah(),y=Di(),_=oa(i,{relative:c});return H.useCallback(w=>{if(Qv(w,e)){w.preventDefault();let R=n!==void 0?n:Jo(y)===Jo(_);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[y,m,_,n,s,e,i,a,c,f])}var v_=0,__=()=>`__${String(++v_)}__`;function E_(){let{router:i}=Dm("useSubmit"),{basename:e}=H.useContext(Kn),n=Uv();return H.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:y,body:_}=Xv(s,e);if(a.navigate===!1){let w=a.fetcherKey||__();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function w_(i,{relative:e}={}){let{basename:n}=H.useContext(Kn),s=H.useContext(mr);Ye(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...oa(i||".",{relative:e})},f=Di();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(w=>w==="")){m.delete("index"),y.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fr([n,c.pathname])),Jo(c)}function T_(i,e={}){let n=H.useContext(Im);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Dm("useViewTransitionState"),a=oa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jl(a.pathname,f)!=null||jl(a.pathname,c)!=null}new TextEncoder;function S_(){const[i,e]=H.useState(""),[n,s]=H.useState("");function a(w){e(w),y(w)}const c=/\d/,f=/^(?=.*[!@#$%^&*(),.?":{}|<>]).+$/,m=/[A-Z]/,y=w=>{const R=document.getElementById("numeric"),A=document.getElementById("special"),F=document.getElementById("uppercase");c.test(w)?R!==null&&(R.style.color="green"):R!==null&&(R.style.color="crimson"),f.test(w)?A!==null&&(A.style.color="green"):A!==null&&(A.style.color="crimson"),m.test(w)?F!==null&&(F.style.color="green"):F!=null&&(F.style.color="crimson"),console.log(w)},_=()=>{const R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),A=f.test(i),F=m.test(i),B=c.test(i);return R||alert("invalid email"),A&&F&&B||alert("Invalid password"),A&&F&&B&&R};return ue.jsxs("form",{className:"login-holder",children:[ue.jsx("h1",{children:"Create Account"}),ue.jsxs("div",{className:"form-group",children:[ue.jsx("label",{className:"text",children:"Email"}),ue.jsx("input",{type:"email",onChange:w=>s(w.target.value),className:"form-control",placeholder:"Enter email"})]}),ue.jsx("div",{className:"spacer"}),ue.jsxs("div",{className:"form-group",children:[ue.jsx("label",{className:"text",children:"Password"}),ue.jsx("input",{type:"password",onChange:w=>a(w.target.value),className:"form-control",placeholder:"Enter password"}),ue.jsx("div",{style:{display:"flex",flexDirection:"column"},children:ue.jsxs("ul",{className:"password-requirements",children:[ue.jsx("li",{id:"uppercase",children:"1 Uppercase Character"}),ue.jsx("li",{id:"special",children:"1 Special Character"}),ue.jsx("li",{id:"numeric",children:"1 Numeric Character"})]})})]}),ue.jsx("div",{className:"spacer"}),ue.jsxs("div",{style:{width:300},className:"button-cluster",children:[ue.jsx(eu,{to:"/honors-reading-tracker/login",children:ue.jsx("button",{type:"button",className:"btn btn-primary btn-sm",children:"Already have an account?"})}),ue.jsx("button",{type:"button",onClick:()=>_(),className:"btn btn-primary btn-sm",children:"Create Account"})]})]})}function I_(){return ue.jsx("div",{className:"weekly-graph-box"})}function C_(){const i=Ah();return ue.jsxs("div",{className:"hold-action-buttons",children:[ue.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>i("/honors-reading-tracker/read"),children:"Read Book"}),ue.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>i("/honors-reading-tracker/my-books"),children:"My Books"})]})}var wp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},R_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,F=_&63;y||(F=64,f||(A=64)),s.push(n[w],n[R],n[A],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Vm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):R_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new A_;const A=c<<2|m>>4;if(s.push(A),_!==64){const F=m<<4&240|_>>2;if(s.push(F),R!==64){const B=_<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class A_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P_=function(i){const e=Vm(i);return Lm.encodeByteArray(e,!0)},bl=function(i){return P_(i).replace(/\./g,"")},k_=function(i){try{return Lm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=()=>x_().__FIREBASE_DEFAULTS__,D_=()=>{if(typeof process>"u"||typeof wp>"u")return;const i=wp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},V_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&k_(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return N_()||D_()||V_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},L_=i=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},O_=i=>{const e=L_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Om=()=>{var i;return(i=Dh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bl(JSON.stringify(n)),bl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z_(){var i;const e=(i=Dh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B_(){return!z_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function b_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$_,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mm.prototype.create)}}class Mm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?H_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new bs(a,m,s)}}function H_(i,e){return i.replace(q_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const q_=/\{\$([^}]+)}/g;function rh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Tp(c)&&Tp(f)){if(!rh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Tp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){return i&&i._delegate?i._delegate:i}class Zo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new M_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G_(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q_(i){return i===Ai?void 0:i}function G_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const X_={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},J_=xe.INFO,Z_={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},eE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Z_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=J_,this._logHandler=eE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const tE=(i,e)=>e.some(n=>i instanceof n);let Sp,Ip;function nE(){return Sp||(Sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rE(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Um=new WeakMap,ih=new WeakMap,zm=new WeakMap,Wc=new WeakMap,Vh=new WeakMap;function iE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n($r(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Um.set(n,i)}).catch(()=>{}),Vh.set(e,i),e}function sE(i){if(ih.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ih.set(i,e)}let sh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ih.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function oE(i){sh=i(sh)}function aE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Kc(this),e,...n);return zm.set(s,e.sort?e.sort():[e]),$r(s)}:rE().includes(i)?function(...e){return i.apply(Kc(this),e),$r(Um.get(this))}:function(...e){return $r(i.apply(Kc(this),e))}}function lE(i){return typeof i=="function"?aE(i):(i instanceof IDBTransaction&&sE(i),tE(i,nE())?new Proxy(i,sh):i)}function $r(i){if(i instanceof IDBRequest)return iE(i);if(Wc.has(i))return Wc.get(i);const e=lE(i);return e!==i&&(Wc.set(i,e),Vh.set(e,i)),e}const Kc=i=>Vh.get(i);function uE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",y=>{s($r(f.result),y.oldVersion,y.newVersion,$r(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const cE=["get","getKey","getAll","getAllKeys","count"],hE=["put","add","delete","clear"],Qc=new Map;function Cp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qc.get(e))return Qc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=hE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||cE.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&y.done]))[0]};return Qc.set(e,c),c}oE(i=>({...i,get:(e,n,s)=>Cp(e,n)||i.get(e,n,s),has:(e,n)=>!!Cp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oh="@firebase/app",Rp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Fm("@firebase/app"),pE="@firebase/app-compat",mE="@firebase/analytics-compat",gE="@firebase/analytics",yE="@firebase/app-check-compat",vE="@firebase/app-check",_E="@firebase/auth",EE="@firebase/auth-compat",wE="@firebase/database",TE="@firebase/data-connect",SE="@firebase/database-compat",IE="@firebase/functions",CE="@firebase/functions-compat",RE="@firebase/installations",AE="@firebase/installations-compat",PE="@firebase/messaging",kE="@firebase/messaging-compat",xE="@firebase/performance",NE="@firebase/performance-compat",DE="@firebase/remote-config",VE="@firebase/remote-config-compat",LE="@firebase/storage",OE="@firebase/storage-compat",ME="@firebase/firestore",FE="@firebase/vertexai",UE="@firebase/firestore-compat",zE="firebase",BE="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="[DEFAULT]",jE={[oh]:"fire-core",[pE]:"fire-core-compat",[gE]:"fire-analytics",[mE]:"fire-analytics-compat",[vE]:"fire-app-check",[yE]:"fire-app-check-compat",[_E]:"fire-auth",[EE]:"fire-auth-compat",[wE]:"fire-rtdb",[TE]:"fire-data-connect",[SE]:"fire-rtdb-compat",[IE]:"fire-fn",[CE]:"fire-fn-compat",[RE]:"fire-iid",[AE]:"fire-iid-compat",[PE]:"fire-fcm",[kE]:"fire-fcm-compat",[xE]:"fire-perf",[NE]:"fire-perf-compat",[DE]:"fire-rc",[VE]:"fire-rc-compat",[LE]:"fire-gcs",[OE]:"fire-gcs-compat",[ME]:"fire-fst",[UE]:"fire-fst-compat",[FE]:"fire-vertex","fire-js":"fire-js",[zE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Map,bE=new Map,lh=new Map;function Ap(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Hl(i){const e=i.name;if(lh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;lh.set(e,i);for(const n of $l.values())Ap(n,i);for(const n of bE.values())Ap(n,i);return!0}function $E(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Mm("app","Firebase",HE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=BE;function Bm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ah,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=Om()),!n)throw Hr.create("no-options");const c=$l.get(a);if(c){if(rh(n,c.options)&&rh(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new Y_(a);for(const y of lh.values())f.addComponent(y);const m=new qE(n,s,f);return $l.set(a,m),m}function KE(i=ah){const e=$l.get(i);if(!e&&i===ah&&Om())return Bm();if(!e)throw Hr.create("no-app",{appName:i});return e}function xs(i,e,n){var s;let a=(s=jE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}Hl(new Zo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebase-heartbeat-database",GE=1,ea="firebase-heartbeat-store";let Gc=null;function jm(){return Gc||(Gc=uE(QE,GE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ea)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Gc}async function YE(i){try{const n=(await jm()).transaction(ea),s=await n.objectStore(ea).get(bm(i));return await n.done,s}catch(e){if(e instanceof bs)dr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Pp(i,e){try{const s=(await jm()).transaction(ea,"readwrite");await s.objectStore(ea).put(e,bm(i)),await s.done}catch(n){if(n instanceof bs)dr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=1024,JE=30*24*60*60*1e3;class ZE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=kp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=JE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kp(),{heartbeatsToSend:s,unsentEntries:a}=ew(this._heartbeatsCache.heartbeats),c=bl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function kp(){return new Date().toISOString().substring(0,10)}function ew(i,e=XE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),xp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?b_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xp(i){return bl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(i){Hl(new Zo("platform-logger",e=>new fE(e),"PRIVATE")),Hl(new Zo("heartbeat",e=>new ZE(e),"PRIVATE")),xs(oh,Rp,i),xs(oh,Rp,"esm2017"),xs("fire-js","")}nw("");var rw="firebase",iw="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(rw,iw,"app");var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,$m;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,D,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return T.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],D=x.g[2];var L=x.g[3],C=T+(L^I&(D^L))+k[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=L+(D^T&(I^D))+k[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=D+(I^L&(T^I))+k[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(T^D&(L^T))+k[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(L^I&(D^L))+k[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(D^T&(I^D))+k[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=D+(I^L&(T^I))+k[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(T^D&(L^T))+k[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(L^I&(D^L))+k[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(D^T&(I^D))+k[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=D+(I^L&(T^I))+k[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(T^D&(L^T))+k[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(L^I&(D^L))+k[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(D^T&(I^D))+k[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=D+(I^L&(T^I))+k[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(T^D&(L^T))+k[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(D^L&(I^D))+k[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(T^I))+k[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(L^T))+k[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(D^L))+k[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^L&(I^D))+k[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(T^I))+k[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(L^T))+k[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(D^L))+k[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^L&(I^D))+k[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(T^I))+k[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(L^T))+k[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(D^L))+k[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^L&(I^D))+k[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(T^I))+k[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(L^T))+k[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(D^L))+k[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(I^D^L)+k[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^D)+k[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=D+(L^T^I)+k[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^T)+k[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^L)+k[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^D)+k[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=D+(L^T^I)+k[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^T)+k[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^L)+k[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^D)+k[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=D+(L^T^I)+k[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^T)+k[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^L)+k[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^D)+k[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=D+(L^T^I)+k[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^T)+k[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(D^(I|~L))+k[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~D))+k[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=D+(T^(L|~I))+k[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~T))+k[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~L))+k[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~D))+k[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=D+(T^(L|~I))+k[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~T))+k[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~L))+k[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~D))+k[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=D+(T^(L|~I))+k[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~T))+k[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~L))+k[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~D))+k[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=D+(T^(L|~I))+k[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,D=this.h,L=0;L<T;){if(D==0)for(;L<=I;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(k[D++]=x.charCodeAt(L++),D==this.blockSize){a(this,k),D=0;break}}else for(;L<T;)if(k[D++]=x[L++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function f(x,T){this.h=T;for(var I=[],k=!0,D=x.length-1;0<=D;D--){var L=x[D]|0;k&&L==T||(I[D]=L,k=!1)}this.g=I}var m={};function y(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return j(_(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return j(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),k=R,D=0;D<x.length;D+=8){var L=Math.min(8,x.length-D),C=parseInt(x.substring(D,D+L),T);8>L?(L=_(Math.pow(T,L)),k=k.j(L).add(_(C))):(k=k.j(I),k=k.add(_(C)))}return k}var R=y(0),A=y(1),F=y(16777216);i=f.prototype,i.m=function(){if($(this))return-j(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+j(this).toString(x);for(var T=_(Math.pow(x,6)),I=this,k="";;){var D=fe(I,T).g;I=G(I,D.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=D,B(I))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=G(this,x),$(x)?-1:B(x)?0:1};function j(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new f(I,~x.h).add(A)}i.abs=function(){return $(this)?j(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,D=0;D<=T;D++){var L=k+(this.i(D)&65535)+(x.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,L&=65535,C&=65535,I[D]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function G(x,T){return x.add(j(T))}i.j=function(x){if(B(this)||B(x))return R;if($(this))return $(x)?j(this).j(j(x)):j(j(this).j(x));if($(x))return j(this.j(j(x)));if(0>this.l(F)&&0>x.l(F))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var L=this.i(k)>>>16,C=this.i(k)&65535,et=x.i(D)>>>16,At=x.i(D)&65535;I[2*k+2*D]+=C*At,X(I,2*k+2*D),I[2*k+2*D+1]+=L*At,X(I,2*k+2*D+1),I[2*k+2*D+1]+=C*et,X(I,2*k+2*D+1),I[2*k+2*D+2]+=L*et,X(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new f(I,0)};function X(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function oe(x,T){this.g=x,this.h=T}function fe(x,T){if(B(T))throw Error("division by zero");if(B(x))return new oe(R,R);if($(x))return T=fe(j(x),T),new oe(j(T.g),j(T.h));if($(T))return T=fe(x,j(T)),new oe(j(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=A,k=T;0>=k.l(x);)I=Ce(I),k=Ce(k);var D=we(I,1),L=we(k,1);for(k=we(k,2),I=we(I,2);!B(k);){var C=L.add(k);0>=C.l(x)&&(D=D.add(I),L=C),k=we(k,1),I=we(I,1)}return T=G(x,D.j(T)),new oe(D,T)}for(D=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(I),C=L.j(T);$(C)||0<C.l(x);)I-=k,L=_(I),C=L.j(T);B(L)&&(L=A),D=D.add(L),x=G(x,C)}return new oe(D,x)}i.A=function(x){return fe(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new f(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new f(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new f(I,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(I,x.h)}function we(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,D=[],L=0;L<k;L++)D[L]=0<T?x.i(L+I)>>>T|x.i(L+I+1)<<32-T:x.i(L+I);return new f(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$m=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,qr=f}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hm,qo,qm,Ml,uh,Wm,Km,Qm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in g))break e;g=g[O]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,O={next:function(){if(!E&&g<l.length){var b=g++;return{value:d(b,l[b]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function R(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function A(l,d,g){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,A.apply(null,arguments)}function F(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function B(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,O,b){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return d.prototype[O].apply(E,Z)}}function $(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function j(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const O=l.length||0,b=E.length||0;l.length=O+b;for(let Z=0;Z<b;Z++)l[O+Z]=E[Z]}else l.push(E)}}class G{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function we(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function x(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function T(l){const d={};for(const g in l)d[g]=l[g];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)l[g]=E[g];for(let b=0;b<I.length;b++)g=I[b],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function D(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function C(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class et{constructor(){this.h=this.g=null}add(d,g){const E=At.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var At=new G(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ee=!1,de=new et,re=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(V)}};var V=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){L(g)}var d=At;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Se(l,d){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ce){e:{try{fe(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}B(Se,he);var Ae={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,d,g,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=O,this.key=++Fe,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,d,g,E,O){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var Z=gr(l,d,E,O);return-1<Z?(d=l[Z],g||(d.fa=!1)):(d=new je(d,this.src,b,!!E,O),d.fa=g,l.push(d)),d};function Li(l,d){var g=d.type;if(g in l.g){var E=l.g[g],O=Array.prototype.indexOf.call(E,d,void 0),b;(b=0<=O)&&Array.prototype.splice.call(E,O,1),b&&(mt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gr(l,d,g,E){for(var O=0;O<l.length;++O){var b=l[O];if(!b.da&&b.listener==d&&b.capture==!!g&&b.ha==E)return O}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Oi={};function Ks(l,d,g,E,O){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Ks(l,d[b],g,E,O);return null}return g=Ys(g),l&&l[Me]?l.K(d,g,_(E)?!!E.capture:!1,O):Qs(l,d,g,!1,E,O)}function Qs(l,d,g,E,O,b){if(!d)throw Error("Invalid event type");var Z=_(O)?!!O.capture:!!O,Ue=Fi(l);if(Ue||(l[Jr]=Ue=new Qn(l)),g=Ue.add(d,g,E,Z,b),g.proxy)return g;if(E=ha(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Te||(O=Z),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(Yn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ha(){function l(g){return d.call(l.src,l.listener,g)}const d=Gs;return l}function Mi(l,d,g,E,O){if(Array.isArray(d))for(var b=0;b<d.length;b++)Mi(l,d[b],g,E,O);else E=_(E)?!!E.capture:!!E,g=Ys(g),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(b=l.g[d],g=gr(b,g,E,O),-1<g&&(mt(b[g]),Array.prototype.splice.call(b,g,1),b.length==0&&(delete l.g[d],l.h--)))):l&&(l=Fi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=gr(d,g,E,O)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])Li(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Yn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=Fi(d))?(Li(g,l),g.h==0&&(g.src=null,d[Jr]=null)):mt(l)}}}function Yn(l){return l in Oi?Oi[l]:Oi[l]="on"+l}function Gs(l,d){if(l.da)l=!0;else{d=new Se(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Gn(l),l=g.call(E,d)}return l}function Fi(l){return l=l[Jr],l instanceof Qn?l:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(l){return typeof l=="function"?l:(l[Ui]||(l[Ui]=function(d){return l.handleEvent(d)}),l[Ui])}function lt(){q.call(this),this.i=new Qn(this),this.M=this,this.F=null}B(lt,q),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,d,g,E){Mi(this,l,d,g,E)};function ut(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new he(d,l);else if(d instanceof he)d.target=d.target||l;else{var O=d;d=new he(E,l),k(d,O)}if(O=!0,g)for(var b=g.length-1;0<=b;b--){var Z=d.g=g[b];O=Xn(Z,E,!0,d)&&O}if(Z=d.g=l,O=Xn(Z,E,!0,d)&&O,O=Xn(Z,E,!1,d)&&O,g)for(b=0;b<g.length;b++)Z=d.g=g[b],O=Xn(Z,E,!1,d)&&O}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)mt(g[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},lt.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function Xn(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,b=0;b<d.length;++b){var Z=d[b];if(Z&&!Z.da&&Z.capture==g){var Ue=Z.listener,ct=Z.ha||Z.src;Z.fa&&Li(l.i,Z),O=Ue.call(ct,E)!==!1&&O}}return O&&!E.defaultPrevented}function Xs(l,d,g){if(typeof l=="function")g&&(l=A(l,g));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function yr(l){l.g=Xs(()=>{l.g=null,l.i&&(l.i=!1,yr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Zr extends q{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){q.call(this),this.h=l,this.g={}}B(ei,q);var Js=[];function Zs(l){we(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}ei.prototype.N=function(){ei.aa.N.call(this),Zs(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=m.JSON.stringify,to=m.JSON.parse,no=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function zi(l){return l.h||(l.h=l.i())}function Bi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){he.call(this,"d")}B(xn,he);function ji(){he.call(this,"c")}B(ji,he);var Nn={},ro=null;function ni(){return ro=ro||new lt}Nn.La="serverreachability";function io(l){he.call(this,Nn.La,l)}B(io,he);function Jn(l){const d=ni();ut(d,new io(d))}Nn.STAT_EVENT="statevent";function so(l,d){he.call(this,Nn.STAT_EVENT,l),this.stat=d}B(so,he);function tt(l){const d=ni();ut(d,new so(d,l))}Nn.Ma="timingevent";function bi(l,d){he.call(this,Nn.Ma,l),this.size=d}B(bi,he);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function ii(l,d,g,E,O,b){l.info(function(){if(l.g)if(b)for(var Z="",Ue=b.split("&"),ct=0;ct<Ue.length;ct++){var Pe=Ue[ct].split("=");if(1<Pe.length){var gt=Pe[0];Pe=Pe[1];var st=gt.split("_");Z=2<=st.length&&st[1]=="type"?Z+(gt+"="+Pe+"&"):Z+(gt+"=redacted&")}}else Z=null;else Z=b;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+g+`
`+Z})}function $i(l,d,g,E,O,b,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+g+`
`+b+" "+Z})}function gn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+du(l,g)+(E?" "+E:"")})}function oo(l,d){l.info(function(){return"TIMEOUT: "+d})}ri.prototype.info=function(){};function du(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var b=O[0];if(b!="noop"&&b!="stop"&&b!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return eo(g)}catch{return d}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function si(){}B(si,ti),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},yn=new si;function vn(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}var ao={},qi={};function Wi(l,d,g){l.L=1,l.v=Tr(Jt(d)),l.m=g,l.P=!0,lo(l,null)}function lo(l,d){l.F=Date.now(),be(l),l.A=Jt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ir(g.i,"t",E),l.C=0,g=l.j.J,l.h=new da,l.g=Na(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Zr(A(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Js[0]=O.toString()),O=Js);for(var b=0;b<O.length;b++){var Z=Ks(g,O[b],E||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),ii(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const st=bt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||st!=4||d==7||(d==8||0>=ln?Jn(3):Jn(2)),oi(this);var g=this.g.Z();this.X=g;t:if(pa(this)){var E=mo(this.g);l="";var O=E.length,b=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),vr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(b&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,$i(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ct=this.g;if((Ue=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ue)){var Pe=Ue;break t}}Pe=null}if(g=Pe)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,g);else{this.o=!1,this.s=3,tt(12),on(this),vr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<Z.length;)if(en=pu(this,Z),en==qi){st==4&&(this.s=4,tt(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ao){this.s=4,tt(15),gn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,en,null),uo(this,en);if(pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Z.length!=0||this.h.h||(this.s=1,tt(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,Z,"[Invalid Chunked Response]"),on(this),vr(this);else if(0<Z.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),yo(gt),gt.M=!0,tt(11))}}else gn(this.i,this.l,Z,null),uo(this,Z);st==4&&on(this),this.o&&!this.J&&(st==4?rs(this.j,this):(this.o=!1,be(this)))}else Ji(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),on(this),vr(this)}}}catch{}finally{}};function pa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?qi:(g=Number(d.substring(g,E)),isNaN(g)?ao:(E+=1,E+g>d.length?qi:(d=d.slice(E,E+g),l.C=E+g,d)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function be(l){l.S=Date.now()+l.I,ma(l,l.I)}function ma(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(A(l.ba,l),d)}function oi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(oo(this.i,this.A),this.L!=2&&(Jn(),tt(17)),on(this),this.s=2,vr(this)):ma(this,this.S-l)};function vr(l){l.j.G==0||l.J||rs(l.j,l)}function on(l){oi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Zs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function uo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Mt(g.h,l))){if(!l.K&&Mt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ns(g),Sn(g);else break e;ts(g),tt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(A(g.Za,g),6e3));if(1>=ya(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&ns(g),!X(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Pe=O[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const gt=Pe[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const st=Pe[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const ln=Pe[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const en=l.g;if(en){const di=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var b=E.h;b.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(co(b,b.h),b.h=null))}if(E.D){const ss=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(E.ya=ss,Be(E.I,E.D,ss))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=l;if(E.qa=xa(E,E.J?E.ia:null,E.W),Z.K){va(E.h,Z);var Ue=Z,ct=E.L;ct&&(Ue.I=ct),Ue.B&&(oi(Ue),be(Ue)),E.g=Z}else fi(E);0<g.i.length&&On(g)}else Pe[0]!="stop"&&Pe[0]!="close"||rr(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?rr(g,7):Tt(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}Jn(4)}catch{}}var ga=class{constructor(l,d){this.g=l,this.map=d}};function ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ya(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function co(l,d){l.g?l.g.add(d):l.h=d}function va(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ai.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function _a(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return $(l.i)}function Ki(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Qi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Qi(l),E=Ki(l),O=E.length,b=0;b<O;b++)d.call(void 0,E[b],g&&g[b],l)}var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),O=null;if(0<=E){var b=l[g].substring(0,E);O=l[g].substring(E+1)}else b=l[g];d(b,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ui(this,l.j),this.o=l.o,this.g=l.g,Er(this,l.s),this.l=l.l;var d=l.i,g=new Dn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),wr(this,g),this.m=l.m}else l&&(d=String(l).match(li))?(this.h=!1,ui(this,d[1]||"",!0),this.o=Re(d[2]||""),this.g=Re(d[3]||"",!0),Er(this,d[4]),this.l=Re(d[5]||"",!0),wr(this,d[6]||"",!0),this.m=Re(d[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sr(d,Gi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sr(d,Gi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Sr(g,g.charAt(0)=="/"?Ta:wa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Sr(g,ho)),l.join("")};function Jt(l){return new Zn(l)}function ui(l,d,g){l.j=g?Re(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Er(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function wr(l,d,g){d instanceof Dn?(l.i=d,Vn(l.i,l.h)):(g||(d=Sr(d,Sa)),l.i=new Dn(d,l.h))}function Be(l,d,g){l.i.set(d,g)}function Tr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Re(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ea),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ea(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gi=/[#\/\?@]/g,wa=/[#\?:]/g,Ta=/[#\?]/g,Sa=/[#\?@]/g,ho=/#/g;function Dn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function wt(l){l.g||(l.g=new Map,l.h=0,l.i&&mu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Dn.prototype,i.add=function(l,d){wt(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function _n(l,d){wt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return wt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){wt(this),this.g.forEach(function(g,E){g.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){wt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const O=l[E];for(let b=0;b<O.length;b++)g.push(d[E])}return g},i.V=function(l){wt(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return wt(this),this.i=null,l=an(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){_n(l,d),0<g.length&&(l.i=null,l.g.set(an(l,d),$(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const b=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=b;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),l.push(O)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Vn(l,d){d&&!l.j&&(wt(l),l.i=null,l.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(_n(this,E),Ir(this,O,g))},l)),l.j=d}function gu(l,d){const g=new ri;if(m.Image){const E=new Image;E.onload=F(jt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=F(jt,g,"TestLoadImage: error",!1,d,E),E.onabort=F(jt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=F(jt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ia(l,d){const g=new ri,E=new AbortController,O=setTimeout(()=>{E.abort(),jt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(b=>{clearTimeout(O),b.ok?jt(g,"TestPingServer: ok",!0,d):jt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),jt(g,"TestPingServer: error",!1,d)})}function jt(l,d,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function yu(){this.g=new no}function Ca(l,d,g){const E=g||"";try{_r(l,function(O,b){let Z=O;_(O)&&(Z=eo(O)),d.push(E+b+"="+encodeURIComponent(Z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}B(er,ti),er.prototype.g=function(){return new ci(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function ci(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(ci,lt),i=ci.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ra(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ra(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&Ra(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return we(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Cr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Be(l,d,g))}function We(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(We,lt);var vu=/^https?$/i,fo=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?zi(this.o):zi(yn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(b){hi(this,b);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const b of E.keys())g.set(b,E.get(b));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(b=>b.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fo,d,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,Z]of g)this.g.setRequestHeader(b,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){hi(this,b)}};function hi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Yi(l),Zt(l)}function Yi(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},i.bb=function(){po(this)};function po(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Xs(l.Ea,0,l);else if(ut(l,"readystatechange"),bt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=Z===0){var O=String(l.D).match(li)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!vu.test(O?O.toLowerCase():"")}g=E}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var b=2<bt(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",Yi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Xi(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=E}catch{}}}function Xi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),to(d)}};function mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(X(l[E]))continue;var g=D(l[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const b=d[O]||[];d[O]=b,b.push(g)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function go(l){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,l),this.cb=Ln("retryDelaySeedMs",1e4,l),this.Wa=Ln("forwardChannelMaxRetries",2,l),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(l&&l.concurrentRequestLimit),this.Da=new yu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=go.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){tt(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=xa(this,null,this.W),On(this)};function Tt(l){if(Zi(l),l.G==3){var d=l.U++,g=Jt(l.I);if(Be(g,"SID",l.K),Be(g,"RID",d),Be(g,"TYPE","terminate"),nr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=Tr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Na(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}ka(l)}function Sn(l){l.g&&(yo(l),l.g.cancel(),l.g=null)}function Zi(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ns(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function On(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ze||re(),ee||(ze(),ee=!0),de.add(d,l),l.B=0}}function _u(l,d){return ya(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(A(l.Ga,l,d),Pa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new vn(this,this.j,l);let b=this.o;if(this.S&&(b?(b=T(b),k(b,this.S)):b=this.S),this.m!==null||this.O||(O.H=b,b=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Rr(this,O,d),g=Jt(this.I),Be(g,"RID",l),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),nr(this,g),b&&(this.O?d="headers="+encodeURIComponent(String(tr(b)))+"&"+d:this.m&&Cr(g,this.m,b)),co(this.h,O),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",d),Be(g,"SID","null"),O.T=!0,Wi(O,g,null)):Wi(O,g,d),this.G=2}}else this.G==3&&(l?es(this,l):this.i.length==0||Xt(this.h)||es(this))};function es(l,d){var g;d?g=d.l:g=l.U++;const E=Jt(l.I);Be(E,"SID",l.K),Be(E,"RID",g),Be(E,"AID",l.T),nr(l,E),l.m&&l.o&&Cr(E,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Rr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),co(l.h,g),Wi(g,E,d)}function nr(l,d){l.H&&we(l.H,function(g,E){Be(d,E,g)}),l.l&&_r({},function(g,E){Be(d,E,g)})}function Rr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?A(l.l.Na,l.l,l):null;e:{var O=l.i;let b=-1;for(;;){const Z=["count="+g];b==-1?0<g?(b=O[0].g,Z.push("ofs="+b)):b=0:Z.push("ofs="+b);let Ue=!0;for(let ct=0;ct<g;ct++){let Pe=O[ct].g;const gt=O[ct].map;if(Pe-=b,0>Pe)b=Math.max(0,O[ct].g-100),Ue=!1;else try{Ca(gt,Z,"req"+Pe+"_")}catch{E&&E(gt)}}if(Ue){E=Z.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function fi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ze||re(),ee||(ze(),ee=!0),de.add(d,l),l.v=0}}function ts(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(A(l.Fa,l),Pa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Aa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sn(this),Aa(this))};function yo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Aa(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Cr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Tr(Jt(d)),g.m=null,g.P=!0,lo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),ts(this),tt(19))};function ns(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function rs(l,d){var g=null;if(l.g==d){ns(l),yo(l),l.g=null;var E=2}else if(Mt(l.h,d))g=d.D,va(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=ni(),ut(E,new bi(E,g)),On(l)}else fi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&_u(l,d)||E==2&&ts(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),O){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Pa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var g=A(l.fb,l),E=l.Xa;const O=!E;E=new Zn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ui(E,"https"),Tr(E),O?gu(E.toString(),g):Ia(E.toString(),g)}else tt(2);l.G=0,l.l&&l.l.sa(d),ka(l),Zi(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function ka(l){if(l.G=0,l.ka=[],l.l){const d=_a(l.h);(d.length!=0||l.i.length!=0)&&(j(l.ka,d),j(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function xa(l,d,g){var E=g instanceof Zn?Jt(g):new Zn(g);if(E.g!="")d&&(E.g=d+"."+E.g),Er(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var b=new Zn(null);E&&ui(b,E),d&&(b.g=d),O&&Er(b,O),g&&(b.l=g),E=b}return g=l.D,d=l.ya,g&&d&&Be(E,g,d),Be(E,"VER",l.la),nr(l,E),E}function Na(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new er({eb:g})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vo(){}i=vo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function is(){}is.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){lt.call(this),this.g=new go(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!X(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Mn(this)}B(Ft,lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Tt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=eo(l),l=g);d.i.push(new ga(d.Ya++,l)),d.G==3&&On(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ft.aa.N.call(this)};function Da(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}B(Da,xn);function Va(){ji.call(this),this.status=1}B(Va,ji);function Mn(l){this.g=l}B(Mn,vo),Mn.prototype.ua=function(){ut(this.g,"a")},Mn.prototype.ta=function(l){ut(this.g,new Da(l))},Mn.prototype.sa=function(l){ut(this.g,new Va)},Mn.prototype.ra=function(){ut(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Qm=function(){return new is},Km=function(){return ni()},Wm=Nn,uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Ml=Hi,fa.COMPLETE="complete",qm=fa,Bi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,qo=Bi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Hm=We}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const Dp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Fm("@firebase/firestore");function Rs(){return Ni.logLevel}function ie(i,...e){if(Ni.logLevel<=xe.DEBUG){const n=e.map(Lh);Ni.debug(`Firestore (${$s}): ${i}`,...n)}}function pr(i,...e){if(Ni.logLevel<=xe.ERROR){const n=e.map(Lh);Ni.error(`Firestore (${$s}): ${i}`,...n)}}function Ls(i,...e){if(Ni.logLevel<=xe.WARN){const n=e.map(Lh);Ni.warn(`Firestore (${$s}): ${i}`,...n)}}function Lh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Xe(i,e){i||Ee()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class ow{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aw{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new Gm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Lt(e)}}class lw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new lw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xe(this.o===void 0);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new cw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=fw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function Os(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Yt(0,0))}static max(){return new _e(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=jn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=jn.isNumericId(e),a=jn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?jn.extractNumericId(e).compare(jn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class Ze extends jn{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends jn{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return pw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}function mw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new Yt(n+1,0):new Yt(n,s));return new Kr(a,ye.empty(),e)}function gw(i){return new Kr(i.readTime,i.key,-1)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(_e.min(),ye.empty(),-1)}static max(){return new Kr(_e.max(),ye.empty(),-1)}}function yw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==vw)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Ew(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nu.oe=-1;function ru(i){return i==null}function ch(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vp(e)),e=Tw(i.get(n),e);return Vp(e)}function Tw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Vp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function aa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Sw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new jr([])}unionWith(e){let n=new pt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ym("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Iw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Xe(!!i),typeof i=="string"){let e=0;const n=Iw.exec(i);if(Xe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iu(i){const e=i.mapValue.fields.__previous_value__;return Oh(e)?iu(e):e}function ta(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,s,a,c,f,m,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Oh(i)?4:Aw(i)?9007199254740991:Rw(i)?10:11:Ee()}function qn(i,e){if(i===e)return!0;const n=Yr(i);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ta(i).isEqual(ta(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),m=Qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Gr(a.bytesValue).isEqual(Gr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return rt(a.geoPointValue.latitude)===rt(c.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return rt(a.integerValue)===rt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=rt(a.doubleValue),m=rt(c.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Os(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Lp(f)!==Lp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!qn(f[y],m[y])))return!1;return!0}(i,e);default:return Ee()}}function ra(i,e){return(i.values||[]).find(n=>qn(n,e))!==void 0}function Ms(i,e){if(i===e)return 0;const n=Yr(i),s=Yr(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=rt(c.integerValue||c.doubleValue),y=rt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Mp(i.timestampValue,e.timestampValue);case 4:return Mp(ta(i),ta(e));case 5:return Ne(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Gr(c),y=Gr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const w=Ne(m[_],y[_]);if(w!==0)return w}return Ne(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ne(rt(c.latitude),rt(f.latitude));return m!==0?m:Ne(rt(c.longitude),rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Fp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,_,w;const R=c.fields||{},A=f.fields||{},F=(m=R.value)===null||m===void 0?void 0:m.arrayValue,B=(y=A.value)===null||y===void 0?void 0:y.arrayValue,$=Ne(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((w=B==null?void 0:B.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:Fp(F,B)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===xl.mapValue&&f===xl.mapValue)return 0;if(c===xl.mapValue)return 1;if(f===xl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=f.fields||{},w=Object.keys(_);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const A=Ne(y[R],w[R]);if(A!==0)return A;const F=Ms(m[y[R]],_[w[R]]);if(F!==0)return F}return Ne(y.length,w.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function Mp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const n=Qr(i),s=Qr(e),a=Ne(n.seconds,s.seconds);return a!==0?a:Ne(n.nanos,s.nanos)}function Fp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ms(n[a],s[a]);if(c)return c}return Ne(n.length,s.length)}function Fs(i){return hh(i)}function hh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Gr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=hh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${hh(n.fields[f])}`;return a+"}"}(i.mapValue):Ee()}function Fl(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iu(i);return e?16+Fl(e):16;case 5:return 2*i.stringValue.length;case 6:return Gr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Fl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return aa(s.fields,(c,f)=>{a+=c.length+Fl(f)}),a}(i.mapValue);default:throw Ee()}}function fh(i){return!!i&&"integerValue"in i}function Mh(i){return!!i&&"arrayValue"in i}function Up(i){return!!i&&"nullValue"in i}function zp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yc(i){return!!i&&"mapValue"in i}function Rw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return aa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Aw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Bt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){aa(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new bn(Qo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,_e.min(),_e.min(),_e.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,_e.min(),_e.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,_e.min(),_e.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.position=e,this.inclusive=n}}function Bp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Ms(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function jp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{}class dt extends Xm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xw(e,n,s):n==="array-contains"?new Vw(e,s):n==="in"?new Lw(e,s):n==="not-in"?new Ow(e,s):n==="array-contains-any"?new Mw(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Nw(e,s):new Dw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Xm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wn(e,n)}matches(e){return Jm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jm(i){return i.op==="and"}function Zm(i){return kw(i)&&Jm(i)}function kw(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function dh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+Fs(i.value);if(Zm(i))return i.filters.map(e=>dh(e)).join(",");{const e=i.filters.map(n=>dh(n)).join(",");return`${i.op}(${e})`}}function eg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&qn(s.value,a.value)}(i,e):i instanceof Wn?function(s,a){return a instanceof Wn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&eg(f,a.filters[m]),!0):!1}(i,e):void Ee()}function tg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(i):i instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(tg).join(" ,")+"}"}(i):"Filter"}class xw extends dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nw extends dt{constructor(e,n){super(e,"in",n),this.keys=ng("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dw extends dt{constructor(e,n){super(e,"not-in",n),this.keys=ng("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ng(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class Vw extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mh(n)&&ra(n.arrayValue,this.value)}}class Lw extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class Ow extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class Mw extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ra(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function bp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Fw(i,e,n,s,a,c,f)}function Fh(i){const e=De(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>dh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fs(s)).join(",")),e.ue=n}return e.ue}function Uh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Pw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!eg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jp(i.startAt,e.startAt)&&jp(i.endAt,e.endAt)}function ph(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Uw(i,e,n,s,a,c,f,m){return new su(i,e,n,s,a,c,f,m)}function rg(i){return new su(i)}function $p(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zw(i){return i.collectionGroup!==null}function Go(i){const e=De(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pt(Bt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Wl(c,s))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Wl(Bt.keyField(),s))}return e.ce}function $n(i){const e=De(i);return e.le||(e.le=Bw(e,Go(i))),e.le}function Bw(i,e){if(i.limitType==="F")return bp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Wl(a.field,c)});const n=i.endAt?new ql(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ql(i.startAt.position,i.startAt.inclusive):null;return bp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function mh(i,e,n){return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ou(i,e){return Uh($n(i),$n(e))&&i.limitType===e.limitType}function ig(i){return`${Fh($n(i))}|lt:${i.limitType}`}function As(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>tg(a)).join(", ")}]`),ru(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Fs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Fs(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function au(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Go(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const _=Bp(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,Go(s),a)||s.endAt&&!function(f,m,y){const _=Bp(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,Go(s),a))}(i,e)}function jw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sg(i){return(e,n)=>{let s=!1;for(const a of Go(i)){const c=bw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function bw(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),_=m.data.field(c);return y!==null&&_!==null?Ms(y,_):Ee()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new it(ye.comparator);function Xr(){return $w}const og=new it(ye.comparator);function Wo(...i){let e=og;for(const n of i)e=e.insert(n.key,n);return e}function Hw(i){let e=og;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Pi(){return Yo()}function ag(){return Yo()}function Yo(){return new Vi(i=>i.toString(),(i,e)=>i.isEqual(e))}const qw=new pt(ye.comparator);function Le(...i){let e=qw;for(const n of i)e=e.add(n);return e}const Ww=new pt(Ne);function Kw(){return Ww}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Gw(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this._=void 0}}function Yw(i,e,n){return i instanceof gh?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Oh(c)&&(c=iu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Kl?lg(i,e):i instanceof Ql?ug(i,e):function(a,c){const f=Jw(a,c),m=Hp(f)+Hp(a.Pe);return fh(f)&&fh(a.Pe)?Gw(m):Qw(a.serializer,m)}(i,e)}function Xw(i,e,n){return i instanceof Kl?lg(i,e):i instanceof Ql?ug(i,e):n}function Jw(i,e){return i instanceof yh?function(s){return fh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class gh extends lu{}class Kl extends lu{constructor(e){super(),this.elements=e}}function lg(i,e){const n=cg(e);for(const s of i.elements)n.some(a=>qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Ql extends lu{constructor(e){super(),this.elements=e}}function ug(i,e){let n=cg(e);for(const s of i.elements)n=n.filter(a=>!qn(a,s));return{arrayValue:{values:n}}}class yh extends lu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hp(i){return rt(i.integerValue||i.doubleValue)}function cg(i){return Mh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Zw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Kl&&a instanceof Kl||s instanceof Ql&&a instanceof Ql?Os(s.elements,a.elements,qn):s instanceof yh&&a instanceof yh?qn(s.Pe,a.Pe):s instanceof gh&&a instanceof gh}(i.transform,e.transform)}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class zh{}function hg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new t0(i.key,xi.none()):new Bh(i.key,i.data,xi.none());{const n=i.data,s=bn.empty();let a=new pt(Bt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new uu(i.key,s,new jr(a.toArray()),xi.none())}}function e0(i,e,n){i instanceof Bh?function(a,c,f){const m=a.value.clone(),y=Wp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof uu?function(a,c,f){if(!Ul(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Wp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(fg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xo(i,e,n,s){return i instanceof Bh?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const _=c.value.clone(),w=Kp(c.fieldTransforms,y,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof uu?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const _=Kp(c.fieldTransforms,y,f),w=f.data;return w.setAll(fg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Ul(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function qp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Os(s,a,(c,f)=>Zw(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bh extends zh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class uu extends zh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Wp(i,e,n){const s=new Map;Xe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,Xw(f,m,n[a]))}return s}function Kp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Yw(c,f,e))}return s}class t0 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&e0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ag();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=hg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,s)=>qp(n,s))&&Os(this.baseMutations,e.baseMutations,(n,s)=>qp(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function dg(i){if(i===void 0)return pr("GRPC error has no .code"),te.UNKNOWN;switch(i){case at.OK:return te.OK;case at.CANCELLED:return te.CANCELLED;case at.UNKNOWN:return te.UNKNOWN;case at.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case at.INTERNAL:return te.INTERNAL;case at.UNAVAILABLE:return te.UNAVAILABLE;case at.UNAUTHENTICATED:return te.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case at.NOT_FOUND:return te.NOT_FOUND;case at.ALREADY_EXISTS:return te.ALREADY_EXISTS;case at.PERMISSION_DENIED:return te.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case at.ABORTED:return te.ABORTED;case at.OUT_OF_RANGE:return te.OUT_OF_RANGE;case at.UNIMPLEMENTED:return te.UNIMPLEMENTED;case at.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new qr([4294967295,4294967295],0);function Qp(i){const e=s0().encode(i),n=new $m;return n.update(e),new Uint8Array(n.digest())}function Gp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qr([n,s],0),new qr([a,c],0)]}class jh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ko(`Invalid padding: ${n}`);if(s<0)throw new Ko(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=qr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(qr.fromNumber(s)));return a.compare(o0)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Qp(e),[s,a]=Gp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new jh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Qp(e),[s,a]=Gp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cu(_e.min(),a,new it(Ne),Xr(),Le())}}class la{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new la(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class pg{constructor(e,n){this.targetId=e,this.me=n}}class mg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Yp{constructor(){this.fe=0,this.ge=Xp(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),s=Le();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee()}}),new la(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Xp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class a0{constructor(e){this.Be=e,this.Le=new Map,this.ke=Xr(),this.qe=Nl(),this.Qe=Nl(),this.Ke=new it(Ne)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(ph(c))if(s===0){const f=new ye(c.path);this.We(n,f,Ot.newNoDocument(f,_e.min()))}else Xe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(y){if(y instanceof Ym)return Ls("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new jh(f,a,c)}catch(y){return Ls(y instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&ph(m.target)){const y=new ye(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Le();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.Ye(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new cu(e,n,this.Ke,this.ke,s);return this.ke=Xr(),this.qe=Nl(),this.Qe=Nl(),this.Ke=new it(Ne),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Yp,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pt(Ne),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(Ne),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Yp),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Nl(){return new it(ye.comparator)}function Xp(){return new it(ye.comparator)}const l0={asc:"ASCENDING",desc:"DESCENDING"},u0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c0={and:"AND",or:"OR"};class h0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vh(i,e){return i.useProto3Json||ru(e)?e:{value:e}}function f0(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ns(i){return Xe(!!i),_e.fromTimestamp(function(n){const s=Qr(n);return new Yt(s.seconds,s.nanos)}(i))}function p0(i,e){return _h(i,e).canonicalString()}function _h(i,e){const n=function(a){return new Ze(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function gg(i){const e=Ze.fromString(i);return Xe(wg(e)),e}function Xc(i,e){const n=gg(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(vg(n))}function yg(i,e){return p0(i.databaseId,e)}function m0(i){const e=gg(i);return e.length===4?Ze.emptyPath():vg(e)}function Jp(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vg(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function g0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Xe(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?te.UNKNOWN:dg(_.code);return new ge(w,_.message||"")}(f);n=new mg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xc(i,s.document.name),c=Ns(s.document.updateTime),f=s.document.createTime?Ns(s.document.createTime):_e.min(),m=new bn({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new zl(_,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Xc(i,s.document),c=s.readTime?Ns(s.readTime):_e.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new zl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Xc(i,s.document),c=s.removedTargetIds||[];n=new zl([],c,a,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new i0(a,c),m=s.targetId;n=new pg(m,f)}}return n}function y0(i,e){return{documents:[yg(i,e.path)]}}function v0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yg(i,a);const c=function(_){if(_.length!==0)return Eg(Wn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(A){return{field:Ps(A.field),direction:w0(A.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=vh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function _0(i){let e=m0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Xe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const A=_g(R);return A instanceof Wn&&Zm(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(A=>function(B){return new Wl(ks(B.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(R){let A;return A=typeof R=="object"?R.value:R,ru(A)?null:A}(n.limit));let y=null;n.startAt&&(y=function(R){const A=!!R.before,F=R.values||[];return new ql(F,A)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const A=!R.before,F=R.values||[];return new ql(F,A)}(n.endAt)),Uw(e,a,f,c,m,"F",y,_)}function E0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _g(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ks(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ks(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ks(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ks(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(ks(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>_g(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function w0(i){return l0[i]}function T0(i){return u0[i]}function S0(i){return c0[i]}function Ps(i){return{fieldPath:i.canonicalString()}}function ks(i){return Bt.fromServerFormat(i.fieldPath)}function Eg(i){return i instanceof dt?function(n){if(n.op==="=="){if(zp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(Up(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zp(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(Up(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:T0(n.op),value:n.value}}}(i):i instanceof Wn?function(n){const s=n.getFilters().map(a=>Eg(a));return s.length===1?s[0]:{compositeFilter:{op:S0(n.op),filters:s}}}(i):Ee()}function wg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.ht=e}}function C0(i){const e=_0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.ln=new A0}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Kr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class A0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(Ze.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Us(0)}static Qn(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em([i,e],[n,s]){const a=Ne(i,n);return a===0?Ne(e,s):a}class P0{constructor(e){this.Gn=e,this.buffer=new pt(em),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();em(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Yn(3e5)})}}class x0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(nu.oe);const s=new P0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Zp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),Rs()<=xe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function N0(i,e){return new x0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Xo(s.mutation,a,jr.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const a=Pi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Wo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Xr();const f=Yo(),m=function(){return Yo()}();return n.forEach((y,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof uu)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),Xo(w.mutation,_,w.mutation.getFieldMask(),Yt.now())):f.set(_.key,jr.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new V0(w,(R=f.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Yo();let a=new it((f,m)=>f-m),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let w=s.get(y)||jr.empty();w=m.applyToLocalView(_,w),s.set(y,w);const R=(a.get(m.batchId)||Le()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,w=y.value,R=ag();w.forEach(A=>{if(!c.has(A)){const F=hg(n.get(A),s.get(A));F!==null&&R.set(A,F),c=c.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Pi());let m=-1,y=c;return f.next(_=>W.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{y=y.insert(w,A)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Le())).next(w=>({batchId:m,changes:Hw(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=Wo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Wo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const _=function(R,A){return new su(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,A)=>{f=f.insert(R,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ot.newInvalidDocument(w)))});let m=Wo();return f.forEach((y,_)=>{const w=c.get(y);w!==void 0&&Xo(w.mutation,_,jr.empty(),Yt.now()),au(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ns(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:C0(a.bundledQuery),readTime:Ns(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.overlays=new it(ye.comparator),this.dr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pi();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Pi(),c=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new it((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Pi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Pi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new r0(n,s));let c=this.dr.get(n);c===void 0&&(c=Le(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.Er=new pt(Et.Ar),this.Rr=new pt(Et.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Et(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ye(new Ze([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new Ze([])),s=new Et(n,e),a=new Et(n,e+1);let c=Le();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Et(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||Ne(e.br,n.br)}static Vr(e,n){return Ne(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pt(Et.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new n0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Et(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Ne);return n.forEach(a=>{const c=new Et(a,0),f=new Et(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const f=new Et(new ye(c),0);let m=new pt(Ne);return this.vr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.br)),!0)},f),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Xe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Et(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.Nr=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=Xr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Xr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:w}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||yw(gw(w),s)<=0||(a.has(w.key)||au(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ee()}Br(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new B0(this)}getSize(e){return W.resolve(this.size)}}class B0 extends D0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.persistence=e,this.Lr=new Vi(n=>Fh(n),Uh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new bh,this.targetCount=0,this.Qr=Us.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Us(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new nu(0),this.Ur=!1,this.Ur=!0,this.Wr=new F0,this.referenceDelegate=e(this),this.Gr=new j0(this),this.indexManager=new R0,this.remoteDocumentCache=function(a){return new z0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new I0(n),this.jr=new O0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new U0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new b0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class b0 extends _w{constructor(e){super(),this.currentSequenceNumber=e}}class $h{constructor(e){this.persistence=e,this.Zr=new bh,this.Xr=null}static ei(e){return new $h(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ye.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Gl{constructor(e,n){this.persistence=e,this.ri=new Vi(s=>ww(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=N0(this,n)}static ei(e,n){return new Gl(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Le(),a=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Hh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return B_()?8:Ew(U_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new $0;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Rs()<=xe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Rs()<=xe.DEBUG&&ie("QueryEngine","Query:",As(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Rs()<=xe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):W.resolve())}Xi(e,n){if($p(n))return W.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=mh(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Le(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.rs(n,m);return this.ss(n,_,f,y.readTime)?this.Xi(e,mh(n,null,"F")):this.os(e,_,n,y)}))})))}es(e,n,s,a){return $p(n)||a.isEqual(_e.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?W.resolve(null):(Rs()<=xe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),As(n)),this.os(e,f,n,mw(a,-1)).next(m=>m))})}rs(e,n){let s=new pt(sg(e));return n.forEach((a,c)=>{au(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Rs()<=xe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",As(n)),this.Zi.getDocumentsMatchingQuery(e,n,Kr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new it(Ne),this.cs=new Vi(c=>Fh(c),Uh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function W0(i,e,n,s){return new q0(i,e,n,s)}async function Sg(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Le();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function Ig(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function K0(i,e){const n=De(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const A=a.get(R);if(!A)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let F=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?F=F.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),a=a.insert(R,F),function($,j,G){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,F,w)&&m.push(n.Gr.updateTargetData(c,F))});let y=Xr(),_=Le();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(Q0(c,f,e.documentUpdates).next(w=>{y=w.Is,_=w.ds})),!s.isEqual(_e.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.us=a,c))}function Q0(i,e,n){let s=Le(),a=Le();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Xr();return n.forEach((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ie("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{Is:f,ds:a}})}function G0(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Eh(i,e,n){const s=De(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Hs(f))throw f;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function tm(i,e,n){const s=De(i);let a=_e.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,w){const R=De(y),A=R.cs.get(w);return A!==void 0?W.resolve(R.us.get(A)):R.Gr.getTargetData(_,w)}(s,f,$n(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Le())).next(m=>(Y0(s,jw(e),m),{documents:m,Es:c})))}function Y0(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class nm{constructor(){this.activeTargetIds=Kw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X0{constructor(){this._o=new nm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new nm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=null;function Jc(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class tT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Jc(),y=this.No(n,s.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(_,c,f),this.Lo(n,y,_,a).then(w=>(ie("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Ls("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=Z0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=Jc();return new Promise((f,m)=>{const y=new Hm;y.setWithCredentials(!0),y.listenOnce(qm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ml.NO_ERROR:const w=y.getResponseJson();ie(Vt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ml.TIMEOUT:ie(Vt,`RPC '${e}' ${c} timed out`),m(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const R=y.getStatus();if(ie(Vt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let A=y.getResponseJson();Array.isArray(A)&&(A=A[0]);const F=A==null?void 0:A.error;if(F&&F.status&&F.message){const B=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(F.status);m(new ge(B,F.message))}else m(new ge(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ie(Vt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ie(Vt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",_,s,15)})}qo(e,n,s){const a=Jc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Qm(),m=Km(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Bo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");ie(Vt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=f.createWebChannel(w,y);let A=!1,F=!1;const B=new eT({Eo:j=>{F?ie(Vt,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(A||(ie(Vt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),A=!0),ie(Vt,`RPC '${e}' stream ${a} sending:`,j),R.send(j))},Ao:()=>R.close()}),$=(j,G,X)=>{j.listen(G,oe=>{try{X(oe)}catch(fe){setTimeout(()=>{throw fe},0)}})};return $(R,qo.EventType.OPEN,()=>{F||(ie(Vt,`RPC '${e}' stream ${a} transport opened.`),B.So())}),$(R,qo.EventType.CLOSE,()=>{F||(F=!0,ie(Vt,`RPC '${e}' stream ${a} transport closed`),B.Do())}),$(R,qo.EventType.ERROR,j=>{F||(F=!0,Ls(Vt,`RPC '${e}' stream ${a} transport errored:`,j),B.Do(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),$(R,qo.EventType.MESSAGE,j=>{var G;if(!F){const X=j.data[0];Xe(!!X);const oe=X,fe=(oe==null?void 0:oe.error)||((G=oe[0])===null||G===void 0?void 0:G.error);if(fe){ie(Vt,`RPC '${e}' stream ${a} received error:`,fe);const Ce=fe.status;let we=function(I){const k=at[I];if(k!==void 0)return dg(k)}(Ce),x=fe.message;we===void 0&&(we=te.INTERNAL,x="Unknown error status: "+Ce+" with message "+fe.message),F=!0,B.Do(new ge(we,x)),R.close()}else ie(Vt,`RPC '${e}' stream ${a} received:`,X),B.vo(X)}}),$(m,Wm.STAT_EVENT,j=>{j.stat===uh.PROXY?ie(Vt,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===uh.NOPROXY&&ie(Vt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{B.bo()},0),B}}function Zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(i){return new h0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Rg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ge(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rT extends nT{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=g0(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Ns(f.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Jp(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=ph(y)?{documents:y0(c,y)}:{query:v0(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=d0(c,f.resumeToken);const _=vh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=f0(c,f.snapshotVersion.toTimestamp());const _=vh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=E0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Jp(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,_h(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(te.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,_h(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(te.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pr(n),this.C_=!1):ie("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{ca(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(y){const _=De(y);_.k_.add(4),await ua(_),_.K_.set("Unknown"),_.k_.delete(4),await hu(_)}(this))})}),this.K_=new sT(s,a)}}async function hu(i){if(ca(i))for(const e of i.q_)await e(!0)}async function ua(i){for(const e of i.q_)await e(!1)}function Ag(i,e){const n=De(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Qh(n)?Kh(n):qs(n).s_()&&Wh(n,e))}function qh(i,e){const n=De(i),s=qs(n);n.L_.delete(e),s.s_()&&Pg(n,e),n.L_.size===0&&(s.s_()?s.a_():ca(n)&&n.K_.set("Unknown"))}function Wh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(i).V_(e)}function Pg(i,e){i.U_.xe(e),qs(i).m_(e)}function Kh(i){i.U_=new a0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),qs(i).start(),i.K_.F_()}function Qh(i){return ca(i)&&!qs(i).i_()&&i.L_.size>0}function ca(i){return De(i).k_.size===0}function kg(i){i.U_=void 0}async function aT(i){i.K_.set("Online")}async function lT(i){i.L_.forEach((e,n)=>{Wh(i,e)})}async function uT(i,e){kg(i),Qh(i)?(i.K_.O_(e),Kh(i)):i.K_.set("Unknown")}async function cT(i,e,n){if(i.K_.set("Online"),e instanceof mg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await im(i,s)}else if(e instanceof zl?i.U_.$e(e):e instanceof pg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await Ig(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.L_.get(_);w&&c.L_.set(_,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const w=c.L_.get(y);if(!w)return;c.L_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),Pg(c,y);const R=new br(w.target,y,_,w.sequenceNumber);Wh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ie("RemoteStore","Failed to raise snapshot:",s),await im(i,s)}}async function im(i,e,n){if(!Hs(e))throw e;i.k_.add(1),await ua(i),i.K_.set("Offline"),n||(n=()=>Ig(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await hu(i)})}async function sm(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const s=ca(n);n.k_.add(3),await ua(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await hu(n)}async function hT(i,e){const n=De(i);e?(n.k_.delete(2),await hu(n)):e||(n.k_.add(2),await ua(n),n.K_.set("Unknown"))}function qs(i){return i.W_||(i.W_=function(n,s,a){const c=De(n);return c.b_(),new rT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:aT.bind(null,i),mo:lT.bind(null,i),po:uT.bind(null,i),R_:cT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Qh(i)?Kh(i):i.K_.set("Unknown")):(await i.W_.stop(),kg(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Gh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(pr("AsyncQueue",`${e}: ${i}`),Hs(i))return new ge(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Wo(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.z_=new it(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class zs{constructor(e,n,s,a,c,f,m,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new zs(e,n,Ds.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class dT{constructor(){this.queries=am(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=De(n),c=a.queries;a.queries=am(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function am(){return new Vi(i=>ig(i),ou)}async function pT(i,e){const n=De(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new fT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=xg(f,`Initialization of query '${As(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Yh(n)}async function mT(i,e){const n=De(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gT(i,e){const n=De(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Yh(n)}function yT(i,e,n){const s=De(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Yh(i){i.X_.forEach(e=>{e.next()})}var wh,lm;(lm=wh||(wh={})).na="default",lm.Cache="cache";class vT{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==wh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this.key=e}}class Dg{constructor(e){this.key=e}}class _T{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=sg(e),this.ma=new Ds(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new om,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const A=a.get(w),F=au(this.query,R)?R:null,B=!!A&&this.mutatedKeys.has(A.key),$=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let j=!1;A&&F?A.data.isEqual(F.data)?B!==$&&(s.track({type:3,doc:F}),j=!0):this.ya(A,F)||(s.track({type:2,doc:F}),j=!0,(y&&this.Va(F,y)>0||_&&this.Va(F,_)<0)&&(m=!0)):!A&&F?(s.track({type:0,doc:F}),j=!0):A&&!F&&(s.track({type:1,doc:A}),j=!0,(y||_)&&(m=!0)),j&&(F?(f=f.add(F),c=$?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(F,B){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return $(F)-$(B)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,_=y!==this.Aa;return this.Aa=y,f.length!==0||_?{snapshot:new zs(this.query,e.ma,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new om,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Dg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ng(s))}),n}va(e){this.Ea=e.Es,this.Ra=Le();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return zs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ET{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wT{constructor(e){this.key=e,this.Fa=!1}}class TT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Vi(m=>ig(m),ou),this.Oa=new Map,this.Na=new Set,this.Ba=new it(ye.comparator),this.La=new Map,this.ka=new bh,this.qa={},this.Qa=new Map,this.Ka=Us.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ST(i,e,n=!0){const s=Fg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Vg(s,e,n,!0),a}async function IT(i,e){const n=Fg(i);await Vg(n,e,!0,!1)}async function Vg(i,e,n,s){const a=await G0(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await CT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ag(i.remoteStore,a),m}async function CT(i,e,n,s,a){i.Ua=(R,A,F)=>async function($,j,G,X){let oe=j.view.ga(G);oe.ss&&(oe=await tm($.localStore,j.query,!1).then(({documents:x})=>j.view.ga(x,oe)));const fe=X&&X.targetChanges.get(j.targetId),Ce=X&&X.targetMismatches.get(j.targetId)!=null,we=j.view.applyChanges(oe,$.isPrimaryClient,fe,Ce);return cm($,j.targetId,we.ba),we.snapshot}(i,R,A,F);const c=await tm(i.localStore,e,!0),f=new _T(e,c.Es),m=f.ga(c.documents),y=la.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,y);cm(i,n,_.ba);const w=new ET(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function RT(i,e,n){const s=De(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!ou(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Eh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&qh(s.remoteStore,a.targetId),Th(s,a.targetId)}).catch(tu)):(Th(s,a.targetId),await Eh(s.localStore,a.targetId,!0))}async function AT(i,e){const n=De(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qh(n.remoteStore,s.targetId))}async function Lg(i,e){const n=De(i);try{const s=await K0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Xe(f.Fa):a.removedDocuments.size>0&&(Xe(f.Fa),f.Fa=!1))}),await Mg(n,s,e)}catch(s){await tu(s)}}function um(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=De(f);y.onlineState=m;let _=!1;y.queries.forEach((w,R)=>{for(const A of R.J_)A.ea(m)&&(_=!0)}),_&&Yh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PT(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new it(ye.comparator);f=f.insert(c,Ot.newNoDocument(c,_e.min()));const m=Le().add(c),y=new cu(_e.min(),new Map,new it(Ne),f,m);await Lg(s,y),s.Ba=s.Ba.remove(c),s.La.delete(e),Xh(s)}else await Eh(s.localStore,e,!1).then(()=>Th(s,e,n)).catch(tu)}function Th(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Og(i,s)})}function Og(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(qh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Xh(i))}function cm(i,e,n){for(const s of n)s instanceof Ng?(i.ka.addReference(s.key,e),kT(i,s)):s instanceof Dg?(ie("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Og(i,s.key)):Ee()}function kT(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(ie("SyncEngine","New document in limbo: "+n),i.Na.add(s),Xh(i))}function Xh(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ye(Ze.fromString(e)),s=i.Ka.next();i.La.set(s,new wT(n)),i.Ba=i.Ba.insert(n,s),Ag(i.remoteStore,new br($n(rg(n.path)),s,"TargetPurposeLimboResolution",nu.oe))}}async function Mg(i,e,n){const s=De(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(_){a.push(_);const R=Hh.zi(y.targetId,_);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,_){const w=De(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(_,A=>W.forEach(A.Wi,F=>w.persistence.referenceDelegate.addReference(R,A.targetId,F)).next(()=>W.forEach(A.Gi,F=>w.persistence.referenceDelegate.removeReference(R,A.targetId,F)))))}catch(R){if(!Hs(R))throw R;ie("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const A=R.targetId;if(!R.fromCache){const F=w.us.get(A),B=F.snapshotVersion,$=F.withLastLimboFreeSnapshotVersion(B);w.us=w.us.insert(A,$)}}}(s.localStore,c))}async function xT(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const s=await Sg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ge(te.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mg(n,s.Ts)}}function NT(i,e){const n=De(i),s=n.La.get(e);if(s&&s.Fa)return Le().add(s.key);{let a=Le();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Fg(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PT.bind(null,e),e.Ma.R_=gT.bind(null,e.eventManager),e.Ma.Wa=yT.bind(null,e.eventManager),e}class Yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return W0(this.persistence,new H0,e.initialUser,this.serializer)}ja(e){return new Tg($h.ei,this.serializer)}za(e){return new X0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yl.provider={build:()=>new Yl};class DT extends Yl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Xe(this.persistence.referenceDelegate instanceof Gl);const s=this.persistence.referenceDelegate.garbageCollector;return new k0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Tg(s=>Gl.ei(s,n),this.serializer)}}class Sh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>um(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xT.bind(null,this.syncEngine),await hT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dT}()}createDatastore(e){const n=Cg(e.databaseInfo.databaseId),s=function(c){return new tT(c)}(e.databaseInfo);return function(c,f,m,y){return new iT(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new oT(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>um(this.syncEngine,n,0),function(){return rm.p()?new rm:new J0}())}createSyncEngine(e,n){return function(a,c,f,m,y,_,w){const R=new TT(a,c,f,m,y,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=De(a);ie("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ua(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sh.provider={build:()=>new Sh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ie("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ie("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function eh(i,e){i.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Sg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function hm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await OT(i);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>sm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>sm(e.remoteStore,a)),i._onlineComponents=e}async function OT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await eh(i,new Yl)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await eh(i,new DT(void 0));return i._offlineComponents}async function MT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await hm(i,i._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await hm(i,new Sh))),i._onlineComponents}async function FT(i){const e=await MT(i),n=e.eventManager;return n.onListen=ST.bind(null,e.syncEngine),n.onUnlisten=RT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AT.bind(null,e.syncEngine),n}function UT(i,e,n={}){const s=new ki;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,_){const w=new VT({next:A=>{w.eu(),f.enqueueAndForget(()=>mT(c,R)),A.fromCache&&y.source==="server"?_.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),R=new vT(m,w,{includeMetadataChanges:!0,ua:!0});return pT(c,R)}(await FT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Map;function zT(i,e,n,s){if(e===!0&&s===!0)throw new ge(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function dm(i){if(ye.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function BT(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function Ih(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BT(i);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sw;switch(s.type){case"firstParty":return new uw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fm.get(n);s&&(ie("ComponentProvider","Removing Datastore"),fm.delete(n),s.terminate())}(this),Promise.resolve()}}function jT(i,e,n,s={}){var a;const c=(i=Ih(i,Jh))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=F_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(_)}i._authCredentials=new ow(new Gm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class Ws{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ws(this.firestore,e,this._key)}}class Vs extends fu{constructor(e,n,s){super(e,n,rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ws(this.firestore,null,new ye(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function bT(i,e,...n){if(i=W_(i),i instanceof Jh){const s=Ze.fromString(e,...n);return dm(s),new Vs(i,null,s)}{if(!(i instanceof Ws||i instanceof Vs))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return dm(s),new Vs(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Rg(this,"async_queue_retry"),this.fu=()=>{const s=Zc();s&&ie("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new ki;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Hs(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Gh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class zg extends Jh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,await e}}}function $T(i,e){const n=typeof i=="object"?i:KE(),s=typeof i=="string"?i:"(default)",a=$E(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=O_("firestore");c&&jT(a,...c)}return a}function HT(i){if(i._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qT(i),i._firestoreClient}function qT(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,_,w){return new Cw(m,y,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ug(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new LT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(Rt.fromBase64String(e))}catch(n){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xl(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}const QT=new RegExp("[~\\*/\\[\\]]");function GT(i,e,n){if(e.search(QT)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Bg(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function gm(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new ge(te.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YT extends jg{data(){return super.data()}}function bg(i,e){return typeof e=="string"?GT(i,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JT{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>rt(f.doubleValue));return new KT(c)}convertGeoPoint(e){return new WT(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=iu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Xe(wg(s));const a=new na(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends jg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends ZT{data(e={}){return super.data(e)}}class eS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Vl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Vl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Vl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:tS(m.type),doc:y,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class nS extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,n)}}function rS(i){i=Ih(i,fu);const e=Ih(i.firestore,zg),n=HT(e),s=new nS(e);return XT(i._query),UT(n,i._query).then(a=>new eS(e,s,i,a))}(function(e,n=!0){(function(a){$s=a})(WE),Hl(new Zo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new zg(new aw(s.getProvider("auth-internal")),new hw(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),xs(Dp,"4.7.6",e),xs(Dp,"4.7.6","esm2017")})();const iS={apiKey:"AIzaSyCl8O2n8kmLT51pZEbEfscRy9ZcY8mW61Q",authDomain:"reading-habit-tracker-website.firebaseapp.com",projectId:"reading-habit-tracker-website",storageBucket:"reading-habit-tracker-website.firebasestorage.app",messagingSenderId:"925605783685",appId:"1:925605783685:web:c693560fa19431b18621ec",measurementId:"G-RVD2K8L3CL"},sS=Bm(iS),oS=$T(sS),aS=bT(oS,"users"),lS=async()=>{const i=await rS(aS),e=[];return i.forEach(n=>{console.log(n.id," => ",n.data()),e.push(n.data())}),console.log(e),e};lS();function uS(){return ue.jsx("div",{className:"progress-box"})}function cS(){return ue.jsxs("div",{className:"dasboard-div",children:[ue.jsx(uS,{}),ue.jsx(I_,{}),ue.jsx(C_,{})]})}function ym(){const i=Ah(),[e,n]=H.useState(""),[s,a]=H.useState(""),c=(f,m)=>{f==="paslamarca@gmail.com"&&m==="1234"?i("/honors-reading-tracker/dashboard"):alert("Invalid credentials")};return ue.jsxs("form",{className:"login-holder",children:[ue.jsx("h1",{children:"Log in"}),ue.jsxs("div",{className:"form-group",children:[ue.jsx("label",{className:"text",children:"Email"}),ue.jsx("input",{id:"email",value:e,onChange:f=>n(f.target.value),type:"email",className:"form-control",placeholder:"Enter email"})]}),ue.jsx("div",{className:"spacer"}),ue.jsxs("div",{className:"form-group",children:[ue.jsx("label",{className:"text",children:"Password"}),ue.jsx("input",{id:"password",value:s,onChange:f=>a(f.target.value),type:"password",className:"form-control",placeholder:"Enter password"})]}),ue.jsx("div",{className:"spacer"}),ue.jsxs("div",{className:"button-cluster",children:[ue.jsx(eu,{to:"/honors-reading-tracker/create-account",children:ue.jsx("button",{type:"button",className:"btn btn-primary btn-sm",children:"Sign Up"})}),ue.jsx("button",{type:"button",onClick:()=>{c(e,s)},className:"btn btn-primary btn-sm",children:"Log in"})]})]})}function hS(){return ue.jsx("div",{children:ue.jsx("h1",{children:"My Books"})})}function fS(){return ue.jsx("div",{children:ue.jsx("h1",{children:"READING HERE"})})}function dS(){return ue.jsx(d_,{children:ue.jsxs($v,{children:[ue.jsx(Ri,{path:"/honors-reading-tracker",element:ue.jsx(ym,{})}),ue.jsx(Ri,{path:"/honors-reading-tracker/login",element:ue.jsx(ym,{})}),ue.jsx(Ri,{path:"/honors-reading-tracker/create-account",element:ue.jsx(S_,{})}),ue.jsx(Ri,{path:"/honors-reading-tracker/dashboard",element:ue.jsx(cS,{})}),ue.jsx(Ri,{path:"/honors-reading-tracker/my-books",element:ue.jsx(hS,{})}),ue.jsx(Ri,{path:"/honors-reading-tracker/read",element:ue.jsx(fS,{})})]})})}Zy.createRoot(document.getElementById("root")).render(ue.jsx(H.StrictMode,{children:ue.jsx(dS,{})}));
