var vE=Object.defineProperty;var wE=(n,e,t)=>e in n?vE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ie=(n,e,t)=>wE(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function EE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lf={exports:{}},Va={},Of={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function xE(){if(Nm)return be;Nm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function I(z,Q,fe){this.props=z,this.context=Q,this.refs=b,this.updater=fe||S}I.prototype.isReactComponent={},I.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=I.prototype;function U(z,Q,fe){this.props=z,this.context=Q,this.refs=b,this.updater=fe||S}var q=U.prototype=new N;q.constructor=U,k(q,I.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,G=Object.prototype.hasOwnProperty,ee={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Q,fe){var we,xe={},Te=null,Ue=null;if(Q!=null)for(we in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Te=""+Q.key),Q)G.call(Q,we)&&!R.hasOwnProperty(we)&&(xe[we]=Q[we]);var $e=arguments.length-2;if($e===1)xe.children=fe;else if(1<$e){for(var Qe=Array($e),Tt=0;Tt<$e;Tt++)Qe[Tt]=arguments[Tt+2];xe.children=Qe}if(z&&z.defaultProps)for(we in $e=z.defaultProps,$e)xe[we]===void 0&&(xe[we]=$e[we]);return{$$typeof:n,type:z,key:Te,ref:Ue,props:xe,_owner:ee.current}}function A(z,Q){return{$$typeof:n,type:z.type,key:Q,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return Q[fe]})}var V=/\/+/g;function D(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Q.toString(36)}function Be(z,Q,fe,we,xe){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var Ue=!1;if(z===null)Ue=!0;else switch(Te){case"string":case"number":Ue=!0;break;case"object":switch(z.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=z,xe=xe(Ue),z=we===""?"."+D(Ue,0):we,Y(xe)?(fe="",z!=null&&(fe=z.replace(V,"$&/")+"/"),Be(xe,Q,fe,"",function(Tt){return Tt})):xe!=null&&(M(xe)&&(xe=A(xe,fe+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+z)),Q.push(xe)),1;if(Ue=0,we=we===""?".":we+":",Y(z))for(var $e=0;$e<z.length;$e++){Te=z[$e];var Qe=we+D(Te,$e);Ue+=Be(Te,Q,fe,Qe,xe)}else if(Qe=E(z),typeof Qe=="function")for(z=Qe.call(z),$e=0;!(Te=z.next()).done;)Te=Te.value,Qe=we+D(Te,$e++),Ue+=Be(Te,Q,fe,Qe,xe);else if(Te==="object")throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ae(z,Q,fe){if(z==null)return z;var we=[],xe=0;return Be(z,we,"","",function(Te){return Q.call(fe,Te,xe++)}),we}function Pe(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var ke={current:null},re={transition:null},ge={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:ee};function oe(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Ae,forEach:function(z,Q,fe){Ae(z,function(){Q.apply(this,arguments)},fe)},count:function(z){var Q=0;return Ae(z,function(){Q++}),Q},toArray:function(z){return Ae(z,function(Q){return Q})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},be.Component=I,be.Fragment=t,be.Profiler=s,be.PureComponent=U,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,be.act=oe,be.cloneElement=function(z,Q,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var we=k({},z.props),xe=z.key,Te=z.ref,Ue=z._owner;if(Q!=null){if(Q.ref!==void 0&&(Te=Q.ref,Ue=ee.current),Q.key!==void 0&&(xe=""+Q.key),z.type&&z.type.defaultProps)var $e=z.type.defaultProps;for(Qe in Q)G.call(Q,Qe)&&!R.hasOwnProperty(Qe)&&(we[Qe]=Q[Qe]===void 0&&$e!==void 0?$e[Qe]:Q[Qe])}var Qe=arguments.length-2;if(Qe===1)we.children=fe;else if(1<Qe){$e=Array(Qe);for(var Tt=0;Tt<Qe;Tt++)$e[Tt]=arguments[Tt+2];we.children=$e}return{$$typeof:n,type:z.type,key:xe,ref:Te,props:we,_owner:Ue}},be.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},be.createElement=C,be.createFactory=function(z){var Q=C.bind(null,z);return Q.type=z,Q},be.createRef=function(){return{current:null}},be.forwardRef=function(z){return{$$typeof:c,render:z}},be.isValidElement=M,be.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:Pe}},be.memo=function(z,Q){return{$$typeof:p,type:z,compare:Q===void 0?null:Q}},be.startTransition=function(z){var Q=re.transition;re.transition={};try{z()}finally{re.transition=Q}},be.unstable_act=oe,be.useCallback=function(z,Q){return ke.current.useCallback(z,Q)},be.useContext=function(z){return ke.current.useContext(z)},be.useDebugValue=function(){},be.useDeferredValue=function(z){return ke.current.useDeferredValue(z)},be.useEffect=function(z,Q){return ke.current.useEffect(z,Q)},be.useId=function(){return ke.current.useId()},be.useImperativeHandle=function(z,Q,fe){return ke.current.useImperativeHandle(z,Q,fe)},be.useInsertionEffect=function(z,Q){return ke.current.useInsertionEffect(z,Q)},be.useLayoutEffect=function(z,Q){return ke.current.useLayoutEffect(z,Q)},be.useMemo=function(z,Q){return ke.current.useMemo(z,Q)},be.useReducer=function(z,Q,fe){return ke.current.useReducer(z,Q,fe)},be.useRef=function(z){return ke.current.useRef(z)},be.useState=function(z){return ke.current.useState(z)},be.useSyncExternalStore=function(z,Q,fe){return ke.current.useSyncExternalStore(z,Q,fe)},be.useTransition=function(){return ke.current.useTransition()},be.version="18.3.1",be}var Vm;function jd(){return Vm||(Vm=1,Of.exports=xE()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function SE(){if(Fm)return Va;Fm=1;var n=jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,v={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(v[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:c,key:E,ref:S,props:v,_owner:s.current}}return Va.Fragment=t,Va.jsx=l,Va.jsxs=l,Va}var zm;function TE(){return zm||(zm=1,Lf.exports=SE()),Lf.exports}var ce=TE(),K=jd();const sv=EE(K);var Wu={},Nf={exports:{}},on={},Vf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function CE(){return Bm||(Bm=1,function(n){function e(re,ge){var oe=re.length;re.push(ge);e:for(;0<oe;){var z=oe-1>>>1,Q=re[z];if(0<s(Q,ge))re[z]=ge,re[oe]=Q,oe=z;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ge=re[0],oe=re.pop();if(oe!==ge){re[0]=oe;e:for(var z=0,Q=re.length,fe=Q>>>1;z<fe;){var we=2*(z+1)-1,xe=re[we],Te=we+1,Ue=re[Te];if(0>s(xe,oe))Te<Q&&0>s(Ue,xe)?(re[z]=Ue,re[Te]=oe,z=Te):(re[z]=xe,re[we]=oe,z=we);else if(Te<Q&&0>s(Ue,oe))re[z]=Ue,re[Te]=oe,z=Te;else break e}}return ge}function s(re,ge){var oe=re.sortIndex-ge.sortIndex;return oe!==0?oe:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,v=null,E=3,S=!1,k=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(re){for(var ge=t(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=re)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(p)}}function Y(re){if(b=!1,q(re),!k)if(t(f)!==null)k=!0,Pe(G);else{var ge=t(p);ge!==null&&ke(Y,ge.startTime-re)}}function G(re,ge){k=!1,b&&(b=!1,N(C),C=-1),S=!0;var oe=E;try{for(q(ge),v=t(f);v!==null&&(!(v.expirationTime>ge)||re&&!L());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var Q=z(v.expirationTime<=ge);ge=n.unstable_now(),typeof Q=="function"?v.callback=Q:v===t(f)&&r(f),q(ge)}else r(f);v=t(f)}if(v!==null)var fe=!0;else{var we=t(p);we!==null&&ke(Y,we.startTime-ge),fe=!1}return fe}finally{v=null,E=oe,S=!1}}var ee=!1,R=null,C=-1,A=5,M=-1;function L(){return!(n.unstable_now()-M<A)}function V(){if(R!==null){var re=n.unstable_now();M=re;var ge=!0;try{ge=R(!0,re)}finally{ge?D():(ee=!1,R=null)}}else ee=!1}var D;if(typeof U=="function")D=function(){U(V)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ae=Be.port2;Be.port1.onmessage=V,D=function(){Ae.postMessage(null)}}else D=function(){I(V,0)};function Pe(re){R=re,ee||(ee=!0,D())}function ke(re,ge){C=I(function(){re(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,Pe(G))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var oe=E;E=ge;try{return re()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=E;E=re;try{return ge()}finally{E=oe}},n.unstable_scheduleCallback=function(re,ge,oe){var z=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:m++,callback:ge,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>z?(re.sortIndex=oe,e(p,re),t(f)===null&&re===t(p)&&(b?(N(C),C=-1):b=!0,ke(Y,oe-z))):(re.sortIndex=Q,e(f,re),k||S||(k=!0,Pe(G))),re},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(re){var ge=E;return function(){var oe=E;E=ge;try{return re.apply(this,arguments)}finally{E=oe}}}}(Ff)),Ff}var jm;function kE(){return jm||(jm=1,Vf.exports=CE()),Vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function IE(){if(Um)return on;Um=1;var n=jd(),e=kE();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(i){return f.call(v,i)?!0:f.call(m,i)?!1:p.test(i)?v[i]=!0:(m[i]=!0,!1)}function S(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,d){if(o===null||typeof o>"u"||S(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,d,g,_,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=x}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];I[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(N,U);I[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(N,U);I[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(N,U);I[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,u,d){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,g,d)&&(u=null),d||g===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),ee=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,z;function Q(i){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var fe=!1;function we(i,o){if(!i||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var d=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){d=H}i.call(o.prototype)}else{try{throw Error()}catch(H){d=H}i()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var g=H.stack.split(`
`),_=d.stack.split(`
`),x=g.length-1,P=_.length-1;1<=x&&0<=P&&g[x]!==_[P];)P--;for(;1<=x&&0<=P;x--,P--)if(g[x]!==_[P]){if(x!==1||P!==1)do if(x--,P--,0>P||g[x]!==_[P]){var O=`
`+g[x].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=x&&0<=P);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Q(i):""}function xe(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function Te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case ee:return"Portal";case A:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ae:return o=i.displayName||null,o!==null?o:Te(i.type)||"Memo";case Pe:o=i._payload,i=i._init;try{return Te(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tt(i){var o=Qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,_.call(this,x)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yr(i){i._valueTracker||(i._valueTracker=Tt(i))}function Ss(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Qe(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pi(i,o){var u=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ts(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=$e(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $o(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function Ho(i,o){$o(i,o);var u=$e(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Cs(i,o.type,u):o.hasOwnProperty("defaultValue")&&Cs(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Rl(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Cs(i,o,u){(o!=="number"||Hr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var _r=Array.isArray;function vr(i,o,u,d){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+$e(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Wo(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ks(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(_r(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:$e(u)}}function Is(i,o){var u=$e(o.value),d=$e(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function qo(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var wr,Ko=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(wr=wr||document.createElement("div"),wr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=wr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Wr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mi=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(i){Mi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Di[o]=Di[i]})});function Qo(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Di.hasOwnProperty(i)&&Di[i]?(""+o).trim():o+"px"}function Go(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=Qo(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,g):i[u]=g}}var Yo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(i,o){if(o){if(Yo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Jo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function As(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bs=null,_n=null,Gn=null;function Rs(i){if(i=xa(i)){if(typeof bs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ou(o),bs(i.stateNode,i.type,o))}}function Yn(i){_n?Gn?Gn.push(i):Gn=[i]:_n=i}function Zo(){if(_n){var i=_n,o=Gn;if(Gn=_n=null,Rs(i),o)for(i=0;i<o.length;i++)Rs(o[i])}}function Oi(i,o){return i(o)}function ea(){}var Er=!1;function ta(i,o,u){if(Er)return i(o,u);Er=!0;try{return Oi(i,o,u)}finally{Er=!1,(_n!==null||Gn!==null)&&(ea(),Zo())}}function ut(i,o){var u=i.stateNode;if(u===null)return null;var d=ou(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Ps=!1;if(c)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ps=!1}function Ni(i,o,u,d,g,_,x,P,O){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(Z){this.onError(Z)}}var Vi=!1,Ds=null,Ln=!1,na=null,ah={onError:function(i){Vi=!0,Ds=i}};function Ms(i,o,u,d,g,_,x,P,O){Vi=!1,Ds=null,Ni.apply(ah,arguments)}function Pl(i,o,u,d,g,_,x,P,O){if(Ms.apply(this,arguments),Vi){if(Vi){var H=Ds;Vi=!1,Ds=null}else throw Error(t(198));Ln||(Ln=!0,na=H)}}function On(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Fi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Nn(i){if(On(i)!==i)throw Error(t(188))}function Dl(i){var o=i.alternate;if(!o){if(o=On(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,d=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Nn(g),i;if(_===d)return Nn(g),o;_=_.sibling}throw Error(t(188))}if(u.return!==d.return)u=g,d=_;else{for(var x=!1,P=g.child;P;){if(P===u){x=!0,u=g,d=_;break}if(P===d){x=!0,d=g,u=_;break}P=P.sibling}if(!x){for(P=_.child;P;){if(P===u){x=!0,u=_,d=g;break}if(P===d){x=!0,d=_,u=g;break}P=P.sibling}if(!x)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function ra(i){return i=Dl(i),i!==null?Ls(i):null}function Ls(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ls(i);if(o!==null)return o;i=i.sibling}return null}var Os=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,lh=e.unstable_requestPaint,Ge=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,zi=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,Bi=null,hn=null;function Nl(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Bi,i,void 0,(i.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Fl,oa=Math.log,Vl=Math.LN2;function Fl(i){return i>>>=0,i===0?32:31-(oa(i)/Vl|0)|0}var Ns=64,Vs=4194304;function Kr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ji(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,_=i.pingedLanes,x=u&268435455;if(x!==0){var P=x&~g;P!==0?d=Kr(P):(_&=x,_!==0&&(d=Kr(_)))}else x=u&~g,x!==0?d=Kr(x):_!==0&&(d=Kr(_));if(d===0)return 0;if(o!==0&&o!==d&&!(o&g)&&(g=d&-d,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if(d&4&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-Kt(o),g=1<<u,d|=i[u],o&=~g;return d}function uh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var x=31-Kt(_),P=1<<x,O=g[x];O===-1?(!(P&u)||P&d)&&(g[x]=uh(P,o)):O<=o&&(i.expiredLanes|=P),_&=~P}}function fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ui(){var i=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),i}function Qr(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Gr(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Kt(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Kt(u),_=1<<g;o[g]=0,d[g]=-1,i[g]=-1,u&=~_}}function Yr(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-Kt(u),g=1<<d;g&o|i[d]&o&&(i[d]|=o),u&=~g}}var Re=0;function Xr(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var zl,Fs,Bl,jl,Ul,aa=!1,Xn=[],Dt=null,Vn=null,Fn=null,Jr=new Map,wn=new Map,Jn=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(i,o){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Jr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(o.pointerId)}}function Jt(i,o,u,d,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[g]},o!==null&&(o=xa(o),o!==null&&Fs(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function hh(i,o,u,d,g){switch(o){case"focusin":return Dt=Jt(Dt,i,o,u,d,g),!0;case"dragenter":return Vn=Jt(Vn,i,o,u,d,g),!0;case"mouseover":return Fn=Jt(Fn,i,o,u,d,g),!0;case"pointerover":var _=g.pointerId;return Jr.set(_,Jt(Jr.get(_)||null,i,o,u,d,g)),!0;case"gotpointercapture":return _=g.pointerId,wn.set(_,Jt(wn.get(_)||null,i,o,u,d,g)),!0}return!1}function Hl(i){var o=Ki(i.target);if(o!==null){var u=On(o);if(u!==null){if(o=u.tag,o===13){if(o=Fi(u),o!==null){i.blockedOn=o,Ul(i.priority,function(){Bl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=zs(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Li=d,u.target.dispatchEvent(d),Li=null}else return o=xa(u),o!==null&&Fs(o),i.blockedOn=u,!1;o.shift()}return!0}function $i(i,o,u){Sr(i)&&u.delete(o)}function Wl(){aa=!1,Dt!==null&&Sr(Dt)&&(Dt=null),Vn!==null&&Sr(Vn)&&(Vn=null),Fn!==null&&Sr(Fn)&&(Fn=null),Jr.forEach($i),wn.forEach($i)}function zn(i,o){i.blockedOn===o&&(i.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wl)))}function Bn(i){function o(g){return zn(g,i)}if(0<Xn.length){zn(Xn[0],i);for(var u=1;u<Xn.length;u++){var d=Xn[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),Vn!==null&&zn(Vn,i),Fn!==null&&zn(Fn,i),Jr.forEach(o),wn.forEach(o),u=0;u<Jn.length;u++)d=Jn[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Jn.length&&(u=Jn[0],u.blockedOn===null);)Hl(u),u.blockedOn===null&&Jn.shift()}var Tr=Y.ReactCurrentBatchConfig,Zr=!0;function et(i,o,u,d){var g=Re,_=Tr.transition;Tr.transition=null;try{Re=1,la(i,o,u,d)}finally{Re=g,Tr.transition=_}}function fh(i,o,u,d){var g=Re,_=Tr.transition;Tr.transition=null;try{Re=4,la(i,o,u,d)}finally{Re=g,Tr.transition=_}}function la(i,o,u,d){if(Zr){var g=zs(i,o,u,d);if(g===null)Sh(i,o,d,Hi,u),$l(i,d);else if(hh(g,i,o,u,d))d.stopPropagation();else if($l(i,d),o&4&&-1<ch.indexOf(i)){for(;g!==null;){var _=xa(g);if(_!==null&&zl(_),_=zs(i,o,u,d),_===null&&Sh(i,o,d,Hi,u),_===g)break;g=_}g!==null&&d.stopPropagation()}else Sh(i,o,d,null,u)}}var Hi=null;function zs(i,o,u,d){if(Hi=null,i=As(d),i=Ki(i),i!==null)if(o=On(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Fi(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Hi=i,null}function ua(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case zi:return 1;case qr:return 4;case vn:case sa:return 16;case Ol:return 536870912;default:return 16}default:return 16}}var dn=null,Bs=null,Zt=null;function ca(){if(Zt)return Zt;var i,o=Bs,u=o.length,d,g="value"in dn?dn.value:dn.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var x=u-i;for(d=1;d<=x&&o[u-d]===g[_-d];d++);return Zt=g.slice(i,1<d?1-d:void 0)}function js(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zn(){return!0}function ha(){return!1}function Mt(i){function o(u,d,g,_,x){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zn:ha,this.isPropagationStopped=ha,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),o}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Mt(jn),er=oe({},jn,{view:0,detail:0}),dh=Mt(er),$s,Cr,ei,Wi=oe({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ei&&(ei&&i.type==="mousemove"?($s=i.screenX-ei.screenX,Cr=i.screenY-ei.screenY):Cr=$s=0,ei=i),$s)},movementY:function(i){return"movementY"in i?i.movementY:Cr}}),Hs=Mt(Wi),fa=oe({},Wi,{dataTransfer:0}),ql=Mt(fa),Ws=oe({},er,{relatedTarget:0}),qs=Mt(Ws),Kl=oe({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Mt(Kl),Ql=oe({},jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gl=Mt(Ql),Yl=oe({},jn,{data:0}),da=Mt(Yl),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Xl[i])?!!o[i]:!1}function tr(){return Jl}var h=oe({},er,{key:function(i){if(i.key){var o=Ks[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Mt(h),w=oe({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Mt(w),B=oe({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),W=Mt(B),ie=oe({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Mt(ie),vt=oe({},Wi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Mt(vt),Ct=[9,13,27,32],pt=c&&"CompositionEvent"in window,En=null;c&&"documentMode"in document&&(En=document.documentMode);var pn=c&&"TextEvent"in window&&!En,qi=c&&(!pt||En&&8<En&&11>=En),Qs=" ",Rp=!1;function Pp(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gs=!1;function yw(i,o){switch(i){case"compositionend":return Dp(o);case"keypress":return o.which!==32?null:(Rp=!0,Qs);case"textInput":return i=o.data,i===Qs&&Rp?null:i;default:return null}}function _w(i,o){if(Gs)return i==="compositionend"||!pt&&Pp(i,o)?(i=ca(),Zt=Bs=dn=null,Gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qi&&o.locale!=="ko"?null:o.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!vw[i.type]:o==="textarea"}function Lp(i,o,u,d){Yn(d),o=ru(o,"onChange"),0<o.length&&(u=new Us("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var pa=null,ga=null;function ww(i){Jp(i,0)}function Zl(i){var o=eo(i);if(Ss(o))return i}function Ew(i,o){if(i==="change")return o}var Op=!1;if(c){var ph;if(c){var gh="oninput"in document;if(!gh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),gh=typeof Np.oninput=="function"}ph=gh}else ph=!1;Op=ph&&(!document.documentMode||9<document.documentMode)}function Vp(){pa&&(pa.detachEvent("onpropertychange",Fp),ga=pa=null)}function Fp(i){if(i.propertyName==="value"&&Zl(ga)){var o=[];Lp(o,ga,i,As(i)),ta(ww,o)}}function xw(i,o,u){i==="focusin"?(Vp(),pa=o,ga=u,pa.attachEvent("onpropertychange",Fp)):i==="focusout"&&Vp()}function Sw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zl(ga)}function Tw(i,o){if(i==="click")return Zl(o)}function Cw(i,o){if(i==="input"||i==="change")return Zl(o)}function kw(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Un=typeof Object.is=="function"?Object.is:kw;function ma(i,o){if(Un(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!f.call(o,g)||!Un(i[g],o[g]))return!1}return!0}function zp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bp(i,o){var u=zp(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zp(u)}}function jp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?jp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Up(){for(var i=window,o=Hr();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Hr(i.document)}return o}function mh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Iw(i){var o=Up(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&jp(u.ownerDocument.documentElement,u)){if(d!==null&&mh(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(d.start,g);d=d.end===void 0?_:Math.min(d.end,g),!i.extend&&_>d&&(g=d,d=_,_=g),g=Bp(u,_);var x=Bp(u,d);g&&x&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>d?(i.addRange(o),i.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Aw=c&&"documentMode"in document&&11>=document.documentMode,Ys=null,yh=null,ya=null,_h=!1;function $p(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_h||Ys==null||Ys!==Hr(d)||(d=Ys,"selectionStart"in d&&mh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ya&&ma(ya,d)||(ya=d,d=ru(yh,"onSelect"),0<d.length&&(o=new Us("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=Ys)))}function eu(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},vh={},Hp={};c&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function tu(i){if(vh[i])return vh[i];if(!Xs[i])return i;var o=Xs[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Hp)return vh[i]=o[u];return i}var Wp=tu("animationend"),qp=tu("animationiteration"),Kp=tu("animationstart"),Qp=tu("transitionend"),Gp=new Map,Yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(i,o){Gp.set(i,o),a(o,[i])}for(var wh=0;wh<Yp.length;wh++){var Eh=Yp[wh],bw=Eh.toLowerCase(),Rw=Eh[0].toUpperCase()+Eh.slice(1);ti(bw,"on"+Rw)}ti(Wp,"onAnimationEnd"),ti(qp,"onAnimationIteration"),ti(Kp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Qp,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Xp(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Pl(d,o,void 0,i),i.currentTarget=null}function Jp(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],g=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var x=d.length-1;0<=x;x--){var P=d[x],O=P.instance,H=P.currentTarget;if(P=P.listener,O!==_&&g.isPropagationStopped())break e;Xp(g,P,H),_=O}else for(x=0;x<d.length;x++){if(P=d[x],O=P.instance,H=P.currentTarget,P=P.listener,O!==_&&g.isPropagationStopped())break e;Xp(g,P,H),_=O}}}if(Ln)throw i=na,Ln=!1,na=null,i}function Xe(i,o){var u=o[bh];u===void 0&&(u=o[bh]=new Set);var d=i+"__bubble";u.has(d)||(Zp(o,i,2,!1),u.add(d))}function xh(i,o,u){var d=0;o&&(d|=4),Zp(u,i,d,o)}var nu="_reactListening"+Math.random().toString(36).slice(2);function va(i){if(!i[nu]){i[nu]=!0,r.forEach(function(u){u!=="selectionchange"&&(Pw.has(u)||xh(u,!1,i),xh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[nu]||(o[nu]=!0,xh("selectionchange",!1,o))}}function Zp(i,o,u,d){switch(ua(o)){case 1:var g=et;break;case 4:g=fh;break;default:g=la}u=g.bind(null,o,u,i),g=void 0,!Ps||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Sh(i,o,u,d,g){var _=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var P=d.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(x===4)for(x=d.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;x=x.return}for(;P!==null;){if(x=Ki(P),x===null)return;if(O=x.tag,O===5||O===6){d=_=x;continue e}P=P.parentNode}}d=d.return}ta(function(){var H=_,Z=As(u),te=[];e:{var J=Gp.get(i);if(J!==void 0){var ae=Us,he=i;switch(i){case"keypress":if(js(u)===0)break e;case"keydown":case"keyup":ae=y;break;case"focusin":he="focus",ae=qs;break;case"focusout":he="blur",ae=qs;break;case"beforeblur":case"afterblur":ae=qs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=W;break;case Wp:case qp:case Kp:ae=kr;break;case Qp:ae=We;break;case"scroll":ae=dh;break;case"wheel":ae=De;break;case"copy":case"cut":case"paste":ae=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=T}var de=(o&4)!==0,ct=!de&&i==="scroll",j=de?J!==null?J+"Capture":null:J;de=[];for(var F=H,$;F!==null;){$=F;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,j!==null&&(ne=ut(F,j),ne!=null&&de.push(wa(F,ne,$)))),ct)break;F=F.return}0<de.length&&(J=new ae(J,he,null,u,Z),te.push({event:J,listeners:de}))}}if(!(o&7)){e:{if(J=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",J&&u!==Li&&(he=u.relatedTarget||u.fromElement)&&(Ki(he)||he[Ir]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(he=u.relatedTarget||u.toElement,ae=H,he=he?Ki(he):null,he!==null&&(ct=On(he),he!==ct||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=H),ae!==he)){if(de=Hs,ne="onMouseLeave",j="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(de=T,ne="onPointerLeave",j="onPointerEnter",F="pointer"),ct=ae==null?J:eo(ae),$=he==null?J:eo(he),J=new de(ne,F+"leave",ae,u,Z),J.target=ct,J.relatedTarget=$,ne=null,Ki(Z)===H&&(de=new de(j,F+"enter",he,u,Z),de.target=$,de.relatedTarget=ct,ne=de),ct=ne,ae&&he)t:{for(de=ae,j=he,F=0,$=de;$;$=Js($))F++;for($=0,ne=j;ne;ne=Js(ne))$++;for(;0<F-$;)de=Js(de),F--;for(;0<$-F;)j=Js(j),$--;for(;F--;){if(de===j||j!==null&&de===j.alternate)break t;de=Js(de),j=Js(j)}de=null}else de=null;ae!==null&&eg(te,J,ae,de,!1),he!==null&&ct!==null&&eg(te,ct,he,de,!0)}}e:{if(J=H?eo(H):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var pe=Ew;else if(Mp(J))if(Op)pe=Cw;else{pe=Sw;var me=xw}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=Tw);if(pe&&(pe=pe(i,H))){Lp(te,pe,u,Z);break e}me&&me(i,J,H),i==="focusout"&&(me=J._wrapperState)&&me.controlled&&J.type==="number"&&Cs(J,"number",J.value)}switch(me=H?eo(H):window,i){case"focusin":(Mp(me)||me.contentEditable==="true")&&(Ys=me,yh=H,ya=null);break;case"focusout":ya=yh=Ys=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,$p(te,u,Z);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":$p(te,u,Z)}var ye;if(pt)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Gs?Pp(i,u)&&(Ee="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(qi&&u.locale!=="ko"&&(Gs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Gs&&(ye=ca()):(dn=Z,Bs="value"in dn?dn.value:dn.textContent,Gs=!0)),me=ru(H,Ee),0<me.length&&(Ee=new da(Ee,i,null,u,Z),te.push({event:Ee,listeners:me}),ye?Ee.data=ye:(ye=Dp(u),ye!==null&&(Ee.data=ye)))),(ye=pn?yw(i,u):_w(i,u))&&(H=ru(H,"onBeforeInput"),0<H.length&&(Z=new da("onBeforeInput","beforeinput",null,u,Z),te.push({event:Z,listeners:H}),Z.data=ye))}Jp(te,o)})}function wa(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ru(i,o){for(var u=o+"Capture",d=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ut(i,u),_!=null&&d.unshift(wa(i,_,g)),_=ut(i,o),_!=null&&d.push(wa(i,_,g))),i=i.return}return d}function Js(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function eg(i,o,u,d,g){for(var _=o._reactName,x=[];u!==null&&u!==d;){var P=u,O=P.alternate,H=P.stateNode;if(O!==null&&O===d)break;P.tag===5&&H!==null&&(P=H,g?(O=ut(u,_),O!=null&&x.unshift(wa(u,O,P))):g||(O=ut(u,_),O!=null&&x.push(wa(u,O,P)))),u=u.return}x.length!==0&&i.push({event:o,listeners:x})}var Dw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function tg(i){return(typeof i=="string"?i:""+i).replace(Dw,`
`).replace(Mw,"")}function iu(i,o,u){if(o=tg(o),tg(i)!==o&&u)throw Error(t(425))}function su(){}var Th=null,Ch=null;function kh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(i){return ng.resolve(null).then(i).catch(Nw)}:Ih;function Nw(i){setTimeout(function(){throw i})}function Ah(i,o){var u=o,d=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){i.removeChild(g),Bn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);Bn(o)}function ni(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function rg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),nr="__reactFiber$"+Zs,Ea="__reactProps$"+Zs,Ir="__reactContainer$"+Zs,bh="__reactEvents$"+Zs,Vw="__reactListeners$"+Zs,Fw="__reactHandles$"+Zs;function Ki(i){var o=i[nr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ir]||u[nr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=rg(i);i!==null;){if(u=i[nr])return u;i=rg(i)}return o}i=u,u=i.parentNode}return null}function xa(i){return i=i[nr]||i[Ir],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function eo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ou(i){return i[Ea]||null}var Rh=[],to=-1;function ri(i){return{current:i}}function Je(i){0>to||(i.current=Rh[to],Rh[to]=null,to--)}function Ye(i,o){to++,Rh[to]=i.current,i.current=o}var ii={},Ft=ri(ii),en=ri(!1),Qi=ii;function no(i,o){var u=i.type.contextTypes;if(!u)return ii;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function tn(i){return i=i.childContextTypes,i!=null}function au(){Je(en),Je(Ft)}function ig(i,o,u){if(Ft.current!==ii)throw Error(t(168));Ye(Ft,o),Ye(en,u)}function sg(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(t(108,Ue(i)||"Unknown",g));return oe({},u,d)}function lu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ii,Qi=Ft.current,Ye(Ft,i),Ye(en,en.current),!0}function og(i,o,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=sg(i,o,Qi),d.__reactInternalMemoizedMergedChildContext=i,Je(en),Je(Ft),Ye(Ft,i)):Je(en),Ye(en,u)}var Ar=null,uu=!1,Ph=!1;function ag(i){Ar===null?Ar=[i]:Ar.push(i)}function zw(i){uu=!0,ag(i)}function si(){if(!Ph&&Ar!==null){Ph=!0;var i=0,o=Re;try{var u=Ar;for(Re=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Ar=null,uu=!1}catch(g){throw Ar!==null&&(Ar=Ar.slice(i+1)),Os(zi,si),g}finally{Re=o,Ph=!1}}return null}var ro=[],io=0,cu=null,hu=0,xn=[],Sn=0,Gi=null,br=1,Rr="";function Yi(i,o){ro[io++]=hu,ro[io++]=cu,cu=i,hu=o}function lg(i,o,u){xn[Sn++]=br,xn[Sn++]=Rr,xn[Sn++]=Gi,Gi=i;var d=br;i=Rr;var g=32-Kt(d)-1;d&=~(1<<g),u+=1;var _=32-Kt(o)+g;if(30<_){var x=g-g%5;_=(d&(1<<x)-1).toString(32),d>>=x,g-=x,br=1<<32-Kt(o)+g|u<<g|d,Rr=_+i}else br=1<<_|u<<g|d,Rr=i}function Dh(i){i.return!==null&&(Yi(i,1),lg(i,1,0))}function Mh(i){for(;i===cu;)cu=ro[--io],ro[io]=null,hu=ro[--io],ro[io]=null;for(;i===Gi;)Gi=xn[--Sn],xn[Sn]=null,Rr=xn[--Sn],xn[Sn]=null,br=xn[--Sn],xn[Sn]=null}var gn=null,mn=null,tt=!1,$n=null;function ug(i,o){var u=In(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function cg(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,mn=ni(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Gi!==null?{id:br,overflow:Rr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=In(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,gn=i,mn=null,!0):!1;default:return!1}}function Lh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Oh(i){if(tt){var o=mn;if(o){var u=o;if(!cg(i,o)){if(Lh(i))throw Error(t(418));o=ni(u.nextSibling);var d=gn;o&&cg(i,o)?ug(d,u):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(Lh(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function hg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function fu(i){if(i!==gn)return!1;if(!tt)return hg(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!kh(i.type,i.memoizedProps)),o&&(o=mn)){if(Lh(i))throw fg(),Error(t(418));for(;o;)ug(i,o),o=ni(o.nextSibling)}if(hg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){mn=ni(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}mn=null}}else mn=gn?ni(i.stateNode.nextSibling):null;return!0}function fg(){for(var i=mn;i;)i=ni(i.nextSibling)}function so(){mn=gn=null,tt=!1}function Nh(i){$n===null?$n=[i]:$n.push(i)}var Bw=Y.ReactCurrentBatchConfig;function Sa(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var g=d,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(x){var P=g.refs;x===null?delete P[_]:P[_]=x},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function du(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function dg(i){var o=i._init;return o(i._payload)}function pg(i){function o(j,F){if(i){var $=j.deletions;$===null?(j.deletions=[F],j.flags|=16):$.push(F)}}function u(j,F){if(!i)return null;for(;F!==null;)o(j,F),F=F.sibling;return null}function d(j,F){for(j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function g(j,F){return j=di(j,F),j.index=0,j.sibling=null,j}function _(j,F,$){return j.index=$,i?($=j.alternate,$!==null?($=$.index,$<F?(j.flags|=2,F):$):(j.flags|=2,F)):(j.flags|=1048576,F)}function x(j){return i&&j.alternate===null&&(j.flags|=2),j}function P(j,F,$,ne){return F===null||F.tag!==6?(F=Af($,j.mode,ne),F.return=j,F):(F=g(F,$),F.return=j,F)}function O(j,F,$,ne){var pe=$.type;return pe===R?Z(j,F,$.props.children,ne,$.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Pe&&dg(pe)===F.type)?(ne=g(F,$.props),ne.ref=Sa(j,F,$),ne.return=j,ne):(ne=Vu($.type,$.key,$.props,null,j.mode,ne),ne.ref=Sa(j,F,$),ne.return=j,ne)}function H(j,F,$,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=bf($,j.mode,ne),F.return=j,F):(F=g(F,$.children||[]),F.return=j,F)}function Z(j,F,$,ne,pe){return F===null||F.tag!==7?(F=is($,j.mode,ne,pe),F.return=j,F):(F=g(F,$),F.return=j,F)}function te(j,F,$){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Af(""+F,j.mode,$),F.return=j,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return $=Vu(F.type,F.key,F.props,null,j.mode,$),$.ref=Sa(j,null,F),$.return=j,$;case ee:return F=bf(F,j.mode,$),F.return=j,F;case Pe:var ne=F._init;return te(j,ne(F._payload),$)}if(_r(F)||ge(F))return F=is(F,j.mode,$,null),F.return=j,F;du(j,F)}return null}function J(j,F,$,ne){var pe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return pe!==null?null:P(j,F,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case G:return $.key===pe?O(j,F,$,ne):null;case ee:return $.key===pe?H(j,F,$,ne):null;case Pe:return pe=$._init,J(j,F,pe($._payload),ne)}if(_r($)||ge($))return pe!==null?null:Z(j,F,$,ne,null);du(j,$)}return null}function ae(j,F,$,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get($)||null,P(F,j,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case G:return j=j.get(ne.key===null?$:ne.key)||null,O(F,j,ne,pe);case ee:return j=j.get(ne.key===null?$:ne.key)||null,H(F,j,ne,pe);case Pe:var me=ne._init;return ae(j,F,$,me(ne._payload),pe)}if(_r(ne)||ge(ne))return j=j.get($)||null,Z(F,j,ne,pe,null);du(F,ne)}return null}function he(j,F,$,ne){for(var pe=null,me=null,ye=F,Ee=F=0,At=null;ye!==null&&Ee<$.length;Ee++){ye.index>Ee?(At=ye,ye=null):At=ye.sibling;var je=J(j,ye,$[Ee],ne);if(je===null){ye===null&&(ye=At);break}i&&ye&&je.alternate===null&&o(j,ye),F=_(je,F,Ee),me===null?pe=je:me.sibling=je,me=je,ye=At}if(Ee===$.length)return u(j,ye),tt&&Yi(j,Ee),pe;if(ye===null){for(;Ee<$.length;Ee++)ye=te(j,$[Ee],ne),ye!==null&&(F=_(ye,F,Ee),me===null?pe=ye:me.sibling=ye,me=ye);return tt&&Yi(j,Ee),pe}for(ye=d(j,ye);Ee<$.length;Ee++)At=ae(ye,j,Ee,$[Ee],ne),At!==null&&(i&&At.alternate!==null&&ye.delete(At.key===null?Ee:At.key),F=_(At,F,Ee),me===null?pe=At:me.sibling=At,me=At);return i&&ye.forEach(function(pi){return o(j,pi)}),tt&&Yi(j,Ee),pe}function de(j,F,$,ne){var pe=ge($);if(typeof pe!="function")throw Error(t(150));if($=pe.call($),$==null)throw Error(t(151));for(var me=pe=null,ye=F,Ee=F=0,At=null,je=$.next();ye!==null&&!je.done;Ee++,je=$.next()){ye.index>Ee?(At=ye,ye=null):At=ye.sibling;var pi=J(j,ye,je.value,ne);if(pi===null){ye===null&&(ye=At);break}i&&ye&&pi.alternate===null&&o(j,ye),F=_(pi,F,Ee),me===null?pe=pi:me.sibling=pi,me=pi,ye=At}if(je.done)return u(j,ye),tt&&Yi(j,Ee),pe;if(ye===null){for(;!je.done;Ee++,je=$.next())je=te(j,je.value,ne),je!==null&&(F=_(je,F,Ee),me===null?pe=je:me.sibling=je,me=je);return tt&&Yi(j,Ee),pe}for(ye=d(j,ye);!je.done;Ee++,je=$.next())je=ae(ye,j,Ee,je.value,ne),je!==null&&(i&&je.alternate!==null&&ye.delete(je.key===null?Ee:je.key),F=_(je,F,Ee),me===null?pe=je:me.sibling=je,me=je);return i&&ye.forEach(function(_E){return o(j,_E)}),tt&&Yi(j,Ee),pe}function ct(j,F,$,ne){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case G:e:{for(var pe=$.key,me=F;me!==null;){if(me.key===pe){if(pe=$.type,pe===R){if(me.tag===7){u(j,me.sibling),F=g(me,$.props.children),F.return=j,j=F;break e}}else if(me.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Pe&&dg(pe)===me.type){u(j,me.sibling),F=g(me,$.props),F.ref=Sa(j,me,$),F.return=j,j=F;break e}u(j,me);break}else o(j,me);me=me.sibling}$.type===R?(F=is($.props.children,j.mode,ne,$.key),F.return=j,j=F):(ne=Vu($.type,$.key,$.props,null,j.mode,ne),ne.ref=Sa(j,F,$),ne.return=j,j=ne)}return x(j);case ee:e:{for(me=$.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){u(j,F.sibling),F=g(F,$.children||[]),F.return=j,j=F;break e}else{u(j,F);break}else o(j,F);F=F.sibling}F=bf($,j.mode,ne),F.return=j,j=F}return x(j);case Pe:return me=$._init,ct(j,F,me($._payload),ne)}if(_r($))return he(j,F,$,ne);if(ge($))return de(j,F,$,ne);du(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,F!==null&&F.tag===6?(u(j,F.sibling),F=g(F,$),F.return=j,j=F):(u(j,F),F=Af($,j.mode,ne),F.return=j,j=F),x(j)):u(j,F)}return ct}var oo=pg(!0),gg=pg(!1),pu=ri(null),gu=null,ao=null,Vh=null;function Fh(){Vh=ao=gu=null}function zh(i){var o=pu.current;Je(pu),i._currentValue=o}function Bh(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function lo(i,o){gu=i,Vh=ao=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(nn=!0),i.firstContext=null)}function Tn(i){var o=i._currentValue;if(Vh!==i)if(i={context:i,memoizedValue:o,next:null},ao===null){if(gu===null)throw Error(t(308));ao=i,gu.dependencies={lanes:0,firstContext:i}}else ao=ao.next=i;return o}var Xi=null;function jh(i){Xi===null?Xi=[i]:Xi.push(i)}function mg(i,o,u,d){var g=o.interleaved;return g===null?(u.next=u,jh(o)):(u.next=g.next,g.next=u),o.interleaved=u,Pr(i,d)}function Pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var oi=!1;function Uh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ai(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Fe&2){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,Pr(i,u)}return g=d.interleaved,g===null?(o.next=o,jh(d)):(o.next=g.next,g.next=o),d.interleaved=o,Pr(i,u)}function mu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Yr(i,u)}}function _g(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=x:_=_.next=x,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function yu(i,o,u,d){var g=i.updateQueue;oi=!1;var _=g.firstBaseUpdate,x=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var O=P,H=O.next;O.next=null,x===null?_=H:x.next=H,x=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==x&&(P===null?Z.firstBaseUpdate=H:P.next=H,Z.lastBaseUpdate=O))}if(_!==null){var te=g.baseState;x=0,Z=H=O=null,P=_;do{var J=P.lane,ae=P.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var he=i,de=P;switch(J=o,ae=u,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(ae,te,J);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(ae,te,J):he,J==null)break e;te=oe({},te,J);break e;case 2:oi=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,J=g.effects,J===null?g.effects=[P]:J.push(P))}else ae={eventTime:ae,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?(H=Z=ae,O=te):Z=Z.next=ae,x|=J;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;J=P,P=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(Z===null&&(O=te),g.baseState=O,g.firstBaseUpdate=H,g.lastBaseUpdate=Z,o=g.shared.interleaved,o!==null){g=o;do x|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);es|=x,i.lanes=x,i.memoizedState=te}}function vg(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var Ta={},rr=ri(Ta),Ca=ri(Ta),ka=ri(Ta);function Ji(i){if(i===Ta)throw Error(t(174));return i}function $h(i,o){switch(Ye(ka,o),Ye(Ca,i),Ye(rr,Ta),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_t(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=_t(o,i)}Je(rr),Ye(rr,o)}function uo(){Je(rr),Je(Ca),Je(ka)}function wg(i){Ji(ka.current);var o=Ji(rr.current),u=_t(o,i.type);o!==u&&(Ye(Ca,i),Ye(rr,u))}function Hh(i){Ca.current===i&&(Je(rr),Je(Ca))}var nt=ri(0);function _u(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wh=[];function qh(){for(var i=0;i<Wh.length;i++)Wh[i]._workInProgressVersionPrimary=null;Wh.length=0}var vu=Y.ReactCurrentDispatcher,Kh=Y.ReactCurrentBatchConfig,Zi=0,rt=null,wt=null,kt=null,wu=!1,Ia=!1,Aa=0,jw=0;function zt(){throw Error(t(321))}function Qh(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Un(i[u],o[u]))return!1;return!0}function Gh(i,o,u,d,g,_){if(Zi=_,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vu.current=i===null||i.memoizedState===null?Ww:qw,i=u(d,g),Ia){_=0;do{if(Ia=!1,Aa=0,25<=_)throw Error(t(301));_+=1,kt=wt=null,o.updateQueue=null,vu.current=Kw,i=u(d,g)}while(Ia)}if(vu.current=Su,o=wt!==null&&wt.next!==null,Zi=0,kt=wt=rt=null,wu=!1,o)throw Error(t(300));return i}function Yh(){var i=Aa!==0;return Aa=0,i}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?rt.memoizedState=kt=i:kt=kt.next=i,kt}function Cn(){if(wt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var o=kt===null?rt.memoizedState:kt.next;if(o!==null)kt=o,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?rt.memoizedState=kt=i:kt=kt.next=i}return kt}function ba(i,o){return typeof o=="function"?o(i):o}function Xh(i){var o=Cn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=wt,g=d.baseQueue,_=u.pending;if(_!==null){if(g!==null){var x=g.next;g.next=_.next,_.next=x}d.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,d=d.baseState;var P=x=null,O=null,H=_;do{var Z=H.lane;if((Zi&Z)===Z)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:i(d,H.action);else{var te={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(P=O=te,x=d):O=O.next=te,rt.lanes|=Z,es|=Z}H=H.next}while(H!==null&&H!==_);O===null?x=d:O.next=P,Un(d,o.memoizedState)||(nn=!0),o.memoizedState=d,o.baseState=x,o.baseQueue=O,u.lastRenderedState=d}if(i=u.interleaved,i!==null){g=i;do _=g.lane,rt.lanes|=_,es|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Jh(i){var o=Cn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do _=i(_,x.action),x=x.next;while(x!==g);Un(_,o.memoizedState)||(nn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function Eg(){}function xg(i,o){var u=rt,d=Cn(),g=o(),_=!Un(d.memoizedState,g);if(_&&(d.memoizedState=g,nn=!0),d=d.queue,Zh(Cg.bind(null,u,d,i),[i]),d.getSnapshot!==o||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Ra(9,Tg.bind(null,u,d,g,o),void 0,null),It===null)throw Error(t(349));Zi&30||Sg(u,o,g)}return g}function Sg(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Tg(i,o,u,d){o.value=u,o.getSnapshot=d,kg(o)&&Ig(i)}function Cg(i,o,u){return u(function(){kg(o)&&Ig(i)})}function kg(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Un(i,u)}catch{return!0}}function Ig(i){var o=Pr(i,1);o!==null&&Kn(o,i,1,-1)}function Ag(i){var o=ir();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:i},o.queue=i,i=i.dispatch=Hw.bind(null,rt,i),[o.memoizedState,i]}function Ra(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function bg(){return Cn().memoizedState}function Eu(i,o,u,d){var g=ir();rt.flags|=i,g.memoizedState=Ra(1|o,u,void 0,d===void 0?null:d)}function xu(i,o,u,d){var g=Cn();d=d===void 0?null:d;var _=void 0;if(wt!==null){var x=wt.memoizedState;if(_=x.destroy,d!==null&&Qh(d,x.deps)){g.memoizedState=Ra(o,u,_,d);return}}rt.flags|=i,g.memoizedState=Ra(1|o,u,_,d)}function Rg(i,o){return Eu(8390656,8,i,o)}function Zh(i,o){return xu(2048,8,i,o)}function Pg(i,o){return xu(4,2,i,o)}function Dg(i,o){return xu(4,4,i,o)}function Mg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Lg(i,o,u){return u=u!=null?u.concat([i]):null,xu(4,4,Mg.bind(null,o,i),u)}function ef(){}function Og(i,o){var u=Cn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Qh(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function Ng(i,o){var u=Cn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Qh(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function Vg(i,o,u){return Zi&21?(Un(u,o)||(u=Ui(),rt.lanes|=u,es|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,nn=!0),i.memoizedState=u)}function Uw(i,o){var u=Re;Re=u!==0&&4>u?u:4,i(!0);var d=Kh.transition;Kh.transition={};try{i(!1),o()}finally{Re=u,Kh.transition=d}}function Fg(){return Cn().memoizedState}function $w(i,o,u){var d=hi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},zg(i))Bg(o,u);else if(u=mg(i,o,u,d),u!==null){var g=Yt();Kn(u,i,d,g),jg(u,o,d)}}function Hw(i,o,u){var d=hi(i),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(zg(i))Bg(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var x=o.lastRenderedState,P=_(x,u);if(g.hasEagerState=!0,g.eagerState=P,Un(P,x)){var O=o.interleaved;O===null?(g.next=g,jh(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}u=mg(i,o,g,d),u!==null&&(g=Yt(),Kn(u,i,d,g),jg(u,o,d))}}function zg(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function Bg(i,o){Ia=wu=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function jg(i,o,u){if(u&4194240){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Yr(i,u)}}var Su={readContext:Tn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Ww={readContext:Tn,useCallback:function(i,o){return ir().memoizedState=[i,o===void 0?null:o],i},useContext:Tn,useEffect:Rg,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Eu(4194308,4,Mg.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Eu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Eu(4,2,i,o)},useMemo:function(i,o){var u=ir();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=ir();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=$w.bind(null,rt,i),[d.memoizedState,i]},useRef:function(i){var o=ir();return i={current:i},o.memoizedState=i},useState:Ag,useDebugValue:ef,useDeferredValue:function(i){return ir().memoizedState=i},useTransition:function(){var i=Ag(!1),o=i[0];return i=Uw.bind(null,i[1]),ir().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=rt,g=ir();if(tt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),It===null)throw Error(t(349));Zi&30||Sg(d,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,Rg(Cg.bind(null,d,_,i),[i]),d.flags|=2048,Ra(9,Tg.bind(null,d,_,u,o),void 0,null),u},useId:function(){var i=ir(),o=It.identifierPrefix;if(tt){var u=Rr,d=br;u=(d&~(1<<32-Kt(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Aa++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=jw++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qw={readContext:Tn,useCallback:Og,useContext:Tn,useEffect:Zh,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:Dg,useMemo:Ng,useReducer:Xh,useRef:bg,useState:function(){return Xh(ba)},useDebugValue:ef,useDeferredValue:function(i){var o=Cn();return Vg(o,wt.memoizedState,i)},useTransition:function(){var i=Xh(ba)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:Eg,useSyncExternalStore:xg,useId:Fg,unstable_isNewReconciler:!1},Kw={readContext:Tn,useCallback:Og,useContext:Tn,useEffect:Zh,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:Dg,useMemo:Ng,useReducer:Jh,useRef:bg,useState:function(){return Jh(ba)},useDebugValue:ef,useDeferredValue:function(i){var o=Cn();return wt===null?o.memoizedState=i:Vg(o,wt.memoizedState,i)},useTransition:function(){var i=Jh(ba)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:Eg,useSyncExternalStore:xg,useId:Fg,unstable_isNewReconciler:!1};function Hn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function tf(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:oe({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Tu={isMounted:function(i){return(i=i._reactInternals)?On(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=Yt(),g=hi(i),_=Dr(d,g);_.payload=o,u!=null&&(_.callback=u),o=ai(i,_,g),o!==null&&(Kn(o,i,g,d),mu(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=Yt(),g=hi(i),_=Dr(d,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=ai(i,_,g),o!==null&&(Kn(o,i,g,d),mu(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Yt(),d=hi(i),g=Dr(u,d);g.tag=2,o!=null&&(g.callback=o),o=ai(i,g,d),o!==null&&(Kn(o,i,d,u),mu(o,i,d))}};function Ug(i,o,u,d,g,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,_,x):o.prototype&&o.prototype.isPureReactComponent?!ma(u,d)||!ma(g,_):!0}function $g(i,o,u){var d=!1,g=ii,_=o.contextType;return typeof _=="object"&&_!==null?_=Tn(_):(g=tn(o)?Qi:Ft.current,d=o.contextTypes,_=(d=d!=null)?no(i,g):ii),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tu,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function Hg(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Tu.enqueueReplaceState(o,o.state,null)}function nf(i,o,u,d){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Uh(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Tn(_):(_=tn(o)?Qi:Ft.current,g.context=no(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(tf(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Tu.enqueueReplaceState(g,g.state,null),yu(i,u,g,d),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function co(i,o){try{var u="",d=o;do u+=xe(d),d=d.return;while(d);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function rf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function sf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Qw=typeof WeakMap=="function"?WeakMap:Map;function Wg(i,o,u){u=Dr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Pu||(Pu=!0,wf=d),sf(i,o)},u}function qg(i,o,u){u=Dr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){sf(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){sf(i,o),typeof d!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),u}function Kg(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new Qw;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),i=lE.bind(null,i,o,u),o.then(i,i))}function Qg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Gg(i,o,u,d,g){return i.mode&1?(i.flags|=65536,i.lanes=g,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Dr(-1,1),o.tag=2,ai(u,o,1))),u.lanes|=1),i)}var Gw=Y.ReactCurrentOwner,nn=!1;function Gt(i,o,u,d){o.child=i===null?gg(o,null,u,d):oo(o,i.child,u,d)}function Yg(i,o,u,d,g){u=u.render;var _=o.ref;return lo(o,g),d=Gh(i,o,u,d,_,g),u=Yh(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Mr(i,o,g)):(tt&&u&&Dh(o),o.flags|=1,Gt(i,o,d,g),o.child)}function Xg(i,o,u,d,g){if(i===null){var _=u.type;return typeof _=="function"&&!If(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,Jg(i,o,_,d,g)):(i=Vu(u.type,null,d,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!(i.lanes&g)){var x=_.memoizedProps;if(u=u.compare,u=u!==null?u:ma,u(x,d)&&i.ref===o.ref)return Mr(i,o,g)}return o.flags|=1,i=di(_,d),i.ref=o.ref,i.return=o,o.child=i}function Jg(i,o,u,d,g){if(i!==null){var _=i.memoizedProps;if(ma(_,d)&&i.ref===o.ref)if(nn=!1,o.pendingProps=d=_,(i.lanes&g)!==0)i.flags&131072&&(nn=!0);else return o.lanes=i.lanes,Mr(i,o,g)}return of(i,o,u,d,g)}function Zg(i,o,u){var d=o.pendingProps,g=d.children,_=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(fo,yn),yn|=u;else{if(!(u&1073741824))return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ye(fo,yn),yn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:u,Ye(fo,yn),yn|=d}else _!==null?(d=_.baseLanes|u,o.memoizedState=null):d=u,Ye(fo,yn),yn|=d;return Gt(i,o,g,u),o.child}function em(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function of(i,o,u,d,g){var _=tn(u)?Qi:Ft.current;return _=no(o,_),lo(o,g),u=Gh(i,o,u,d,_,g),d=Yh(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Mr(i,o,g)):(tt&&d&&Dh(o),o.flags|=1,Gt(i,o,u,g),o.child)}function tm(i,o,u,d,g){if(tn(u)){var _=!0;lu(o)}else _=!1;if(lo(o,g),o.stateNode===null)ku(i,o),$g(o,u,d),nf(o,u,d,g),d=!0;else if(i===null){var x=o.stateNode,P=o.memoizedProps;x.props=P;var O=x.context,H=u.contextType;typeof H=="object"&&H!==null?H=Tn(H):(H=tn(u)?Qi:Ft.current,H=no(o,H));var Z=u.getDerivedStateFromProps,te=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==d||O!==H)&&Hg(o,x,d,H),oi=!1;var J=o.memoizedState;x.state=J,yu(o,d,x,g),O=o.memoizedState,P!==d||J!==O||en.current||oi?(typeof Z=="function"&&(tf(o,u,Z,d),O=o.memoizedState),(P=oi||Ug(o,u,P,d,J,O,H))?(te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),x.props=d,x.state=O,x.context=H,d=P):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,yg(i,o),P=o.memoizedProps,H=o.type===o.elementType?P:Hn(o.type,P),x.props=H,te=o.pendingProps,J=x.context,O=u.contextType,typeof O=="object"&&O!==null?O=Tn(O):(O=tn(u)?Qi:Ft.current,O=no(o,O));var ae=u.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==te||J!==O)&&Hg(o,x,d,O),oi=!1,J=o.memoizedState,x.state=J,yu(o,d,x,g);var he=o.memoizedState;P!==te||J!==he||en.current||oi?(typeof ae=="function"&&(tf(o,u,ae,d),he=o.memoizedState),(H=oi||Ug(o,u,H,d,J,he,O)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,he,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,he,O)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),x.props=d,x.state=he,x.context=O,d=H):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),d=!1)}return af(i,o,u,d,_,g)}function af(i,o,u,d,g,_){em(i,o);var x=(o.flags&128)!==0;if(!d&&!x)return g&&og(o,u,!1),Mr(i,o,_);d=o.stateNode,Gw.current=o;var P=x&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&x?(o.child=oo(o,i.child,null,_),o.child=oo(o,null,P,_)):Gt(i,o,P,_),o.memoizedState=d.state,g&&og(o,u,!0),o.child}function nm(i){var o=i.stateNode;o.pendingContext?ig(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ig(i,o.context,!1),$h(i,o.containerInfo)}function rm(i,o,u,d,g){return so(),Nh(g),o.flags|=256,Gt(i,o,u,d),o.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(i){return{baseLanes:i,cachePool:null,transitions:null}}function im(i,o,u){var d=o.pendingProps,g=nt.current,_=!1,x=(o.flags&128)!==0,P;if((P=x)||(P=i!==null&&i.memoizedState===null?!1:(g&2)!==0),P?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ye(nt,g&1),i===null)return Oh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(x=d.children,i=d.fallback,_?(d=o.mode,_=o.child,x={mode:"hidden",children:x},!(d&1)&&_!==null?(_.childLanes=0,_.pendingProps=x):_=Fu(x,d,0,null),i=is(i,d,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=uf(u),o.memoizedState=lf,i):cf(o,x));if(g=i.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return Yw(i,o,x,d,P,g,u);if(_){_=d.fallback,x=o.mode,g=i.child,P=g.sibling;var O={mode:"hidden",children:d.children};return!(x&1)&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=di(g,O),d.subtreeFlags=g.subtreeFlags&14680064),P!==null?_=di(P,_):(_=is(_,x,u,null),_.flags|=2),_.return=o,d.return=o,d.sibling=_,o.child=d,d=_,_=o.child,x=i.child.memoizedState,x=x===null?uf(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},_.memoizedState=x,_.childLanes=i.childLanes&~u,o.memoizedState=lf,d}return _=i.child,i=_.sibling,d=di(_,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function cf(i,o){return o=Fu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Cu(i,o,u,d){return d!==null&&Nh(d),oo(o,i.child,null,u),i=cf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Yw(i,o,u,d,g,_,x){if(u)return o.flags&256?(o.flags&=-257,d=rf(Error(t(422))),Cu(i,o,x,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=d.fallback,g=o.mode,d=Fu({mode:"visible",children:d.children},g,0,null),_=is(_,g,x,null),_.flags|=2,d.return=o,_.return=o,d.sibling=_,o.child=d,o.mode&1&&oo(o,i.child,null,x),o.child.memoizedState=uf(x),o.memoizedState=lf,_);if(!(o.mode&1))return Cu(i,o,x,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var P=d.dgst;return d=P,_=Error(t(419)),d=rf(_,d,void 0),Cu(i,o,x,d)}if(P=(x&i.childLanes)!==0,nn||P){if(d=It,d!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(d.suspendedLanes|x)?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Pr(i,g),Kn(d,i,g,-1))}return kf(),d=rf(Error(t(421))),Cu(i,o,x,d)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=uE.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,mn=ni(g.nextSibling),gn=o,tt=!0,$n=null,i!==null&&(xn[Sn++]=br,xn[Sn++]=Rr,xn[Sn++]=Gi,br=i.id,Rr=i.overflow,Gi=o),o=cf(o,d.children),o.flags|=4096,o)}function sm(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Bh(i.return,o,u)}function hf(i,o,u,d,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=u,_.tailMode=g)}function om(i,o,u){var d=o.pendingProps,g=d.revealOrder,_=d.tail;if(Gt(i,o,d.children,u),d=nt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sm(i,u,o);else if(i.tag===19)sm(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ye(nt,d),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&_u(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),hf(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&_u(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}hf(o,!0,u,null,_);break;case"together":hf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ku(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Mr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),es|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=di(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=di(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Xw(i,o,u){switch(o.tag){case 3:nm(o),so();break;case 5:wg(o);break;case 1:tn(o.type)&&lu(o);break;case 4:$h(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Ye(pu,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ye(nt,nt.current&1),o.flags|=128,null):u&o.child.childLanes?im(i,o,u):(Ye(nt,nt.current&1),i=Mr(i,o,u),i!==null?i.sibling:null);Ye(nt,nt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,i.flags&128){if(d)return om(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ye(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,Zg(i,o,u)}return Mr(i,o,u)}var am,ff,lm,um;am=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ff=function(){},lm=function(i,o,u,d){var g=i.memoizedProps;if(g!==d){i=o.stateNode,Ji(rr.current);var _=null;switch(u){case"input":g=Pi(i,g),d=Pi(i,d),_=[];break;case"select":g=oe({},g,{value:void 0}),d=oe({},d,{value:void 0}),_=[];break;case"textarea":g=Wo(i,g),d=Wo(i,d),_=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=su)}Xo(u,d);var x;u=null;for(H in g)if(!d.hasOwnProperty(H)&&g.hasOwnProperty(H)&&g[H]!=null)if(H==="style"){var P=g[H];for(x in P)P.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?_||(_=[]):(_=_||[]).push(H,null));for(H in d){var O=d[H];if(P=g!=null?g[H]:void 0,d.hasOwnProperty(H)&&O!==P&&(O!=null||P!=null))if(H==="style")if(P){for(x in P)!P.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in O)O.hasOwnProperty(x)&&P[x]!==O[x]&&(u||(u={}),u[x]=O[x])}else u||(_||(_=[]),_.push(H,u)),u=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(_=_||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(_=_||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&Xe("scroll",i),_||P===O||(_=[])):(_=_||[]).push(H,O))}u&&(_=_||[]).push("style",u);var H=_;(o.updateQueue=H)&&(o.flags|=4)}},um=function(i,o,u,d){u!==d&&(o.flags|=4)};function Pa(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Bt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function Jw(i,o,u){var d=o.pendingProps;switch(Mh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return tn(o.type)&&au(),Bt(o),null;case 3:return d=o.stateNode,uo(),Je(en),Je(Ft),qh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(fu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,$n!==null&&(Sf($n),$n=null))),ff(i,o),Bt(o),null;case 5:Hh(o);var g=Ji(ka.current);if(u=o.type,i!==null&&o.stateNode!=null)lm(i,o,u,d,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Bt(o),null}if(i=Ji(rr.current),fu(o)){d=o.stateNode,u=o.type;var _=o.memoizedProps;switch(d[nr]=o,d[Ea]=_,i=(o.mode&1)!==0,u){case"dialog":Xe("cancel",d),Xe("close",d);break;case"iframe":case"object":case"embed":Xe("load",d);break;case"video":case"audio":for(g=0;g<_a.length;g++)Xe(_a[g],d);break;case"source":Xe("error",d);break;case"img":case"image":case"link":Xe("error",d),Xe("load",d);break;case"details":Xe("toggle",d);break;case"input":Ts(d,_),Xe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},Xe("invalid",d);break;case"textarea":ks(d,_),Xe("invalid",d)}Xo(u,_),g=null;for(var x in _)if(_.hasOwnProperty(x)){var P=_[x];x==="children"?typeof P=="string"?d.textContent!==P&&(_.suppressHydrationWarning!==!0&&iu(d.textContent,P,i),g=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(_.suppressHydrationWarning!==!0&&iu(d.textContent,P,i),g=["children",""+P]):s.hasOwnProperty(x)&&P!=null&&x==="onScroll"&&Xe("scroll",d)}switch(u){case"input":yr(d),Rl(d,_,!0);break;case"textarea":yr(d),qo(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=su)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=x.createElement(u,{is:d.is}):(i=x.createElement(u),u==="select"&&(x=i,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):i=x.createElementNS(i,u),i[nr]=o,i[Ea]=d,am(i,o,!1,!1),o.stateNode=i;e:{switch(x=Jo(u,d),u){case"dialog":Xe("cancel",i),Xe("close",i),g=d;break;case"iframe":case"object":case"embed":Xe("load",i),g=d;break;case"video":case"audio":for(g=0;g<_a.length;g++)Xe(_a[g],i);g=d;break;case"source":Xe("error",i),g=d;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),g=d;break;case"details":Xe("toggle",i),g=d;break;case"input":Ts(i,d),g=Pi(i,d),Xe("invalid",i);break;case"option":g=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},g=oe({},d,{value:void 0}),Xe("invalid",i);break;case"textarea":ks(i,d),g=Wo(i,d),Xe("invalid",i);break;default:g=d}Xo(u,g),P=g;for(_ in P)if(P.hasOwnProperty(_)){var O=P[_];_==="style"?Go(i,O):_==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ko(i,O)):_==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Wr(i,O):typeof O=="number"&&Wr(i,""+O):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?O!=null&&_==="onScroll"&&Xe("scroll",i):O!=null&&q(i,_,O,x))}switch(u){case"input":yr(i),Rl(i,d,!1);break;case"textarea":yr(i),qo(i);break;case"option":d.value!=null&&i.setAttribute("value",""+$e(d.value));break;case"select":i.multiple=!!d.multiple,_=d.value,_!=null?vr(i,!!d.multiple,_,!1):d.defaultValue!=null&&vr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=su)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bt(o),null;case 6:if(i&&o.stateNode!=null)um(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ji(ka.current),Ji(rr.current),fu(o)){if(d=o.stateNode,u=o.memoizedProps,d[nr]=o,(_=d.nodeValue!==u)&&(i=gn,i!==null))switch(i.tag){case 3:iu(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&iu(d.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[nr]=o,o.stateNode=d}return Bt(o),null;case 13:if(Je(nt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&mn!==null&&o.mode&1&&!(o.flags&128))fg(),so(),o.flags|=98560,_=!1;else if(_=fu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[nr]=o}else so(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Bt(o),_=!1}else $n!==null&&(Sf($n),$n=null),_=!0;if(!_)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||nt.current&1?Et===0&&(Et=3):kf())),o.updateQueue!==null&&(o.flags|=4),Bt(o),null);case 4:return uo(),ff(i,o),i===null&&va(o.stateNode.containerInfo),Bt(o),null;case 10:return zh(o.type._context),Bt(o),null;case 17:return tn(o.type)&&au(),Bt(o),null;case 19:if(Je(nt),_=o.memoizedState,_===null)return Bt(o),null;if(d=(o.flags&128)!==0,x=_.rendering,x===null)if(d)Pa(_,!1);else{if(Et!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(x=_u(i),x!==null){for(o.flags|=128,Pa(_,!1),d=x.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)_=u,i=d,_.flags&=14680066,x=_.alternate,x===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,_.type=x.type,i=x.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ye(nt,nt.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ge()>po&&(o.flags|=128,d=!0,Pa(_,!1),o.lanes=4194304)}else{if(!d)if(i=_u(x),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Pa(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!tt)return Bt(o),null}else 2*Ge()-_.renderingStartTime>po&&u!==1073741824&&(o.flags|=128,d=!0,Pa(_,!1),o.lanes=4194304);_.isBackwards?(x.sibling=o.child,o.child=x):(u=_.last,u!==null?u.sibling=x:o.child=x,_.last=x)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ge(),o.sibling=null,u=nt.current,Ye(nt,d?u&1|2:u&1),o):(Bt(o),null);case 22:case 23:return Cf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?yn&1073741824&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Zw(i,o){switch(Mh(o),o.tag){case 1:return tn(o.type)&&au(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return uo(),Je(en),Je(Ft),qh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Hh(o),null;case 13:if(Je(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));so()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(nt),null;case 4:return uo(),null;case 10:return zh(o.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var Iu=!1,jt=!1,eE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ho(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ot(i,o,d)}else u.current=null}function df(i,o,u){try{u()}catch(d){ot(i,o,d)}}var cm=!1;function tE(i,o){if(Th=Zr,i=Up(),mh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var x=0,P=-1,O=-1,H=0,Z=0,te=i,J=null;t:for(;;){for(var ae;te!==u||g!==0&&te.nodeType!==3||(P=x+g),te!==_||d!==0&&te.nodeType!==3||(O=x+d),te.nodeType===3&&(x+=te.nodeValue.length),(ae=te.firstChild)!==null;)J=te,te=ae;for(;;){if(te===i)break t;if(J===u&&++H===g&&(P=x),J===_&&++Z===d&&(O=x),(ae=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ae}u=P===-1||O===-1?null:{start:P,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ch={focusedElem:i,selectionRange:u},Zr=!1,ue=o;ue!==null;)if(o=ue,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ue=i;else for(;ue!==null;){o=ue;try{var he=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ct=he.memoizedState,j=o.stateNode,F=j.getSnapshotBeforeUpdate(o.elementType===o.type?de:Hn(o.type,de),ct);j.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ot(o,o.return,ne)}if(i=o.sibling,i!==null){i.return=o.return,ue=i;break}ue=o.return}return he=cm,cm=!1,he}function Da(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&df(o,u,_)}g=g.next}while(g!==d)}}function Au(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function pf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function hm(i){var o=i.alternate;o!==null&&(i.alternate=null,hm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[nr],delete o[Ea],delete o[bh],delete o[Vw],delete o[Fw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function fm(i){return i.tag===5||i.tag===3||i.tag===4}function dm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=su));else if(d!==4&&(i=i.child,i!==null))for(gf(i,o,u),i=i.sibling;i!==null;)gf(i,o,u),i=i.sibling}function mf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(mf(i,o,u),i=i.sibling;i!==null;)mf(i,o,u),i=i.sibling}var Lt=null,Wn=!1;function li(i,o,u){for(u=u.child;u!==null;)pm(i,o,u),u=u.sibling}function pm(i,o,u){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Bi,u)}catch{}switch(u.tag){case 5:jt||ho(u,o);case 6:var d=Lt,g=Wn;Lt=null,li(i,o,u),Lt=d,Wn=g,Lt!==null&&(Wn?(i=Lt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Lt.removeChild(u.stateNode));break;case 18:Lt!==null&&(Wn?(i=Lt,u=u.stateNode,i.nodeType===8?Ah(i.parentNode,u):i.nodeType===1&&Ah(i,u),Bn(i)):Ah(Lt,u.stateNode));break;case 4:d=Lt,g=Wn,Lt=u.stateNode.containerInfo,Wn=!0,li(i,o,u),Lt=d,Wn=g;break;case 0:case 11:case 14:case 15:if(!jt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var _=g,x=_.destroy;_=_.tag,x!==void 0&&(_&2||_&4)&&df(u,o,x),g=g.next}while(g!==d)}li(i,o,u);break;case 1:if(!jt&&(ho(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(P){ot(u,o,P)}li(i,o,u);break;case 21:li(i,o,u);break;case 22:u.mode&1?(jt=(d=jt)||u.memoizedState!==null,li(i,o,u),jt=d):li(i,o,u);break;default:li(i,o,u)}}function gm(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new eE),o.forEach(function(d){var g=cE.bind(null,i,d);u.has(d)||(u.add(d),d.then(g,g))})}}function qn(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var _=i,x=o,P=x;e:for(;P!==null;){switch(P.tag){case 5:Lt=P.stateNode,Wn=!1;break e;case 3:Lt=P.stateNode.containerInfo,Wn=!0;break e;case 4:Lt=P.stateNode.containerInfo,Wn=!0;break e}P=P.return}if(Lt===null)throw Error(t(160));pm(_,x,g),Lt=null,Wn=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(H){ot(g,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)mm(o,i),o=o.sibling}function mm(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qn(o,i),sr(i),d&4){try{Da(3,i,i.return),Au(3,i)}catch(de){ot(i,i.return,de)}try{Da(5,i,i.return)}catch(de){ot(i,i.return,de)}}break;case 1:qn(o,i),sr(i),d&512&&u!==null&&ho(u,u.return);break;case 5:if(qn(o,i),sr(i),d&512&&u!==null&&ho(u,u.return),i.flags&32){var g=i.stateNode;try{Wr(g,"")}catch(de){ot(i,i.return,de)}}if(d&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,x=u!==null?u.memoizedProps:_,P=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{P==="input"&&_.type==="radio"&&_.name!=null&&$o(g,_),Jo(P,x);var H=Jo(P,_);for(x=0;x<O.length;x+=2){var Z=O[x],te=O[x+1];Z==="style"?Go(g,te):Z==="dangerouslySetInnerHTML"?Ko(g,te):Z==="children"?Wr(g,te):q(g,Z,te,H)}switch(P){case"input":Ho(g,_);break;case"textarea":Is(g,_);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ae=_.value;ae!=null?vr(g,!!_.multiple,ae,!1):J!==!!_.multiple&&(_.defaultValue!=null?vr(g,!!_.multiple,_.defaultValue,!0):vr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Ea]=_}catch(de){ot(i,i.return,de)}}break;case 6:if(qn(o,i),sr(i),d&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(de){ot(i,i.return,de)}}break;case 3:if(qn(o,i),sr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Bn(o.containerInfo)}catch(de){ot(i,i.return,de)}break;case 4:qn(o,i),sr(i);break;case 13:qn(o,i),sr(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(vf=Ge())),d&4&&gm(i);break;case 22:if(Z=u!==null&&u.memoizedState!==null,i.mode&1?(jt=(H=jt)||Z,qn(o,i),jt=H):qn(o,i),sr(i),d&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!Z&&i.mode&1)for(ue=i,Z=i.child;Z!==null;){for(te=ue=Z;ue!==null;){switch(J=ue,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Da(4,J,J.return);break;case 1:ho(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){d=J,u=J.return;try{o=d,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){ot(d,u,de)}}break;case 5:ho(J,J.return);break;case 22:if(J.memoizedState!==null){vm(te);continue}}ae!==null?(ae.return=J,ue=ae):vm(te)}Z=Z.sibling}e:for(Z=null,te=i;;){if(te.tag===5){if(Z===null){Z=te;try{g=te.stateNode,H?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(P=te.stateNode,O=te.memoizedProps.style,x=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=Qo("display",x))}catch(de){ot(i,i.return,de)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(de){ot(i,i.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:qn(o,i),sr(i),d&4&&gm(i);break;case 21:break;default:qn(o,i),sr(i)}}function sr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(fm(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Wr(g,""),d.flags&=-33);var _=dm(i);mf(i,_,g);break;case 3:case 4:var x=d.stateNode.containerInfo,P=dm(i);gf(i,P,x);break;default:throw Error(t(161))}}catch(O){ot(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nE(i,o,u){ue=i,ym(i)}function ym(i,o,u){for(var d=(i.mode&1)!==0;ue!==null;){var g=ue,_=g.child;if(g.tag===22&&d){var x=g.memoizedState!==null||Iu;if(!x){var P=g.alternate,O=P!==null&&P.memoizedState!==null||jt;P=Iu;var H=jt;if(Iu=x,(jt=O)&&!H)for(ue=g;ue!==null;)x=ue,O=x.child,x.tag===22&&x.memoizedState!==null?wm(g):O!==null?(O.return=x,ue=O):wm(g);for(;_!==null;)ue=_,ym(_),_=_.sibling;ue=g,Iu=P,jt=H}_m(i)}else g.subtreeFlags&8772&&_!==null?(_.return=g,ue=_):_m(i)}}function _m(i){for(;ue!==null;){var o=ue;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:jt||Au(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!jt)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Hn(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&vg(o,_,d);break;case 3:var x=o.updateQueue;if(x!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}vg(o,x,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||o.flags&512&&pf(o)}catch(J){ot(o,o.return,J)}}if(o===i){ue=null;break}if(u=o.sibling,u!==null){u.return=o.return,ue=u;break}ue=o.return}}function vm(i){for(;ue!==null;){var o=ue;if(o===i){ue=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ue=u;break}ue=o.return}}function wm(i){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Au(4,o)}catch(O){ot(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(O){ot(o,g,O)}}var _=o.return;try{pf(o)}catch(O){ot(o,_,O)}break;case 5:var x=o.return;try{pf(o)}catch(O){ot(o,x,O)}}}catch(O){ot(o,o.return,O)}if(o===i){ue=null;break}var P=o.sibling;if(P!==null){P.return=o.return,ue=P;break}ue=o.return}}var rE=Math.ceil,bu=Y.ReactCurrentDispatcher,yf=Y.ReactCurrentOwner,kn=Y.ReactCurrentBatchConfig,Fe=0,It=null,gt=null,Ot=0,yn=0,fo=ri(0),Et=0,Ma=null,es=0,Ru=0,_f=0,La=null,rn=null,vf=0,po=1/0,Lr=null,Pu=!1,wf=null,ui=null,Du=!1,ci=null,Mu=0,Oa=0,Ef=null,Lu=-1,Ou=0;function Yt(){return Fe&6?Ge():Lu!==-1?Lu:Lu=Ge()}function hi(i){return i.mode&1?Fe&2&&Ot!==0?Ot&-Ot:Bw.transition!==null?(Ou===0&&(Ou=Ui()),Ou):(i=Re,i!==0||(i=window.event,i=i===void 0?16:ua(i.type)),i):1}function Kn(i,o,u,d){if(50<Oa)throw Oa=0,Ef=null,Error(t(185));Gr(i,u,d),(!(Fe&2)||i!==It)&&(i===It&&(!(Fe&2)&&(Ru|=u),Et===4&&fi(i,Ot)),sn(i,d),u===1&&Fe===0&&!(o.mode&1)&&(po=Ge()+500,uu&&si()))}function sn(i,o){var u=i.callbackNode;xr(i,o);var d=ji(i,i===It?Ot:0);if(d===0)u!==null&&ia(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&ia(u),o===1)i.tag===0?zw(xm.bind(null,i)):ag(xm.bind(null,i)),Ow(function(){!(Fe&6)&&si()}),u=null;else{switch(Xr(d)){case 1:u=zi;break;case 4:u=qr;break;case 16:u=vn;break;case 536870912:u=Ol;break;default:u=vn}u=Rm(u,Em.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Em(i,o){if(Lu=-1,Ou=0,Fe&6)throw Error(t(327));var u=i.callbackNode;if(go()&&i.callbackNode!==u)return null;var d=ji(i,i===It?Ot:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Nu(i,d);else{o=d;var g=Fe;Fe|=2;var _=Tm();(It!==i||Ot!==o)&&(Lr=null,po=Ge()+500,ns(i,o));do try{oE();break}catch(P){Sm(i,P)}while(!0);Fh(),bu.current=_,Fe=g,gt!==null?o=0:(It=null,Ot=0,o=Et)}if(o!==0){if(o===2&&(g=fn(i),g!==0&&(d=g,o=xf(i,g))),o===1)throw u=Ma,ns(i,0),fi(i,d),sn(i,Ge()),u;if(o===6)fi(i,d);else{if(g=i.current.alternate,!(d&30)&&!iE(g)&&(o=Nu(i,d),o===2&&(_=fn(i),_!==0&&(d=_,o=xf(i,_))),o===1))throw u=Ma,ns(i,0),fi(i,d),sn(i,Ge()),u;switch(i.finishedWork=g,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:rs(i,rn,Lr);break;case 3:if(fi(i,d),(d&130023424)===d&&(o=vf+500-Ge(),10<o)){if(ji(i,0)!==0)break;if(g=i.suspendedLanes,(g&d)!==d){Yt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Ih(rs.bind(null,i,rn,Lr),o);break}rs(i,rn,Lr);break;case 4:if(fi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,g=-1;0<d;){var x=31-Kt(d);_=1<<x,x=o[x],x>g&&(g=x),d&=~_}if(d=g,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*rE(d/1960))-d,10<d){i.timeoutHandle=Ih(rs.bind(null,i,rn,Lr),d);break}rs(i,rn,Lr);break;case 5:rs(i,rn,Lr);break;default:throw Error(t(329))}}}return sn(i,Ge()),i.callbackNode===u?Em.bind(null,i):null}function xf(i,o){var u=La;return i.current.memoizedState.isDehydrated&&(ns(i,o).flags|=256),i=Nu(i,o),i!==2&&(o=rn,rn=u,o!==null&&Sf(o)),i}function Sf(i){rn===null?rn=i:rn.push.apply(rn,i)}function iE(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],_=g.getSnapshot;g=g.value;try{if(!Un(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fi(i,o){for(o&=~_f,o&=~Ru,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Kt(o),d=1<<u;i[u]=-1,o&=~d}}function xm(i){if(Fe&6)throw Error(t(327));go();var o=ji(i,0);if(!(o&1))return sn(i,Ge()),null;var u=Nu(i,o);if(i.tag!==0&&u===2){var d=fn(i);d!==0&&(o=d,u=xf(i,d))}if(u===1)throw u=Ma,ns(i,0),fi(i,o),sn(i,Ge()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,rs(i,rn,Lr),sn(i,Ge()),null}function Tf(i,o){var u=Fe;Fe|=1;try{return i(o)}finally{Fe=u,Fe===0&&(po=Ge()+500,uu&&si())}}function ts(i){ci!==null&&ci.tag===0&&!(Fe&6)&&go();var o=Fe;Fe|=1;var u=kn.transition,d=Re;try{if(kn.transition=null,Re=1,i)return i()}finally{Re=d,kn.transition=u,Fe=o,!(Fe&6)&&si()}}function Cf(){yn=fo.current,Je(fo)}function ns(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Lw(u)),gt!==null)for(u=gt.return;u!==null;){var d=u;switch(Mh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&au();break;case 3:uo(),Je(en),Je(Ft),qh();break;case 5:Hh(d);break;case 4:uo();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:zh(d.type._context);break;case 22:case 23:Cf()}u=u.return}if(It=i,gt=i=di(i.current,null),Ot=yn=o,Et=0,Ma=null,_f=Ru=es=0,rn=La=null,Xi!==null){for(o=0;o<Xi.length;o++)if(u=Xi[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,_=u.pending;if(_!==null){var x=_.next;_.next=g,d.next=x}u.pending=d}Xi=null}return i}function Sm(i,o){do{var u=gt;try{if(Fh(),vu.current=Su,wu){for(var d=rt.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}wu=!1}if(Zi=0,kt=wt=rt=null,Ia=!1,Aa=0,yf.current=null,u===null||u.return===null){Et=1,Ma=o,gt=null;break}e:{var _=i,x=u.return,P=u,O=o;if(o=Ot,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,Z=P,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=Qg(x);if(ae!==null){ae.flags&=-257,Gg(ae,x,P,_,o),ae.mode&1&&Kg(_,H,o),o=ae,O=H;var he=o.updateQueue;if(he===null){var de=new Set;de.add(O),o.updateQueue=de}else he.add(O);break e}else{if(!(o&1)){Kg(_,H,o),kf();break e}O=Error(t(426))}}else if(tt&&P.mode&1){var ct=Qg(x);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Gg(ct,x,P,_,o),Nh(co(O,P));break e}}_=O=co(O,P),Et!==4&&(Et=2),La===null?La=[_]:La.push(_),_=x;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var j=Wg(_,O,o);_g(_,j);break e;case 1:P=O;var F=_.type,$=_.stateNode;if(!(_.flags&128)&&(typeof F.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ui===null||!ui.has($)))){_.flags|=65536,o&=-o,_.lanes|=o;var ne=qg(_,P,o);_g(_,ne);break e}}_=_.return}while(_!==null)}km(u)}catch(pe){o=pe,gt===u&&u!==null&&(gt=u=u.return);continue}break}while(!0)}function Tm(){var i=bu.current;return bu.current=Su,i===null?Su:i}function kf(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||!(es&268435455)&&!(Ru&268435455)||fi(It,Ot)}function Nu(i,o){var u=Fe;Fe|=2;var d=Tm();(It!==i||Ot!==o)&&(Lr=null,ns(i,o));do try{sE();break}catch(g){Sm(i,g)}while(!0);if(Fh(),Fe=u,bu.current=d,gt!==null)throw Error(t(261));return It=null,Ot=0,Et}function sE(){for(;gt!==null;)Cm(gt)}function oE(){for(;gt!==null&&!Ml();)Cm(gt)}function Cm(i){var o=bm(i.alternate,i,yn);i.memoizedProps=i.pendingProps,o===null?km(i):gt=o,yf.current=null}function km(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=Zw(u,o),u!==null){u.flags&=32767,gt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,gt=null;return}}else if(u=Jw(u,o,yn),u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);Et===0&&(Et=5)}function rs(i,o,u){var d=Re,g=kn.transition;try{kn.transition=null,Re=1,aE(i,o,u,d)}finally{kn.transition=g,Re=d}return null}function aE(i,o,u,d){do go();while(ci!==null);if(Fe&6)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ke(i,_),i===It&&(gt=It=null,Ot=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Du||(Du=!0,Rm(vn,function(){return go(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=kn.transition,kn.transition=null;var x=Re;Re=1;var P=Fe;Fe|=4,yf.current=null,tE(i,u),mm(u,i),Iw(Ch),Zr=!!Th,Ch=Th=null,i.current=u,nE(u),lh(),Fe=P,Re=x,kn.transition=_}else i.current=u;if(Du&&(Du=!1,ci=i,Mu=g),_=i.pendingLanes,_===0&&(ui=null),Nl(u.stateNode),sn(i,Ge()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(Pu)throw Pu=!1,i=wf,wf=null,i;return Mu&1&&i.tag!==0&&go(),_=i.pendingLanes,_&1?i===Ef?Oa++:(Oa=0,Ef=i):Oa=0,si(),null}function go(){if(ci!==null){var i=Xr(Mu),o=kn.transition,u=Re;try{if(kn.transition=null,Re=16>i?16:i,ci===null)var d=!1;else{if(i=ci,ci=null,Mu=0,Fe&6)throw Error(t(331));var g=Fe;for(Fe|=4,ue=i.current;ue!==null;){var _=ue,x=_.child;if(ue.flags&16){var P=_.deletions;if(P!==null){for(var O=0;O<P.length;O++){var H=P[O];for(ue=H;ue!==null;){var Z=ue;switch(Z.tag){case 0:case 11:case 15:Da(8,Z,_)}var te=Z.child;if(te!==null)te.return=Z,ue=te;else for(;ue!==null;){Z=ue;var J=Z.sibling,ae=Z.return;if(hm(Z),Z===H){ue=null;break}if(J!==null){J.return=ae,ue=J;break}ue=ae}}}var he=_.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}ue=_}}if(_.subtreeFlags&2064&&x!==null)x.return=_,ue=x;else e:for(;ue!==null;){if(_=ue,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Da(9,_,_.return)}var j=_.sibling;if(j!==null){j.return=_.return,ue=j;break e}ue=_.return}}var F=i.current;for(ue=F;ue!==null;){x=ue;var $=x.child;if(x.subtreeFlags&2064&&$!==null)$.return=x,ue=$;else e:for(x=F;ue!==null;){if(P=ue,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Au(9,P)}}catch(pe){ot(P,P.return,pe)}if(P===x){ue=null;break e}var ne=P.sibling;if(ne!==null){ne.return=P.return,ue=ne;break e}ue=P.return}}if(Fe=g,si(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Bi,i)}catch{}d=!0}return d}finally{Re=u,kn.transition=o}}return!1}function Im(i,o,u){o=co(u,o),o=Wg(i,o,1),i=ai(i,o,1),o=Yt(),i!==null&&(Gr(i,1,o),sn(i,o))}function ot(i,o,u){if(i.tag===3)Im(i,i,u);else for(;o!==null;){if(o.tag===3){Im(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ui===null||!ui.has(d))){i=co(u,i),i=qg(o,i,1),o=ai(o,i,1),i=Yt(),o!==null&&(Gr(o,1,i),sn(o,i));break}}o=o.return}}function lE(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=Yt(),i.pingedLanes|=i.suspendedLanes&u,It===i&&(Ot&u)===u&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>Ge()-vf?ns(i,0):_f|=u),sn(i,o)}function Am(i,o){o===0&&(i.mode&1?(o=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):o=1);var u=Yt();i=Pr(i,o),i!==null&&(Gr(i,o,u),sn(i,u))}function uE(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Am(i,u)}function cE(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Am(i,u)}var bm;bm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||en.current)nn=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return nn=!1,Xw(i,o,u);nn=!!(i.flags&131072)}else nn=!1,tt&&o.flags&1048576&&lg(o,hu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;ku(i,o),i=o.pendingProps;var g=no(o,Ft.current);lo(o,u),g=Gh(null,o,d,i,g,u);var _=Yh();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tn(d)?(_=!0,lu(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Uh(o),g.updater=Tu,o.stateNode=g,g._reactInternals=o,nf(o,d,i,u),o=af(null,o,d,!0,_,u)):(o.tag=0,tt&&_&&Dh(o),Gt(null,o,g,u),o=o.child),o;case 16:d=o.elementType;e:{switch(ku(i,o),i=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=fE(d),i=Hn(d,i),g){case 0:o=of(null,o,d,i,u);break e;case 1:o=tm(null,o,d,i,u);break e;case 11:o=Yg(null,o,d,i,u);break e;case 14:o=Xg(null,o,d,Hn(d.type,i),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Hn(d,g),of(i,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Hn(d,g),tm(i,o,d,g,u);case 3:e:{if(nm(o),i===null)throw Error(t(387));d=o.pendingProps,_=o.memoizedState,g=_.element,yg(i,o),yu(o,d,null,u);var x=o.memoizedState;if(d=x.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=co(Error(t(423)),o),o=rm(i,o,d,u,g);break e}else if(d!==g){g=co(Error(t(424)),o),o=rm(i,o,d,u,g);break e}else for(mn=ni(o.stateNode.containerInfo.firstChild),gn=o,tt=!0,$n=null,u=gg(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(so(),d===g){o=Mr(i,o,u);break e}Gt(i,o,d,u)}o=o.child}return o;case 5:return wg(o),i===null&&Oh(o),d=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,x=g.children,kh(d,g)?x=null:_!==null&&kh(d,_)&&(o.flags|=32),em(i,o),Gt(i,o,x,u),o.child;case 6:return i===null&&Oh(o),null;case 13:return im(i,o,u);case 4:return $h(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=oo(o,null,d,u):Gt(i,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Hn(d,g),Yg(i,o,d,g,u);case 7:return Gt(i,o,o.pendingProps,u),o.child;case 8:return Gt(i,o,o.pendingProps.children,u),o.child;case 12:return Gt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,_=o.memoizedProps,x=g.value,Ye(pu,d._currentValue),d._currentValue=x,_!==null)if(Un(_.value,x)){if(_.children===g.children&&!en.current){o=Mr(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var P=_.dependencies;if(P!==null){x=_.child;for(var O=P.firstContext;O!==null;){if(O.context===d){if(_.tag===1){O=Dr(-1,u&-u),O.tag=2;var H=_.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?O.next=O:(O.next=Z.next,Z.next=O),H.pending=O}}_.lanes|=u,O=_.alternate,O!==null&&(O.lanes|=u),Bh(_.return,u,o),P.lanes|=u;break}O=O.next}}else if(_.tag===10)x=_.type===o.type?null:_.child;else if(_.tag===18){if(x=_.return,x===null)throw Error(t(341));x.lanes|=u,P=x.alternate,P!==null&&(P.lanes|=u),Bh(x,u,o),x=_.sibling}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===o){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}Gt(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,lo(o,u),g=Tn(g),d=d(g),o.flags|=1,Gt(i,o,d,u),o.child;case 14:return d=o.type,g=Hn(d,o.pendingProps),g=Hn(d.type,g),Xg(i,o,d,g,u);case 15:return Jg(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:Hn(d,g),ku(i,o),o.tag=1,tn(d)?(i=!0,lu(o)):i=!1,lo(o,u),$g(o,d,g),nf(o,d,g,u),af(null,o,d,!0,i,u);case 19:return om(i,o,u);case 22:return Zg(i,o,u)}throw Error(t(156,o.tag))};function Rm(i,o){return Os(i,o)}function hE(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,o,u,d){return new hE(i,o,u,d)}function If(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fE(i){if(typeof i=="function")return If(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===Ae)return 14}return 2}function di(i,o){var u=i.alternate;return u===null?(u=In(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Vu(i,o,u,d,g,_){var x=2;if(d=i,typeof i=="function")If(i)&&(x=1);else if(typeof i=="string")x=5;else e:switch(i){case R:return is(u.children,g,_,o);case C:x=8,g|=8;break;case A:return i=In(12,u,o,g|2),i.elementType=A,i.lanes=_,i;case D:return i=In(13,u,o,g),i.elementType=D,i.lanes=_,i;case Be:return i=In(19,u,o,g),i.elementType=Be,i.lanes=_,i;case ke:return Fu(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:x=10;break e;case L:x=9;break e;case V:x=11;break e;case Ae:x=14;break e;case Pe:x=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=In(x,u,o,g),o.elementType=i,o.type=d,o.lanes=_,o}function is(i,o,u,d){return i=In(7,i,d,o),i.lanes=u,i}function Fu(i,o,u,d){return i=In(22,i,d,o),i.elementType=ke,i.lanes=u,i.stateNode={isHidden:!1},i}function Af(i,o,u){return i=In(6,i,null,o),i.lanes=u,i}function bf(i,o,u){return o=In(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dE(i,o,u,d,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Rf(i,o,u,d,g,_,x,P,O){return i=new dE(i,o,u,P,O),o===1?(o=1,_===!0&&(o|=8)):o=0,_=In(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(_),i}function pE(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function Pm(i){if(!i)return ii;i=i._reactInternals;e:{if(On(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(tn(u))return sg(i,u,o)}return o}function Dm(i,o,u,d,g,_,x,P,O){return i=Rf(u,d,!0,i,g,_,x,P,O),i.context=Pm(null),u=i.current,d=Yt(),g=hi(u),_=Dr(d,g),_.callback=o??null,ai(u,_,g),i.current.lanes=g,Gr(i,g,d),sn(i,d),i}function zu(i,o,u,d){var g=o.current,_=Yt(),x=hi(g);return u=Pm(u),o.context===null?o.context=u:o.pendingContext=u,o=Dr(_,x),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=ai(g,o,x),i!==null&&(Kn(i,g,x,_),mu(i,g,x)),x}function Bu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Mm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Pf(i,o){Mm(i,o),(i=i.alternate)&&Mm(i,o)}var Lm=typeof reportError=="function"?reportError:function(i){console.error(i)};function Df(i){this._internalRoot=i}ju.prototype.render=Df.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));zu(i,o,null,null)},ju.prototype.unmount=Df.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ts(function(){zu(null,i,null,null)}),o[Ir]=null}};function ju(i){this._internalRoot=i}ju.prototype.unstable_scheduleHydration=function(i){if(i){var o=jl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Jn.length&&o!==0&&o<Jn[u].priority;u++);Jn.splice(u,0,i),u===0&&Hl(i)}};function Mf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Uu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Om(){}function gE(i,o,u,d,g){if(g){if(typeof d=="function"){var _=d;d=function(){var H=Bu(x);_.call(H)}}var x=Dm(o,d,i,0,null,!1,!1,"",Om);return i._reactRootContainer=x,i[Ir]=x.current,va(i.nodeType===8?i.parentNode:i),ts(),x}for(;g=i.lastChild;)i.removeChild(g);if(typeof d=="function"){var P=d;d=function(){var H=Bu(O);P.call(H)}}var O=Rf(i,0,!1,null,null,!1,!1,"",Om);return i._reactRootContainer=O,i[Ir]=O.current,va(i.nodeType===8?i.parentNode:i),ts(function(){zu(o,O,u,d)}),O}function $u(i,o,u,d,g){var _=u._reactRootContainer;if(_){var x=_;if(typeof g=="function"){var P=g;g=function(){var O=Bu(x);P.call(O)}}zu(o,x,i,g)}else x=gE(u,o,i,g,d);return Bu(x)}zl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Kr(o.pendingLanes);u!==0&&(Yr(o,u|1),sn(o,Ge()),!(Fe&6)&&(po=Ge()+500,si()))}break;case 13:ts(function(){var d=Pr(i,1);if(d!==null){var g=Yt();Kn(d,i,1,g)}}),Pf(i,1)}},Fs=function(i){if(i.tag===13){var o=Pr(i,134217728);if(o!==null){var u=Yt();Kn(o,i,134217728,u)}Pf(i,134217728)}},Bl=function(i){if(i.tag===13){var o=hi(i),u=Pr(i,o);if(u!==null){var d=Yt();Kn(u,i,o,d)}Pf(i,o)}},jl=function(){return Re},Ul=function(i,o){var u=Re;try{return Re=i,o()}finally{Re=u}},bs=function(i,o,u){switch(o){case"input":if(Ho(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var g=ou(d);if(!g)throw Error(t(90));Ss(d),Ho(d,g)}}}break;case"textarea":Is(i,u);break;case"select":o=u.value,o!=null&&vr(i,!!u.multiple,o,!1)}},Oi=Tf,ea=ts;var mE={usingClientEntryPoint:!1,Events:[xa,eo,ou,Yn,Zo,Tf]},Na={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yE={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ra(i),i===null?null:i.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Bi=Hu.inject(yE),hn=Hu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE,on.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(o))throw Error(t(200));return pE(i,o,null,u)},on.createRoot=function(i,o){if(!Mf(i))throw Error(t(299));var u=!1,d="",g=Lm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Rf(i,1,!1,null,null,u,!1,d,g),i[Ir]=o.current,va(i.nodeType===8?i.parentNode:i),new Df(o)},on.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ra(o),i=i===null?null:i.stateNode,i},on.flushSync=function(i){return ts(i)},on.hydrate=function(i,o,u){if(!Uu(o))throw Error(t(200));return $u(null,i,o,!0,u)},on.hydrateRoot=function(i,o,u){if(!Mf(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,g=!1,_="",x=Lm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),o=Dm(o,null,i,1,u??null,g,!1,_,x),i[Ir]=o.current,va(i),d)for(i=0;i<d.length;i++)u=d[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ju(o)},on.render=function(i,o,u){if(!Uu(o))throw Error(t(200));return $u(null,i,o,!1,u)},on.unmountComponentAtNode=function(i){if(!Uu(i))throw Error(t(40));return i._reactRootContainer?(ts(function(){$u(null,null,i,!1,function(){i._reactRootContainer=null,i[Ir]=null})}),!0):!1},on.unstable_batchedUpdates=Tf,on.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Uu(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return $u(i,o,u,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var $m;function AE(){if($m)return Nf.exports;$m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nf.exports=IE(),Nf.exports}var Hm;function bE(){if(Hm)return Wu;Hm=1;var n=AE();return Wu.createRoot=n.createRoot,Wu.hydrateRoot=n.hydrateRoot,Wu}var RE=bE(),Fa={},Wm;function PE(){if(Wm)return Fa;Wm=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.parse=l,Fa.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const k=new a,b=E.length;if(b<2)return k;const I=(S==null?void 0:S.decode)||m;let N=0;do{const U=E.indexOf("=",N);if(U===-1)break;const q=E.indexOf(";",N),Y=q===-1?b:q;if(U>Y){N=E.lastIndexOf(";",U-1)+1;continue}const G=c(E,N,U),ee=f(E,U,G),R=E.slice(G,ee);if(k[R]===void 0){let C=c(E,U+1,Y),A=f(E,Y,C);const M=I(E.slice(C,A));k[R]=M}N=Y+1}while(N<b);return k}function c(E,S,k){do{const b=E.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<k);return k}function f(E,S,k){for(;S>k;){const b=E.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return k}function p(E,S,k){const b=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=b(S);if(!e.test(I))throw new TypeError(`argument val is invalid: ${S}`);let N=E+"="+I;if(!k)return N;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);N+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);N+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);N+="; Path="+k.path}if(k.expires){if(!v(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);N+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(N+="; HttpOnly"),k.secure&&(N+="; Secure"),k.partitioned&&(N+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return N}function m(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return Fa}PE();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function DE(n={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return sd("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ul(s)}return LE(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ME(){return Math.random().toString(36).substring(2,10)}function Km(n,e){return{usr:n.state,key:n.key,idx:e}}function sd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:t,key:e&&e.key||r||ME()}}function ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Oo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function LE(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let I=m(),N=I==null?null:I-p;p=I,f&&f({action:c,location:b.location,delta:N})}function E(I,N){c="PUSH";let U=sd(b.location,I,N);p=m()+1;let q=Km(U,p),Y=b.createHref(U);try{l.pushState(q,"",Y)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(Y)}a&&f&&f({action:c,location:b.location,delta:1})}function S(I,N){c="REPLACE";let U=sd(b.location,I,N);p=m();let q=Km(U,p),Y=b.createHref(U);l.replaceState(q,"",Y),a&&f&&f({action:c,location:b.location,delta:0})}function k(I){let N=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof I=="string"?I:ul(I);return U=U.replace(/ $/,"%20"),it(N,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,N)}let b={get action(){return c},get location(){return n(s,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(qm,v),f=I,()=>{s.removeEventListener(qm,v),f=null}},createHref(I){return e(s,I)},createURL:k,encodeLocation(I){let N=k(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:S,go(I){return l.go(I)}};return b}function ov(n,e,t="/"){return OE(n,e,t,!1)}function OE(n,e,t,r){let s=typeof e=="string"?Oo(e):e,a=Ti(s.pathname||"/",t);if(a==null)return null;let l=av(n);NE(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=KE(a);c=WE(l[f],p,r)}return c}function av(n,e=[],t=[],r=""){let s=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=zr([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),av(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:$E(p,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let f of lv(a.path))s(a,l,f)}),e}function lv(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=lv(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function NE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VE=/^:[\w-]+$/,FE=3,zE=2,BE=1,jE=10,UE=-2,Qm=n=>n==="*";function $E(n,e){let t=n.split("/"),r=t.length;return t.some(Qm)&&(r+=UE),e&&(r+=zE),t.filter(s=>!Qm(s)).reduce((s,a)=>s+(VE.test(a)?FE:a===""?BE:jE),r)}function HE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function WE(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:zr([a,v.pathname]),pathnameBase:XE(zr([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=zr([a,v.pathnameBase]))}return l}function Tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=qE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},E)=>{if(m==="*"){let k=c[E]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const S=c[E];return v&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function qE(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ti(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QE(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Oo(n):n;return{pathname:t?t.startsWith("/")?t:GE(t,e):e,search:JE(r),hash:ZE(s)}}function GE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function zf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uv(n){let e=YE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cv(n,e,t,r=!1){let s;typeof n=="string"?s=Oo(n):(s={...n},it(!s.pathname||!s.pathname.includes("?"),zf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),zf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),zf("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}c=v>=0?e[v]:"/"}let f=QE(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),XE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ex(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hv=["POST","PUT","PATCH","DELETE"];new Set(hv);var tx=["GET",...hv];new Set(tx);var No=K.createContext(null);No.displayName="DataRouter";var $c=K.createContext(null);$c.displayName="DataRouterState";var fv=K.createContext({isTransitioning:!1});fv.displayName="ViewTransition";var nx=K.createContext(new Map);nx.displayName="Fetchers";var rx=K.createContext(null);rx.displayName="Await";var mr=K.createContext(null);mr.displayName="Navigation";var El=K.createContext(null);El.displayName="Location";var $r=K.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Ud=K.createContext(null);Ud.displayName="RouteError";function ix(n,{relative:e}={}){it(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(mr),{hash:s,pathname:a,search:l}=Sl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:zr([t,a])),r.createHref({pathname:c,search:l,hash:s})}function xl(){return K.useContext(El)!=null}function ws(){return it(xl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(El).location}var dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pv(n){K.useContext(mr).static||K.useLayoutEffect(n)}function $d(){let{isDataRoute:n}=K.useContext($r);return n?yx():sx()}function sx(){it(xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(No),{basename:e,navigator:t}=K.useContext(mr),{matches:r}=K.useContext($r),{pathname:s}=ws(),a=JSON.stringify(uv(r)),l=K.useRef(!1);return pv(()=>{l.current=!0}),K.useCallback((f,p={})=>{if(dr(l.current,dv),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=cv(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:zr([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,s,n])}K.createContext(null);function Sl(n,{relative:e}={}){let{matches:t}=K.useContext($r),{pathname:r}=ws(),s=JSON.stringify(uv(t));return K.useMemo(()=>cv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function ox(n,e){return gv(n,e)}function gv(n,e,t,r){var N;it(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=K.useContext(mr),{matches:a}=K.useContext($r),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let U=m&&m.path||"";mv(f,!m||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=ws(),E;if(e){let U=typeof e=="string"?Oo(e):e;it(p==="/"||((N=U.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=v;let S=E.pathname||"/",k=S;if(p!=="/"){let U=p.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let b=ov(n,{pathname:k});dr(m||b!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),dr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=hx(b&&b.map(U=>Object.assign({},U,{params:Object.assign({},c,U.params),pathname:zr([p,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:zr([p,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),a,t,r);return e&&I?K.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},I):I}function ax(){let n=mx(),e=ex(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:s},t):null,l)}var lx=K.createElement(ax,null),ux=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement($r.Provider,{value:this.props.routeContext},K.createElement(Ud.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cx({routeContext:n,match:e,children:t}){let r=K.useContext(No);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement($r.Provider,{value:n},t)}function hx(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:v}=t,E=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let v,E=!1,S=null,k=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||lx,l&&(c<0&&m===0?(mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):c===m&&(E=!0,k=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,m+1)),I=()=>{let N;return v?N=S:E?N=k:p.route.Component?N=K.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,K.createElement(cx,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?K.createElement(ux,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:I(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):I()},null)}function Hd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fx(n){let e=K.useContext(No);return it(e,Hd(n)),e}function dx(n){let e=K.useContext($c);return it(e,Hd(n)),e}function px(n){let e=K.useContext($r);return it(e,Hd(n)),e}function Wd(n){let e=px(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gx(){return Wd("useRouteId")}function mx(){var r;let n=K.useContext(Ud),e=dx("useRouteError"),t=Wd("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function yx(){let{router:n}=fx("useNavigate"),e=Wd("useNavigate"),t=K.useRef(!1);return pv(()=>{t.current=!0}),K.useCallback(async(s,a={})=>{dr(t.current,dv),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Gm={};function mv(n,e,t){!e&&!Gm[n]&&(Gm[n]=!0,dr(!1,t))}K.memo(_x);function _x({routes:n,future:e,state:t}){return gv(n,void 0,t,e)}function ls(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vx({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){it(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=Oo(t));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:E="default"}=t,S=K.useMemo(()=>{let k=Ti(f,l);return k==null?null:{location:{pathname:k,search:p,hash:m,state:v,key:E},navigationType:r}},[l,f,p,m,v,E,r]);return dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(mr.Provider,{value:c},K.createElement(El.Provider,{children:e,value:S}))}function wx({children:n,location:e}){return ox(od(n),e)}function od(n,e=[]){let t=[];return K.Children.forEach(n,(r,s)=>{if(!K.isValidElement(r))return;let a=[...e,s];if(r.type===K.Fragment){t.push.apply(t,od(r.props.children,a));return}it(r.type===ls,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=od(r.props.children,a)),t.push(l)}),t}var dc="get",pc="application/x-www-form-urlencoded";function Hc(n){return n!=null&&typeof n.tagName=="string"}function Ex(n){return Hc(n)&&n.tagName.toLowerCase()==="button"}function xx(n){return Hc(n)&&n.tagName.toLowerCase()==="form"}function Sx(n){return Hc(n)&&n.tagName.toLowerCase()==="input"}function Tx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Cx(n,e){return n.button===0&&(!e||e==="_self")&&!Tx(n)}var qu=null;function kx(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var Ix=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(n){return n!=null&&!Ix.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):n}function Ax(n,e){let t,r,s,a,l;if(xx(n)){let c=n.getAttribute("action");r=c?Ti(c,e):null,t=n.getAttribute("method")||dc,s=Bf(n.getAttribute("enctype"))||pc,a=new FormData(n)}else if(Ex(n)||Sx(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ti(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||dc,s=Bf(n.getAttribute("formenctype"))||Bf(c.getAttribute("enctype"))||pc,a=new FormData(c,n),!kx()){let{name:p,type:m,value:v}=n;if(m==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(Hc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dc,r=null,s=pc,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}function qd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function bx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Px(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await bx(a,t);return l.links?l.links():[]}return[]}));return Ox(r.flat(1).filter(Rx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ym(n,e,t,r,s,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var m;return t[p].pathname!==f.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var v;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Dx(n,e){return Mx(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Mx(n){return[...new Set(n)]}function Lx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Ox(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(Lx(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function Nx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Vx(){let n=K.useContext(No);return qd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Fx(){let n=K.useContext($c);return qd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kd=K.createContext(void 0);Kd.displayName="FrameworkContext";function yv(){let n=K.useContext(Kd);return qd(n,"You must render this element inside a <HydratedRouter> element"),n}function zx(n,e){let t=K.useContext(Kd),[r,s]=K.useState(!1),[a,l]=K.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,E=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=N=>{N.forEach(U=>{l(U.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),K.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{s(!0)},k=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:za(c,S),onBlur:za(f,k),onMouseEnter:za(p,S),onMouseLeave:za(m,k),onTouchStart:za(v,S)}]:[!1,E,{}]}function za(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Bx({page:n,...e}){let{router:t}=Vx(),r=K.useMemo(()=>ov(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(Ux,{page:n,matches:r,...e}):null}function jx(n){let{manifest:e,routeModules:t}=yv(),[r,s]=K.useState([]);return K.useEffect(()=>{let a=!1;return Px(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function Ux({page:n,matches:e,...t}){let r=ws(),{manifest:s,routeModules:a}=yv(),{loaderData:l,matches:c}=Fx(),f=K.useMemo(()=>Ym(n,e,c,s,r,"data"),[n,e,c,s,r]),p=K.useMemo(()=>Ym(n,e,c,s,r,"assets"),[n,e,c,s,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(I=>{var U;let N=s.routes[I.route.id];!N||!N.hasLoader||(!f.some(q=>q.route.id===I.route.id)&&I.route.id in l&&((U=a[I.route.id])!=null&&U.shouldRevalidate)||N.hasClientLoader?k=!0:S.add(I.route.id))}),S.size===0)return[];let b=Nx(n);return k&&S.size>0&&b.searchParams.set("_routes",e.filter(I=>S.has(I.route.id)).map(I=>I.route.id).join(",")),[b.pathname+b.search]},[l,r,s,f,e,n,a]),v=K.useMemo(()=>Dx(p,s),[p,s]),E=jx(p);return K.createElement(K.Fragment,null,m.map(S=>K.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>K.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:k})=>K.createElement("link",{key:S,...k})))}function $x(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_v&&(window.__reactRouterVersion="7.1.3")}catch{}function Hx({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=DE({window:t,v5Compat:!0}));let s=r.current,[a,l]=K.useState({action:s.action,location:s.location}),c=K.useCallback(f=>{K.startTransition(()=>l(f))},[l]);return K.useLayoutEffect(()=>s.listen(c),[s,c]),K.createElement(vx,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wc=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:v,...E},S){let{basename:k}=K.useContext(mr),b=typeof p=="string"&&vv.test(p),I,N=!1;if(typeof p=="string"&&b&&(I=p,_v))try{let A=new URL(window.location.href),M=p.startsWith("//")?new URL(A.protocol+p):new URL(p),L=Ti(M.pathname,k);M.origin===A.origin&&L!=null?p=L+M.search+M.hash:N=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ix(p,{relative:s}),[q,Y,G]=zx(r,E),ee=Qx(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:v});function R(A){e&&e(A),A.defaultPrevented||ee(A)}let C=K.createElement("a",{...E,...G,href:I||U,onClick:N||a?e:R,ref:$x(S,Y),target:f,"data-discover":!b&&t==="render"?"true":void 0});return q&&!b?K.createElement(K.Fragment,null,C,K.createElement(Bx,{page:U})):C});Wc.displayName="Link";var Wx=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...p},m){let v=Sl(l,{relative:p.relative}),E=ws(),S=K.useContext($c),{navigator:k,basename:b}=K.useContext(mr),I=S!=null&&Zx(v)&&c===!0,N=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,U=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),q=q?q.toLowerCase():null,N=N.toLowerCase()),q&&b&&(q=Ti(q,b)||q);const Y=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let G=U===N||!s&&U.startsWith(N)&&U.charAt(Y)==="/",ee=q!=null&&(q===N||!s&&q.startsWith(N)&&q.charAt(N.length)==="/"),R={isActive:G,isPending:ee,isTransitioning:I},C=G?e:void 0,A;typeof r=="function"?A=r(R):A=[r,G?"active":null,ee?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(R):a;return K.createElement(Wc,{...p,"aria-current":C,className:A,ref:m,style:M,to:l,viewTransition:c},typeof f=="function"?f(R):f)});Wx.displayName="NavLink";var qx=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=dc,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,...E},S)=>{let k=Xx(),b=Jx(c,{relative:p}),I=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&vv.test(c),U=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,G=(Y==null?void 0:Y.getAttribute("formmethod"))||l;k(Y||q.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return K.createElement("form",{ref:S,method:I,action:b,onSubmit:r?f:U,...E,"data-discover":!N&&n==="render"?"true":void 0})});qx.displayName="Form";function Kx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(n){let e=K.useContext(No);return it(e,Kx(n)),e}function Qx(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=$d(),f=ws(),p=Sl(n,{relative:a});return K.useCallback(m=>{if(Cx(m,e)){m.preventDefault();let v=t!==void 0?t:ul(f)===ul(p);c(n,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,t,r,e,n,s,a,l])}var Gx=0,Yx=()=>`__${String(++Gx)}__`;function Xx(){let{router:n}=wv("useSubmit"),{basename:e}=K.useContext(mr),t=gx();return K.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=Ax(r,e);if(s.navigate===!1){let m=s.fetcherKey||Yx();await n.fetch(m,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Jx(n,{relative:e}={}){let{basename:t}=K.useContext(mr),r=K.useContext($r);it(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Sl(n||".",{relative:e})},l=ws();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:zr([t,a.pathname])),ul(a)}function Zx(n,e={}){let t=K.useContext(fv);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wv("useViewTransitionState"),s=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ti(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ti(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tc(s.pathname,l)!=null||Tc(s.pathname,a)!=null}new TextEncoder;function eS(){const[n,e]=K.useState(""),[t,r]=K.useState("");function s(m){e(m),f(m)}const a=/\d/,l=/^(?=.*[!@#$%^&*(),.?":{}|<>]).+$/,c=/[A-Z]/,f=m=>{const v=document.getElementById("numeric"),E=document.getElementById("special"),S=document.getElementById("uppercase");a.test(m)?v!==null&&(v.style.color="green"):v!==null&&(v.style.color="crimson"),l.test(m)?E!==null&&(E.style.color="green"):E!==null&&(E.style.color="crimson"),c.test(m)?S!==null&&(S.style.color="green"):S!=null&&(S.style.color="crimson"),console.log(m)},p=()=>{const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),E=l.test(n),S=c.test(n),k=a.test(n);return v||alert("invalid email"),E&&S&&k||alert("Invalid password"),E&&S&&k&&v};return ce.jsxs("form",{className:"login-holder",children:[ce.jsx("h1",{children:"Create Account"}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{className:"text",children:"Email"}),ce.jsx("input",{type:"email",onChange:m=>r(m.target.value),className:"form-control",placeholder:"Enter email"})]}),ce.jsx("div",{className:"spacer"}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{className:"text",children:"Password"}),ce.jsx("input",{type:"password",onChange:m=>s(m.target.value),className:"form-control",placeholder:"Enter password"}),ce.jsx("div",{style:{display:"flex",flexDirection:"column"},children:ce.jsxs("ul",{className:"password-requirements",children:[ce.jsx("li",{id:"uppercase",children:"1 Uppercase Character"}),ce.jsx("li",{id:"special",children:"1 Special Character"}),ce.jsx("li",{id:"numeric",children:"1 Numeric Character"})]})})]}),ce.jsx("div",{className:"spacer"}),ce.jsxs("div",{style:{width:300},className:"button-cluster",children:[ce.jsx(Wc,{to:"/honors-reading-tracker/login",children:ce.jsx("button",{type:"button",className:"btn btn-primary btn-sm",children:"Already have an account?"})}),ce.jsx("button",{type:"button",onClick:()=>p(),className:"btn btn-primary btn-sm",children:"Create Account"})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tl(n){return n+.5|0}const yi=(n,e,t)=>Math.max(Math.min(n,t),e);function Wa(n){return yi(Tl(n*2.55),0,255)}function wi(n){return yi(Tl(n*255),0,255)}function Fr(n){return yi(Tl(n/2.55)/100,0,1)}function Xm(n){return yi(Tl(n*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ad=[..."0123456789ABCDEF"],tS=n=>ad[n&15],nS=n=>ad[(n&240)>>4]+ad[n&15],Ku=n=>(n&240)>>4===(n&15),rS=n=>Ku(n.r)&&Ku(n.g)&&Ku(n.b)&&Ku(n.a);function iS(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&An[n[1]]*17,g:255&An[n[2]]*17,b:255&An[n[3]]*17,a:e===5?An[n[4]]*17:255}:(e===7||e===9)&&(t={r:An[n[1]]<<4|An[n[2]],g:An[n[3]]<<4|An[n[4]],b:An[n[5]]<<4|An[n[6]],a:e===9?An[n[7]]<<4|An[n[8]]:255})),t}const sS=(n,e)=>n<255?e(n):"";function oS(n){var e=rS(n)?tS:nS;return n?"#"+e(n.r)+e(n.g)+e(n.b)+sS(n.a,e):void 0}const aS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ev(n,e,t){const r=e*Math.min(t,1-t),s=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function lS(n,e,t){const r=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function uS(n,e,t){const r=Ev(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)r[s]*=1-e-t,r[s]+=e;return r}function cS(n,e,t,r,s){return n===s?(e-t)/r+(e<t?6:0):e===s?(t-n)/r+2:(n-e)/r+4}function Qd(n){const t=n.r/255,r=n.g/255,s=n.b/255,a=Math.max(t,r,s),l=Math.min(t,r,s),c=(a+l)/2;let f,p,m;return a!==l&&(m=a-l,p=c>.5?m/(2-a-l):m/(a+l),f=cS(t,r,s,m,a),f=f*60+.5),[f|0,p||0,c]}function Gd(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(wi)}function Yd(n,e,t){return Gd(Ev,n,e,t)}function hS(n,e,t){return Gd(uS,n,e,t)}function fS(n,e,t){return Gd(lS,n,e,t)}function xv(n){return(n%360+360)%360}function dS(n){const e=aS.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Wa(+e[5]):wi(+e[5]));const s=xv(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=hS(s,a,l):e[1]==="hsv"?r=fS(s,a,l):r=Yd(s,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function pS(n,e){var t=Qd(n);t[0]=xv(t[0]+e),t=Yd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gS(n){if(!n)return;const e=Qd(n),t=e[0],r=Xm(e[1]),s=Xm(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${s}%, ${Fr(n.a)})`:`hsl(${t}, ${r}%, ${s}%)`}const Jm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mS(){const n={},e=Object.keys(Zm),t=Object.keys(Jm);let r,s,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],s=0;s<t.length;s++)a=t[s],c=c.replace(a,Jm[a]);a=parseInt(Zm[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Qu;function yS(n){Qu||(Qu=mS(),Qu.transparent=[0,0,0,0]);const e=Qu[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _S=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vS(n){const e=_S.exec(n);let t=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Wa(l):yi(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?Wa(r):yi(r,0,255)),s=255&(e[4]?Wa(s):yi(s,0,255)),a=255&(e[6]?Wa(a):yi(a,0,255)),{r,g:s,b:a,a:t}}}function wS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Fr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,mo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ES(n,e,t){const r=mo(Fr(n.r)),s=mo(Fr(n.g)),a=mo(Fr(n.b));return{r:wi(jf(r+t*(mo(Fr(e.r))-r))),g:wi(jf(s+t*(mo(Fr(e.g))-s))),b:wi(jf(a+t*(mo(Fr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Gu(n,e,t){if(n){let r=Qd(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Yd(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Sv(n,e){return n&&Object.assign(e||{},n)}function ey(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=wi(n[3]))):(e=Sv(n,{r:0,g:0,b:0,a:1}),e.a=wi(e.a)),e}function xS(n){return n.charAt(0)==="r"?vS(n):dS(n)}class cl{constructor(e){if(e instanceof cl)return e;const t=typeof e;let r;t==="object"?r=ey(e):t==="string"&&(r=iS(e)||yS(e)||xS(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Sv(this._rgb);return e&&(e.a=Fr(e.a)),e}set rgb(e){this._rgb=ey(e)}rgbString(){return this._valid?wS(this._rgb):void 0}hexString(){return this._valid?oS(this._rgb):void 0}hslString(){return this._valid?gS(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,f=r.a-s.a,p=((c*f===-1?c:(c+f)/(1+c*f))+1)/2;a=1-p,r.r=255&p*r.r+a*s.r+.5,r.g=255&p*r.g+a*s.g+.5,r.b=255&p*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=ES(this._rgb,e._rgb,t)),this}clone(){return new cl(this.rgb)}alpha(e){return this._rgb.a=wi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Tl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gu(this._rgb,2,e),this}darken(e){return Gu(this._rgb,2,-e),this}saturate(e){return Gu(this._rgb,1,e),this}desaturate(e){return Gu(this._rgb,1,-e),this}rotate(e){return pS(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Or(){}const SS=(()=>{let n=0;return()=>n++})();function lt(n){return n==null}function Rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function or(n,e){return Pn(n)?n:e}function Ne(n,e){return typeof n>"u"?e:n}const TS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ze(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qe(n,e,t,r){let s,a,l;if(Rt(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(He(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)e.call(t,n[l[s]],l[s])}function Cc(n,e){let t,r,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function kc(n){if(Rt(n))return n.map(kc);if(He(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let s=0;for(;s<r;++s)e[t[s]]=kc(n[t[s]]);return e}return n}function Tv(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function CS(n,e,t,r){if(!Tv(n))return;const s=e[n],a=t[n];He(s)&&He(a)?hl(s,a,r):e[n]=kc(a)}function hl(n,e,t){const r=Rt(e)?e:[e],s=r.length;if(!He(n))return n;t=t||{};const a=t.merger||CS;let l;for(let c=0;c<s;++c){if(l=r[c],!He(l))continue;const f=Object.keys(l);for(let p=0,m=f.length;p<m;++p)a(f[p],n,l,t)}return n}function Za(n,e){return hl(n,e,{merger:kS})}function kS(n,e,t){if(!Tv(n))return;const r=e[n],s=t[n];He(r)&&He(s)?Za(r,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=kc(s))}const ty={"":n=>n,x:n=>n.x,y:n=>n.y};function IS(n){const e=n.split("."),t=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function AS(n){const e=IS(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Ic(n,e){return(ty[e]||(ty[e]=AS(e)))(n)}function Xd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ac=n=>typeof n<"u",Ci=n=>typeof n=="function",ny=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function bS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pt=Math.PI,hr=2*Pt,RS=hr+Pt,bc=Number.POSITIVE_INFINITY,PS=Pt/180,Qn=Pt/2,ss=Pt/4,ry=Pt*2/3,ld=Math.log10,ko=Math.sign;function el(n,e,t){return Math.abs(n-e)<t}function iy(n){const e=Math.round(n);n=el(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ld(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function DS(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function fl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function MS(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function LS(n,e,t){let r,s,a;for(r=0,s=n.length;r<s;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function fs(n){return n*(Pt/180)}function OS(n){return n*(180/Pt)}function sy(n){if(!Pn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function NS(n,e){const t=e.x-n.x,r=e.y-n.y,s=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*Pt&&(a+=hr),{angle:a,distance:s}}function ud(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function VS(n,e){return(n-e+RS)%hr-Pt}function mi(n){return(n%hr+hr)%hr}function Cv(n,e,t,r){const s=mi(n),a=mi(e),l=mi(t),c=mi(a-s),f=mi(l-s),p=mi(s-a),m=mi(s-l);return s===a||s===l||r&&a===l||c>f&&p<m}function bn(n,e,t){return Math.max(e,Math.min(t,n))}function FS(n){return bn(n,-32768,32767)}function qa(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Jd(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,t(a)?s=a:r=a;return{lo:s,hi:r}}const ds=(n,e,t,r)=>Jd(n,t,r?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),zS=(n,e,t)=>Jd(n,t,r=>n[r][e]>=t);function BS(n,e,t){let r=0,s=n.length;for(;r<s&&n[r]<e;)r++;for(;s>r&&n[s-1]>t;)s--;return r>0||s<n.length?n.slice(r,s):n}const kv=["push","pop","shift","splice","unshift"];function jS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kv.forEach(t=>{const r="_onData"+Xd(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function oy(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(kv.forEach(a=>{delete n[a]}),delete n._chartjs)}function US(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Iv=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Av(n,e){let t=[],r=!1;return function(...s){t=s,r||(r=!0,Iv.call(window,()=>{r=!1,n.apply(e,t)}))}}function $S(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Zd=n=>n==="start"?"left":n==="end"?"right":"center",$t=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,HS=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function WS(n,e,t){const r=e.length;let s=0,a=r;if(n._sorted){const{iScale:l,_parsed:c}=n,f=l.axis,{min:p,max:m,minDefined:v,maxDefined:E}=l.getUserBounds();v&&(s=bn(Math.min(ds(c,f,p).lo,t?r:ds(e,f,l.getPixelForValue(p)).lo),0,r-1)),E?a=bn(Math.max(ds(c,l.axis,m,!0).hi+1,t?0:ds(e,f,l.getPixelForValue(m),!0).hi+1),s,r)-s:a=r-s}return{start:s,count:a}}function qS(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,s),a}const Yu=n=>n===0||n===1,ay=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*hr/t)),ly=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*hr/t)+1,tl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qn)+1,easeOutSine:n=>Math.sin(n*Qn),easeInOutSine:n=>-.5*(Math.cos(Pt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yu(n)?n:ay(n,.075,.3),easeOutElastic:n=>Yu(n)?n:ly(n,.075,.3),easeInOutElastic(n){return Yu(n)?n:n<.5?.5*ay(n*2,.1125,.45):.5+.5*ly(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-tl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?tl.easeInBounce(n*2)*.5:tl.easeOutBounce(n*2-1)*.5+.5};function ep(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function uy(n){return ep(n)?n:new cl(n)}function Uf(n){return ep(n)?n:new cl(n).saturate(.5).darken(.1).hexString()}const KS=["x","y","borderWidth","radius","tension"],QS=["color","borderColor","backgroundColor"];function GS(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:QS},numbers:{type:"number",properties:KS}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function YS(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cy=new Map;function XS(n,e){e=e||{};const t=n+JSON.stringify(e);let r=cy.get(t);return r||(r=new Intl.NumberFormat(n,e),cy.set(t,r)),r}function bv(n,e,t){return XS(e,t).format(n)}const Rv={values(n){return Rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let s,a=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(s="scientific"),a=JS(n,t)}const l=ld(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),bv(n,r,f)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(ld(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Rv.numeric.call(this,n,e,t):""}};function JS(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Pv={formatters:Rv};function ZS(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _s=Object.create(null),cd=Object.create(null);function nl(n,e){if(!e)return n;const t=e.split(".");for(let r=0,s=t.length;r<s;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function $f(n,e,t){return typeof e=="string"?hl(nl(n,e),t):hl(nl(n,""),e)}class eT{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Uf(s.backgroundColor),this.hoverBorderColor=(r,s)=>Uf(s.borderColor),this.hoverColor=(r,s)=>Uf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return $f(this,e,t)}get(e){return nl(this,e)}describe(e,t){return $f(cd,e,t)}override(e,t){return $f(_s,e,t)}route(e,t,r,s){const a=nl(this,e),l=nl(this,r),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[c],p=l[s];return He(f)?Object.assign({},p,f):Ne(f,p)},set(f){this[c]=f}}})}apply(e){e.forEach(t=>t(this))}}var ft=new eT({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GS,YS,ZS]);function tT(n){return!n||lt(n.size)||lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hy(n,e,t,r,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>r&&(r=a),r}function os(n,e,t){const r=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*r)/r+s}function fy(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function hd(n,e,t,r){Dv(n,e,t,r,null)}function Dv(n,e,t,r,s){let a,l,c,f,p,m,v,E;const S=e.pointStyle,k=e.rotation,b=e.radius;let I=(k||0)*PS;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(I),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),S){default:s?n.ellipse(t,r,s/2,b,0,0,hr):n.arc(t,r,b,0,hr),n.closePath();break;case"triangle":m=s?s/2:b,n.moveTo(t+Math.sin(I)*m,r-Math.cos(I)*b),I+=ry,n.lineTo(t+Math.sin(I)*m,r-Math.cos(I)*b),I+=ry,n.lineTo(t+Math.sin(I)*m,r-Math.cos(I)*b),n.closePath();break;case"rectRounded":p=b*.516,f=b-p,l=Math.cos(I+ss)*f,v=Math.cos(I+ss)*(s?s/2-p:f),c=Math.sin(I+ss)*f,E=Math.sin(I+ss)*(s?s/2-p:f),n.arc(t-v,r-c,p,I-Pt,I-Qn),n.arc(t+E,r-l,p,I-Qn,I),n.arc(t+v,r+c,p,I,I+Qn),n.arc(t-E,r+l,p,I+Qn,I+Pt),n.closePath();break;case"rect":if(!k){f=Math.SQRT1_2*b,m=s?s/2:f,n.rect(t-m,r-f,2*m,2*f);break}I+=ss;case"rectRot":v=Math.cos(I)*(s?s/2:b),l=Math.cos(I)*b,c=Math.sin(I)*b,E=Math.sin(I)*(s?s/2:b),n.moveTo(t-v,r-c),n.lineTo(t+E,r-l),n.lineTo(t+v,r+c),n.lineTo(t-E,r+l),n.closePath();break;case"crossRot":I+=ss;case"cross":v=Math.cos(I)*(s?s/2:b),l=Math.cos(I)*b,c=Math.sin(I)*b,E=Math.sin(I)*(s?s/2:b),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"star":v=Math.cos(I)*(s?s/2:b),l=Math.cos(I)*b,c=Math.sin(I)*b,E=Math.sin(I)*(s?s/2:b),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l),I+=ss,v=Math.cos(I)*(s?s/2:b),l=Math.cos(I)*b,c=Math.sin(I)*b,E=Math.sin(I)*(s?s/2:b),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"line":l=s?s/2:Math.cos(I)*b,c=Math.sin(I)*b,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(I)*(s?s/2:b),r+Math.sin(I)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function dl(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function tp(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function np(n){n.restore()}function nT(n,e,t,r,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else s==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function rT(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function iT(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),lt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function sT(n,e,t,r,s){if(s.strikethrough||s.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,f=t-a.actualBoundingBoxAscent,p=t+a.actualBoundingBoxDescent,m=s.strikethrough?(f+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function oT(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function pl(n,e,t,r,s,a={}){const l=Rt(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let f,p;for(n.save(),n.font=s.string,iT(n,a),f=0;f<l.length;++f)p=l[f],a.backdrop&&oT(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),lt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(p,t,r,a.maxWidth)),n.fillText(p,t,r,a.maxWidth),sT(n,t,r,p,a),r+=Number(s.lineHeight);n.restore()}function fd(n,e){const{x:t,y:r,w:s,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Pt,Pt,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Pt,Qn,!0),n.lineTo(t+s-l.bottomRight,r+a),n.arc(t+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Qn,0,!0),n.lineTo(t+s,r+l.topRight),n.arc(t+s-l.topRight,r+l.topRight,l.topRight,0,-Qn,!0),n.lineTo(t+l.topLeft,r)}const aT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uT(n,e){const t=(""+n).match(aT);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const cT=n=>+n||0;function Mv(n,e){const t={},r=He(e),s=r?Object.keys(e):e,a=He(n)?r?l=>Ne(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=cT(a(l));return t}function hT(n){return Mv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rl(n){return Mv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Dn(n){const e=hT(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qt(n,e){n=n||{},e=e||ft.font;let t=Ne(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ne(n.style,e.style);r&&!(""+r).match(lT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ne(n.family,e.family),lineHeight:uT(Ne(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ne(n.weight,e.weight),string:""};return s.string=tT(s),s}function Xu(n,e,t,r){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function fT(n,e,t){const{min:r,max:s}=n,a=TS(e,(s-r)/2),l=(c,f)=>t&&c===0?0:c+f;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function Es(n,e){return Object.assign(Object.create(n),e)}function rp(n,e=[""],t,r,s=()=>n[0]){const a=t||n;typeof r>"u"&&(r=Vv("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:s,override:c=>rp([c,...n],e,a,r)};return new Proxy(l,{deleteProperty(c,f){return delete c[f],delete c._keys,delete n[0][f],!0},get(c,f){return Ov(c,f,()=>wT(f,e,n,c))},getOwnPropertyDescriptor(c,f){return Reflect.getOwnPropertyDescriptor(c._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,f){return py(c).includes(f)},ownKeys(c){return py(c)},set(c,f,p){const m=c._storage||(c._storage=s());return c[f]=m[f]=p,delete c._keys,!0}})}function Io(n,e,t,r){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Lv(n,r),setContext:a=>Io(n,a,t,r),override:a=>Io(n.override(a),e,t,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return Ov(a,l,()=>pT(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function Lv(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:r,isScriptable:Ci(t)?t:()=>t,isIndexable:Ci(r)?r:()=>r}}const dT=(n,e)=>n?n+Xd(e):e,ip=(n,e)=>He(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ov(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function pT(n,e,t){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;let c=r[e];return Ci(c)&&l.isScriptable(e)&&(c=gT(e,c,n,t)),Rt(c)&&c.length&&(c=mT(e,c,n,l.isIndexable)),ip(e,c)&&(c=Io(c,s,a&&a[e],l)),c}function gT(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let f=e(a,l||r);return c.delete(n),ip(n,f)&&(f=sp(s._scopes,s,n,f)),f}function mT(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(He(e[0])){const f=e,p=s._scopes.filter(m=>m!==f);e=[];for(const m of f){const v=sp(p,s,n,m);e.push(Io(v,a,l&&l[n],c))}}return e}function Nv(n,e,t){return Ci(n)?n(e,t):n}const yT=(n,e)=>n===!0?e:typeof n=="string"?Ic(e,n):void 0;function _T(n,e,t,r,s){for(const a of e){const l=yT(t,a);if(l){n.add(l);const c=Nv(l._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function sp(n,e,t,r){const s=e._rootScopes,a=Nv(e._fallback,t,r),l=[...n,...s],c=new Set;c.add(r);let f=dy(c,l,t,a||t,r);return f===null||typeof a<"u"&&a!==t&&(f=dy(c,l,a,f,r),f===null)?!1:rp(Array.from(c),[""],s,a,()=>vT(e,t,r))}function dy(n,e,t,r,s){for(;t;)t=_T(n,e,t,r,s);return t}function vT(n,e,t){const r=n._getTarget();e in r||(r[e]={});const s=r[e];return Rt(s)&&He(t)?t:s||{}}function wT(n,e,t,r){let s;for(const a of e)if(s=Vv(dT(a,n),t),typeof s<"u")return ip(n,s)?sp(t,r,n,s):s}function Vv(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function py(n){let e=n._keys;return e||(e=n._keys=ET(n._scopes)),e}function ET(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const xT=Number.EPSILON||1e-14,Ao=(n,e)=>e<n.length&&!n[e].skip&&n[e],Fv=n=>n==="x"?"y":"x";function ST(n,e,t,r){const s=n.skip?e:n,a=e,l=t.skip?e:t,c=ud(a,s),f=ud(l,a);let p=c/(c+f),m=f/(c+f);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=r*p,E=r*m;return{previous:{x:a.x-v*(l.x-s.x),y:a.y-v*(l.y-s.y)},next:{x:a.x+E*(l.x-s.x),y:a.y+E*(l.y-s.y)}}}function TT(n,e,t){const r=n.length;let s,a,l,c,f,p=Ao(n,0);for(let m=0;m<r-1;++m)if(f=p,p=Ao(n,m+1),!(!f||!p)){if(el(e[m],0,xT)){t[m]=t[m+1]=0;continue}s=t[m]/e[m],a=t[m+1]/e[m],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),t[m]=s*l*e[m],t[m+1]=a*l*e[m])}}function CT(n,e,t="x"){const r=Fv(t),s=n.length;let a,l,c,f=Ao(n,0);for(let p=0;p<s;++p){if(l=c,c=f,f=Ao(n,p+1),!c)continue;const m=c[t],v=c[r];l&&(a=(m-l[t])/3,c[`cp1${t}`]=m-a,c[`cp1${r}`]=v-a*e[p]),f&&(a=(f[t]-m)/3,c[`cp2${t}`]=m+a,c[`cp2${r}`]=v+a*e[p])}}function kT(n,e="x"){const t=Fv(e),r=n.length,s=Array(r).fill(0),a=Array(r);let l,c,f,p=Ao(n,0);for(l=0;l<r;++l)if(c=f,f=p,p=Ao(n,l+1),!!f){if(p){const m=p[e]-f[e];s[l]=m!==0?(p[t]-f[t])/m:0}a[l]=c?p?ko(s[l-1])!==ko(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}TT(n,s,a),CT(n,a,e)}function Ju(n,e,t){return Math.max(Math.min(n,t),e)}function IT(n,e){let t,r,s,a,l,c=dl(n[0],e);for(t=0,r=n.length;t<r;++t)l=a,a=c,c=t<r-1&&dl(n[t+1],e),a&&(s=n[t],l&&(s.cp1x=Ju(s.cp1x,e.left,e.right),s.cp1y=Ju(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Ju(s.cp2x,e.left,e.right),s.cp2y=Ju(s.cp2y,e.top,e.bottom)))}function AT(n,e,t,r,s){let a,l,c,f;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")kT(n,s);else{let p=r?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],f=ST(p,c,n[Math.min(a+1,l-(r?0:1))%l],e.tension),c.cp1x=f.previous.x,c.cp1y=f.previous.y,c.cp2x=f.next.x,c.cp2y=f.next.y,p=c}e.capBezierPoints&&IT(n,t)}function op(){return typeof window<"u"&&typeof document<"u"}function ap(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Rc(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const qc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function bT(n,e){return qc(n).getPropertyValue(e)}const RT=["top","right","bottom","left"];function gs(n,e,t){const r={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=RT[s];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const PT=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function DT(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=r;let l=!1,c,f;if(PT(s,a,n.target))c=s,f=a;else{const p=e.getBoundingClientRect();c=r.clientX-p.left,f=r.clientY-p.top,l=!0}return{x:c,y:f,box:l}}function us(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,s=qc(t),a=s.boxSizing==="border-box",l=gs(s,"padding"),c=gs(s,"border","width"),{x:f,y:p,box:m}=DT(n,t),v=l.left+(m&&c.left),E=l.top+(m&&c.top);let{width:S,height:k}=e;return a&&(S-=l.width+c.width,k-=l.height+c.height),{x:Math.round((f-v)/S*t.width/r),y:Math.round((p-E)/k*t.height/r)}}function MT(n,e,t){let r,s;if(e===void 0||t===void 0){const a=n&&ap(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=qc(a),f=gs(c,"border","width"),p=gs(c,"padding");e=l.width-p.width-f.width,t=l.height-p.height-f.height,r=Rc(c.maxWidth,a,"clientWidth"),s=Rc(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||bc,maxHeight:s||bc}}const Zu=n=>Math.round(n*10)/10;function LT(n,e,t,r){const s=qc(n),a=gs(s,"margin"),l=Rc(s.maxWidth,n,"clientWidth")||bc,c=Rc(s.maxHeight,n,"clientHeight")||bc,f=MT(n,e,t);let{width:p,height:m}=f;if(s.boxSizing==="content-box"){const E=gs(s,"border","width"),S=gs(s,"padding");p-=S.width+E.width,m-=S.height+E.height}return p=Math.max(0,p-a.width),m=Math.max(0,r?p/r:m-a.height),p=Zu(Math.min(p,l,f.maxWidth)),m=Zu(Math.min(m,c,f.maxHeight)),p&&!m&&(m=Zu(p/2)),(e!==void 0||t!==void 0)&&r&&f.height&&m>f.height&&(m=f.height,p=Zu(Math.floor(m*r))),{width:p,height:m}}function gy(n,e,t){const r=e||1,s=Math.floor(n.height*r),a=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=r,l.height=s,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const OT=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};op()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function my(n,e){const t=bT(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cs(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function NT(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function VT(n,e,t,r){const s={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=cs(n,s,t),c=cs(s,a,t),f=cs(a,e,t),p=cs(l,c,t),m=cs(c,f,t);return cs(p,m,t)}const FT=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},zT=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Eo(n,e,t){return n?FT(e,t):zT()}function zv(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Bv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function jv(n){return n==="angle"?{between:Cv,compare:VS,normalize:mi}:{between:qa,compare:(e,t)=>e-t,normalize:e=>e}}function yy({start:n,end:e,count:t,loop:r,style:s}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:s}}function BT(n,e,t){const{property:r,start:s,end:a}=t,{between:l,normalize:c}=jv(r),f=e.length;let{start:p,end:m,loop:v}=n,E,S;if(v){for(p+=f,m+=f,E=0,S=f;E<S&&l(c(e[p%f][r]),s,a);++E)p--,m--;p%=f,m%=f}return m<p&&(m+=f),{start:p,end:m,loop:v,style:n.style}}function jT(n,e,t){if(!t)return[n];const{property:r,start:s,end:a}=t,l=e.length,{compare:c,between:f,normalize:p}=jv(r),{start:m,end:v,loop:E,style:S}=BT(n,e,t),k=[];let b=!1,I=null,N,U,q;const Y=()=>f(s,q,N)&&c(s,q)!==0,G=()=>c(a,N)===0||f(a,q,N),ee=()=>b||Y(),R=()=>!b||G();for(let C=m,A=m;C<=v;++C)U=e[C%l],!U.skip&&(N=p(U[r]),N!==q&&(b=f(N,s,a),I===null&&ee()&&(I=c(N,s)===0?C:A),I!==null&&R()&&(k.push(yy({start:I,end:C,loop:E,count:l,style:S})),I=null),A=C,q=N));return I!==null&&k.push(yy({start:I,end:v,loop:E,count:l,style:S})),k}function UT(n,e){const t=[],r=n.segments;for(let s=0;s<r.length;s++){const a=jT(r[s],n.points,e);a.length&&t.push(...a)}return t}function $T(n,e,t,r){let s=0,a=e-1;if(t&&!r)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(a+=s);a>s&&n[a%e].skip;)a--;return a%=e,{start:s,end:a}}function HT(n,e,t,r){const s=n.length,a=[];let l=e,c=n[e],f;for(f=e+1;f<=t;++f){const p=n[f%s];p.skip||p.stop?c.skip||(r=!1,a.push({start:e%s,end:(f-1)%s,loop:r}),e=l=p.stop?f:null):(l=f,c.skip&&(e=f)),c=p}return l!==null&&a.push({start:e%s,end:l%s,loop:r}),a}function WT(n,e){const t=n.points,r=n.options.spanGaps,s=t.length;if(!s)return[];const a=!!n._loop,{start:l,end:c}=$T(t,s,a,r);if(r===!0)return _y(n,[{start:l,end:c,loop:a}],t,e);const f=c<l?c+s:c,p=!!n._fullLoop&&l===0&&c===s-1;return _y(n,HT(t,l,f,p),t,e)}function _y(n,e,t,r){return!r||!r.setContext||!t?e:qT(n,e,t,r)}function qT(n,e,t,r){const s=n._chart.getContext(),a=vy(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,f=t.length,p=[];let m=a,v=e[0].start,E=v;function S(k,b,I,N){const U=c?-1:1;if(k!==b){for(k+=f;t[k%f].skip;)k-=U;for(;t[b%f].skip;)b+=U;k%f!==b%f&&(p.push({start:k%f,end:b%f,loop:I,style:N}),m=N,v=b%f)}}for(const k of e){v=c?v:k.start;let b=t[v%f],I;for(E=v+1;E<=k.end;E++){const N=t[E%f];I=vy(r.setContext(Es(s,{type:"segment",p0:b,p1:N,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:l}))),KT(I,m)&&S(v,E-1,k.loop,m),b=N,m=I}v<E-1&&S(v,E-1,k.loop,m)}return p}function vy(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function KT(n,e){if(!e)return!1;const t=[],r=function(s,a){return ep(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class QT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const a=t.listeners[s],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Iv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nr=new QT;const wy="transparent",GT={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=uy(n||wy),s=r.valid&&uy(e||wy);return s&&s.valid?s.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class YT{constructor(e,t,r,s){const a=t[r];s=Xu([e.to,s,a,e.from]);const l=Xu([e.from,a,s]);this._active=!0,this._fn=e.fn||GT[e.type||typeof l],this._easing=tl[e.easing]||tl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Xu([e.to,t,s,e.from]),this._from=Xu([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let f;if(this._active=a!==c&&(l||t<r),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=a;return}f=t/r%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,c,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class Uv{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!He(e))return;const t=Object.keys(ft.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!He(a))return;const l={};for(const c of t)l[c]=a[c];(Rt(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,s=JT(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&XT(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let f;for(f=l.length-1;f>=0;--f){const p=l[f];if(p.charAt(0)==="$")continue;if(p==="options"){s.push(...this._animateOptions(e,t));continue}const m=t[p];let v=a[p];const E=r.get(p);if(v)if(E&&v.active()){v.update(E,m,c);continue}else v.cancel();if(!E||!E.duration){e[p]=m;continue}a[p]=v=new YT(E,e,p,m),s.push(v)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Nr.add(this._chart,r),!0}}function XT(n,e){const t=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=n[r[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function JT(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ey(n,e){const t=n&&n.options||{},r=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function ZT(n,e,t){if(t===!1)return!1;const r=Ey(n,t),s=Ey(e,t);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function e1(n){let e,t,r,s;return He(n)?(e=n.top,t=n.right,r=n.bottom,s=n.left):e=t=r=s=n,{top:e,right:t,bottom:r,left:s,disabled:n===!1}}function $v(n,e){const t=[],r=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)t.push(r[s].index);return t}function xy(n,e,t,r={}){const s=n.keys,a=r.mode==="single";let l,c,f,p;if(e===null)return;let m=!1;for(l=0,c=s.length;l<c;++l){if(f=+s[l],f===t){if(m=!0,r.all)continue;break}p=n.values[f],Pn(p)&&(a||e===0||ko(e)===ko(p))&&(e+=p)}return!m&&!r.all?0:e}function t1(n,e){const{iScale:t,vScale:r}=e,s=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let f,p,m;for(f=0,p=l.length;f<p;++f)m=l[f],c[f]={[s]:m,[a]:n[m]};return c}function Hf(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function n1(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function r1(n){const{min:e,max:t,minDefined:r,maxDefined:s}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function i1(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Sy(n,e,t,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function Ty(n,e){const{chart:t,_cachedMeta:r}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=r,f=a.axis,p=l.axis,m=n1(a,l,r),v=e.length;let E;for(let S=0;S<v;++S){const k=e[S],{[f]:b,[p]:I}=k,N=k._stacks||(k._stacks={});E=N[p]=i1(s,m,b),E[c]=I,E._top=Sy(E,l,!0,r.type),E._bottom=Sy(E,l,!1,r.type);const U=E._visualValues||(E._visualValues={});U[c]=I}}function Wf(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function s1(n,e){return Es(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function o1(n,e,t){return Es(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ba(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const qf=n=>n==="reset"||n==="none",Cy=(n,e)=>e?n:Object.assign({},n),a1=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:$v(t,!0),values:null};class il{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ba(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(v,E,S,k)=>v==="x"?E:v==="r"?k:S,a=t.xAxisID=Ne(r.xAxisID,Wf(e,"x")),l=t.yAxisID=Ne(r.yAxisID,Wf(e,"y")),c=t.rAxisID=Ne(r.rAxisID,Wf(e,"r")),f=t.indexAxis,p=t.iAxisID=s(f,a,l,c),m=t.vAxisID=s(f,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&oy(this._data,this),e._stacked&&Ba(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(He(t)){const s=this._cachedMeta;this._data=t1(t,s)}else if(r!==t){if(r){oy(r,this);const s=this._cachedMeta;Ba(s),s._parsed=[]}t&&Object.isExtensible(t)&&jS(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=Hf(t.vScale,t),t.stack!==r.stack&&(s=!0,Ba(t),t.stack=r.stack),this._resyncElements(e),(s||a!==t._stacked)&&(Ty(this,t._parsed),t._stacked=Hf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,c=a.axis;let f=e===0&&t===s.length?!0:r._sorted,p=e>0&&r._parsed[e-1],m,v,E;if(this._parsing===!1)r._parsed=s,r._sorted=!0,E=s;else{Rt(s[e])?E=this.parseArrayData(r,s,e,t):He(s[e])?E=this.parseObjectData(r,s,e,t):E=this.parsePrimitiveData(r,s,e,t);const S=()=>v[c]===null||p&&v[c]<p[c];for(m=0;m<t;++m)r._parsed[m+e]=v=E[m],f&&(S()&&(f=!1),p=v);r._sorted=f}l&&Ty(this,E)}parsePrimitiveData(e,t,r,s){const{iScale:a,vScale:l}=e,c=a.axis,f=l.axis,p=a.getLabels(),m=a===l,v=new Array(s);let E,S,k;for(E=0,S=s;E<S;++E)k=E+r,v[E]={[c]:m||a.parse(p[k],k),[f]:l.parse(t[k],k)};return v}parseArrayData(e,t,r,s){const{xScale:a,yScale:l}=e,c=new Array(s);let f,p,m,v;for(f=0,p=s;f<p;++f)m=f+r,v=t[m],c[f]={x:a.parse(v[0],m),y:l.parse(v[1],m)};return c}parseObjectData(e,t,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,p=new Array(s);let m,v,E,S;for(m=0,v=s;m<v;++m)E=m+r,S=t[E],p[m]={x:a.parse(Ic(S,c),E),y:l.parse(Ic(S,f),E)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:$v(s,!0),values:t._stacks[e.axis]._visualValues};return xy(c,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const a=r[t.axis];let l=a===null?NaN:a;const c=s&&r._stacks[t.axis];s&&c&&(s.values=c,l=xy(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,c=this._getOtherScale(e),f=a1(t,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=r1(c);let E,S;function k(){S=s[E];const b=S[c.axis];return!Pn(S[e.axis])||m>b||v<b}for(E=0;E<l&&!(!k()&&(this.updateRangeFromParsed(p,e,S,f),a));++E);if(a){for(E=l-1;E>=0;--E)if(!k()){this.updateRangeFromParsed(p,e,S,f);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=t.length;s<a;++s)l=t[s][e.axis],Pn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=e1(Ne(this.options.clip,ZT(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],a=t.chartArea,l=[],c=this._drawStart||0,f=this._drawCount||s.length-c,p=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,a,c,f),m=c;m<c+f;++m){const v=s[m];v.hidden||(v.active&&p?l.push(v):v.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=o1(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=s1(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const s=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],f=this.enableOptionSharing&&Ac(r);if(c)return Cy(c,f);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=s?[`${e}Hover`,"hover",e,""]:[e,""],E=p.getOptionScopes(this.getDataset(),m),S=Object.keys(ft.elements[e]),k=()=>this.getContext(r,s,t),b=p.resolveNamedOptions(E,S,k,v);return b.$shared&&(b.$shared=f,a[l]=Object.freeze(Cy(b,f))),b}_resolveAnimations(e,t,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let f;if(s.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,t),E=m.getOptionScopes(this.getDataset(),v);f=m.createResolver(E,this.getContext(e,r,t))}const p=new Uv(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||qf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,s){qf(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!qf(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,f,p]of this._syncList)this[c](f,p);this._syncList=[];const s=r.length,a=t.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,r=!0){const s=this._cachedMeta,a=s.data,l=e+t;let c;const f=p=>{for(p.length+=t,c=p.length-1;c>=l;c--)p[c]=p[c-t]};for(f(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&Ba(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(il,"defaults",{}),Ie(il,"datasetElementType",null),Ie(il,"dataElementType",null);class gc extends il{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:c,count:f}=WS(t,s,l);this._drawStart=c,this._drawCount=f,qS(t)&&(c=0,f=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:p},e),this.updateElements(s,c,f,e)}updateElements(e,t,r,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:f,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,s),E=l.axis,S=c.axis,{spanGaps:k,segment:b}=this.options,I=fl(k)?k:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||a||s==="none",U=t+r,q=e.length;let Y=t>0&&this.getParsed(t-1);for(let G=0;G<q;++G){const ee=e[G],R=N?ee:{};if(G<t||G>=U){R.skip=!0;continue}const C=this.getParsed(G),A=lt(C[S]),M=R[E]=l.getPixelForValue(C[E],G),L=R[S]=a||A?c.getBasePixel():c.getPixelForValue(f?this.applyStack(c,C,f):C[S],G);R.skip=isNaN(M)||isNaN(L)||A,R.stop=G>0&&Math.abs(C[E]-Y[E])>I,b&&(R.parsed=C,R.raw=p.data[G]),v&&(R.options=m||this.resolveDataElementOptions(G,ee.active?"active":s)),N||this.updateElement(ee,G,R,s),Y=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ie(gc,"id","line"),Ie(gc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ie(gc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lp{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(lp.prototype,e)}init(){}formats(){return as()}parse(){return as()}format(){return as()}add(){return as()}diff(){return as()}startOf(){return as()}endOf(){return as()}}var l1={_date:lp};function u1(n,e,t,r){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?zS:ds;if(r){if(s._sharedOptions){const p=a[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const v=f(a,e,t-m),E=f(a,e,t+m);return{lo:v.lo,hi:E.hi}}}}else return f(a,e,t)}return{lo:0,hi:a.length-1}}function Cl(n,e,t,r,s){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,f=a.length;c<f;++c){const{index:p,data:m}=a[c],{lo:v,hi:E}=u1(a[c],e,l,s);for(let S=v;S<=E;++S){const k=m[S];k.skip||r(k,p,S)}}}function c1(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=t?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Kf(n,e,t,r,s){const a=[];return!s&&!n.isPointInArea(e)||Cl(n,t,e,function(c,f,p){!s&&!dl(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:f,index:p})},!0),a}function h1(n,e,t,r){let s=[];function a(l,c,f){const{startAngle:p,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:v}=NS(l,{x:e.x,y:e.y});Cv(v,p,m)&&s.push({element:l,datasetIndex:c,index:f})}return Cl(n,t,e,a),s}function f1(n,e,t,r,s,a){let l=[];const c=c1(t);let f=Number.POSITIVE_INFINITY;function p(m,v,E){const S=m.inRange(e.x,e.y,s);if(r&&!S)return;const k=m.getCenterPoint(s);if(!(!!a||n.isPointInArea(k))&&!S)return;const I=c(e,k);I<f?(l=[{element:m,datasetIndex:v,index:E}],f=I):I===f&&l.push({element:m,datasetIndex:v,index:E})}return Cl(n,t,e,p),l}function Qf(n,e,t,r,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?h1(n,e,t,s):f1(n,e,t,r,s,a)}function ky(n,e,t,r,s){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Cl(n,t,e,(f,p,m)=>{f[l]&&f[l](e[t],s)&&(a.push({element:f,datasetIndex:p,index:m}),c=c||f.inRange(e.x,e.y,s))}),r&&!c?[]:a}var d1={evaluateInteractionItems:Cl,modes:{index(n,e,t,r){const s=us(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Kf(n,s,a,r,l):Qf(n,s,a,!1,r,l),f=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=c[0].index,v=p.data[m];v&&!v.skip&&f.push({element:v,datasetIndex:p.index,index:m})}),f):[]},dataset(n,e,t,r){const s=us(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Kf(n,s,a,r,l):Qf(n,s,a,!1,r,l);if(c.length>0){const f=c[0].datasetIndex,p=n.getDatasetMeta(f).data;c=[];for(let m=0;m<p.length;++m)c.push({element:p[m],datasetIndex:f,index:m})}return c},point(n,e,t,r){const s=us(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Kf(n,s,a,r,l)},nearest(n,e,t,r){const s=us(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Qf(n,s,a,t.intersect,r,l)},x(n,e,t,r){const s=us(e,n);return ky(n,s,"x",t.intersect,r)},y(n,e,t,r){const s=us(e,n);return ky(n,s,"y",t.intersect,r)}}};const Hv=["left","top","right","bottom"];function ja(n,e){return n.filter(t=>t.pos===e)}function Iy(n,e){return n.filter(t=>Hv.indexOf(t.pos)===-1&&t.box.axis===e)}function Ua(n,e){return n.sort((t,r)=>{const s=e?r:t,a=e?t:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function p1(n){const e=[];let t,r,s,a,l,c;for(t=0,r=(n||[]).length;t<r;++t)s=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function g1(n){const e={};for(const t of n){const{stack:r,pos:s,stackWeight:a}=t;if(!r||!Hv.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function m1(n,e){const t=g1(n),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:f}=c.box,p=t[c.stack],m=p&&c.stackWeight/p.weight;c.horizontal?(c.width=m?m*r:f&&e.availableWidth,c.height=s):(c.width=r,c.height=m?m*s:f&&e.availableHeight)}return t}function y1(n){const e=p1(n),t=Ua(e.filter(p=>p.box.fullSize),!0),r=Ua(ja(e,"left"),!0),s=Ua(ja(e,"right")),a=Ua(ja(e,"top"),!0),l=Ua(ja(e,"bottom")),c=Iy(e,"x"),f=Iy(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:s.concat(f).concat(l).concat(c),chartArea:ja(e,"chartArea"),vertical:r.concat(s).concat(f),horizontal:a.concat(l).concat(c)}}function Ay(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Wv(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function _1(n,e,t,r){const{pos:s,box:a}=t,l=n.maxPadding;if(!He(s)){t.size&&(n[s]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[s]+=t.size}a.getPadding&&Wv(l,a.getPadding());const c=Math.max(0,e.outerWidth-Ay(l,n,"left","right")),f=Math.max(0,e.outerHeight-Ay(l,n,"top","bottom")),p=c!==n.w,m=f!==n.h;return n.w=c,n.h=f,t.horizontal?{same:p,other:m}:{same:m,other:p}}function v1(n){const e=n.maxPadding;function t(r){const s=Math.max(e[r]-n[r],0);return n[r]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function w1(n,e){const t=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function Ka(n,e,t,r){const s=[];let a,l,c,f,p,m;for(a=0,l=n.length,p=0;a<l;++a){c=n[a],f=c.box,f.update(c.width||e.w,c.height||e.h,w1(c.horizontal,e));const{same:v,other:E}=_1(e,t,c,r);p|=v&&s.length,m=m||E,f.fullSize||s.push(c)}return p&&Ka(s,e,t,r)||m}function ec(n,e,t,r,s){n.top=t,n.left=e,n.right=e+r,n.bottom=t+s,n.width=r,n.height=s}function by(n,e,t,r){const s=t.padding;let{x:a,y:l}=e;for(const c of n){const f=c.box,p=r[c.stack]||{count:1,placed:0,weight:1},m=c.stackWeight/p.weight||1;if(c.horizontal){const v=e.w*m,E=p.size||f.height;Ac(p.start)&&(l=p.start),f.fullSize?ec(f,s.left,l,t.outerWidth-s.right-s.left,E):ec(f,e.left+p.placed,l,v,E),p.start=l,p.placed+=v,l=f.bottom}else{const v=e.h*m,E=p.size||f.width;Ac(p.start)&&(a=p.start),f.fullSize?ec(f,a,s.top,E,t.outerHeight-s.bottom-s.top):ec(f,a,e.top+p.placed,E,v),p.start=a,p.placed+=v,a=f.right}}e.x=a,e.y=l}var Rn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const s=Dn(n.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(t-s.height,0),c=y1(n.boxes),f=c.vertical,p=c.horizontal;qe(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const m=f.reduce((b,I)=>I.box.options&&I.box.options.display===!1?b:b+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),E=Object.assign({},s);Wv(E,Dn(r));const S=Object.assign({maxPadding:E,w:a,h:l,x:s.left,y:s.top},s),k=m1(f.concat(p),v);Ka(c.fullSize,S,v,k),Ka(f,S,v,k),Ka(p,S,v,k)&&Ka(f,S,v,k),v1(S),by(c.leftAndTop,S,v,k),S.x+=S.w,S.y+=S.h,by(c.rightAndBottom,S,v,k),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},qe(c.chartArea,b=>{const I=b.box;Object.assign(I,n.chartArea),I.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class qv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class E1 extends qv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mc="$chartjs",x1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ry=n=>n===null||n==="";function S1(n,e){const t=n.style,r=n.getAttribute("height"),s=n.getAttribute("width");if(n[mc]={initial:{height:r,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Ry(s)){const a=my(n,"width");a!==void 0&&(n.width=a)}if(Ry(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=my(n,"height");a!==void 0&&(n.height=a)}return n}const Kv=OT?{passive:!0}:!1;function T1(n,e,t){n&&n.addEventListener(e,t,Kv)}function C1(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Kv)}function k1(n,e){const t=x1[n.type]||n.type,{x:r,y:s}=us(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Pc(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function I1(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Pc(c.addedNodes,r),l=l&&!Pc(c.removedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function A1(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Pc(c.removedNodes,r),l=l&&!Pc(c.addedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const gl=new Map;let Py=0;function Qv(){const n=window.devicePixelRatio;n!==Py&&(Py=n,gl.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function b1(n,e){gl.size||window.addEventListener("resize",Qv),gl.set(n,e)}function R1(n){gl.delete(n),gl.size||window.removeEventListener("resize",Qv)}function P1(n,e,t){const r=n.canvas,s=r&&ap(r);if(!s)return;const a=Av((c,f)=>{const p=s.clientWidth;t(c,f),p<s.clientWidth&&t()},window),l=new ResizeObserver(c=>{const f=c[0],p=f.contentRect.width,m=f.contentRect.height;p===0&&m===0||a(p,m)});return l.observe(s),b1(n,a),l}function Gf(n,e,t){t&&t.disconnect(),e==="resize"&&R1(n)}function D1(n,e,t){const r=n.canvas,s=Av(a=>{n.ctx!==null&&t(k1(a,n))},n);return T1(r,e,s),s}class M1 extends qv{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(S1(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[mc])return!1;const r=t[mc].initial;["height","width"].forEach(a=>{const l=r[a];lt(l)?t.removeAttribute(a):t.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[mc],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:I1,detach:A1,resize:P1}[t]||D1;s[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:Gf,detach:Gf,resize:Gf}[t]||C1)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return LT(e,t,r,s)}isAttached(e){const t=e&&ap(e);return!!(t&&t.isConnected)}}function L1(n){return!op()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?E1:M1}class Br{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return fl(this.x)&&fl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}Ie(Br,"defaults",{}),Ie(Br,"defaultRoutes");function O1(n,e){const t=n.options.ticks,r=N1(n),s=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?F1(e):[],l=a.length,c=a[0],f=a[l-1],p=[];if(l>s)return z1(e,p,a,l/s),p;const m=V1(a,e,s);if(l>0){let v,E;const S=l>1?Math.round((f-c)/(l-1)):null;for(tc(e,p,m,lt(S)?0:c-S,c),v=0,E=l-1;v<E;v++)tc(e,p,m,a[v],a[v+1]);return tc(e,p,m,f,lt(S)?e.length:f+S),p}return tc(e,p,m),p}function N1(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(r,s))}function V1(n,e,t){const r=B1(n),s=e.length/t;if(!r)return Math.max(s,1);const a=DS(r);for(let l=0,c=a.length-1;l<c;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function F1(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function z1(n,e,t,r){let s=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),s++,a=t[s*r])}function tc(n,e,t,r,s){const a=Ne(r,0),l=Math.min(Ne(s,n.length),n.length);let c=0,f,p,m;for(t=Math.ceil(t),s&&(f=s-r,t=f/Math.floor(f/t)),m=a;m<0;)c++,m=Math.round(a+c*t);for(p=Math.max(a,0);p<l;p++)p===m&&(e.push(n[p]),c++,m=Math.round(a+c*t))}function B1(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const j1=n=>n==="left"?"right":n==="right"?"left":n,Dy=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,My=(n,e)=>Math.min(e||n,n);function Ly(n,e){const t=[],r=n.length/e,s=n.length;let a=0;for(;a<s;a+=r)t.push(n[Math.floor(a)]);return t}function U1(n,e,t){const r=n.ticks.length,s=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,c=1e-6;let f=n.getPixelForTick(s),p;if(!(t&&(r===1?p=Math.max(f-a,l-f):e===0?p=(n.getPixelForTick(1)-f)/2:p=(f-n.getPixelForTick(s-1))/2,f+=s<e?p:-p,f<a-c||f>l+c)))return f}function $1(n,e){qe(n,t=>{const r=t.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[r[a]];r.splice(0,s)}})}function $a(n){return n.drawTicks?n.tickLength:0}function Oy(n,e){if(!n.display)return 0;const t=qt(n.font,e),r=Dn(n.padding);return(Rt(n.text)?n.text.length:1)*t.lineHeight+r.height}function H1(n,e){return Es(n,{scale:e,type:"scale"})}function W1(n,e,t){return Es(n,{tick:t,index:e,type:"tick"})}function q1(n,e,t){let r=Zd(n);return(t&&e!=="right"||!t&&e==="right")&&(r=j1(r)),r}function K1(n,e,t,r){const{top:s,left:a,bottom:l,right:c,chart:f}=n,{chartArea:p,scales:m}=f;let v=0,E,S,k;const b=l-s,I=c-a;if(n.isHorizontal()){if(S=$t(r,a,c),He(t)){const N=Object.keys(t)[0],U=t[N];k=m[N].getPixelForValue(U)+b-e}else t==="center"?k=(p.bottom+p.top)/2+b-e:k=Dy(n,t,e);E=c-a}else{if(He(t)){const N=Object.keys(t)[0],U=t[N];S=m[N].getPixelForValue(U)-I+e}else t==="center"?S=(p.left+p.right)/2-I+e:S=Dy(n,t,e);k=$t(r,l,s),v=t==="left"?-Qn:Qn}return{titleX:S,titleY:k,maxWidth:E,rotation:v}}class Vo extends Br{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=or(e,Number.POSITIVE_INFINITY),t=or(t,Number.NEGATIVE_INFINITY),r=or(r,Number.POSITIVE_INFINITY),s=or(s,Number.NEGATIVE_INFINITY),{min:or(e,r),max:or(t,s),minDefined:Pn(e),maxDefined:Pn(t)}}getMinMax(e){let{min:t,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let f=0,p=c.length;f<p;++f)l=c[f].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=s&&t>r?t:r,{min:or(t,or(r,t)),max:or(r,or(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ze(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fT(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=c<this.ticks.length;this._convertTicksToLabels(f?Ly(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=O1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ze(this.options.afterUpdate,[this])}beforeSetDimensions(){Ze(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ze(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ze(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ze(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=Ze(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Ze(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ze(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=My(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let l=s,c,f,p;if(!this._isVisible()||!t.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),v=m.widest.width,E=m.highest.height,S=bn(this.chart.width-v,0,this.maxWidth);c=e.offset?this.maxWidth/r:S/(r-1),v+6>c&&(c=S/(r-(e.offset?.5:1)),f=this.maxHeight-$a(e.grid)-t.padding-Oy(e.title,this.chart.options.font),p=Math.sqrt(v*v+E*E),l=OS(Math.min(Math.asin(bn((m.highest.height+6)/c,-1,1)),Math.asin(bn(f/p,-1,1))-Math.asin(bn(E/p,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ze(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ze(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const f=Oy(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=$a(a)+f):(e.height=this.maxHeight,e.width=$a(a)+f),r.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:E}=this._getLabelSizes(),S=r.padding*2,k=fs(this.labelRotation),b=Math.cos(k),I=Math.sin(k);if(c){const N=r.mirror?0:I*v.width+b*E.height;e.height=Math.min(this.maxHeight,e.height+N+S)}else{const N=r.mirror?0:b*v.width+I*E.height;e.width=Math.min(this.maxWidth,e.width+N+S)}this._calculatePadding(p,m,I,b)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:a,padding:l},position:c}=this.options,f=this.labelRotation!==0,p=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?p?(E=s*e.width,S=r*t.height):(E=r*e.height,S=s*t.width):a==="start"?S=t.width:a==="end"?E=e.width:a!=="inner"&&(E=e.width/2,S=t.width/2),this.paddingLeft=Math.max((E-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-v+l)*this.width/(this.width-v),0)}else{let m=t.height/2,v=e.height/2;a==="start"?(m=0,v=e.height):a==="end"&&(m=t.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ze(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)lt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Ly(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],f=Math.floor(t/My(t,r));let p=0,m=0,v,E,S,k,b,I,N,U,q,Y,G;for(v=0;v<t;v+=f){if(k=e[v].label,b=this._resolveTickFontOptions(v),s.font=I=b.string,N=a[I]=a[I]||{data:{},gc:[]},U=b.lineHeight,q=Y=0,!lt(k)&&!Rt(k))q=hy(s,N.data,N.gc,q,k),Y=U;else if(Rt(k))for(E=0,S=k.length;E<S;++E)G=k[E],!lt(G)&&!Rt(G)&&(q=hy(s,N.data,N.gc,q,G),Y+=U);l.push(q),c.push(Y),p=Math.max(q,p),m=Math.max(Y,m)}$1(a,t);const ee=l.indexOf(p),R=c.indexOf(m),C=A=>({width:l[A]||0,height:c[A]||0});return{first:C(0),last:C(t-1),widest:C(ee),highest:C(R),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return FS(this._alignToPixels?os(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=W1(this.getContext(),e,r))}return this.$context||(this.$context=H1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=fs(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*r>c*s?c/r:f/s:f*s<c*r?f/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:c}=s,f=a.offset,p=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=$a(a),S=[],k=c.setContext(this.getContext()),b=k.display?k.width:0,I=b/2,N=function(Pe){return os(r,Pe,b)};let U,q,Y,G,ee,R,C,A,M,L,V,D;if(l==="top")U=N(this.bottom),R=this.bottom-E,A=U-I,L=N(e.top)+I,D=e.bottom;else if(l==="bottom")U=N(this.top),L=e.top,D=N(e.bottom)-I,R=U+I,A=this.top+E;else if(l==="left")U=N(this.right),ee=this.right-E,C=U-I,M=N(e.left)+I,V=e.right;else if(l==="right")U=N(this.left),M=e.left,V=N(e.right)-I,ee=U+I,C=this.left+E;else if(t==="x"){if(l==="center")U=N((e.top+e.bottom)/2+.5);else if(He(l)){const Pe=Object.keys(l)[0],ke=l[Pe];U=N(this.chart.scales[Pe].getPixelForValue(ke))}L=e.top,D=e.bottom,R=U+I,A=R+E}else if(t==="y"){if(l==="center")U=N((e.left+e.right)/2);else if(He(l)){const Pe=Object.keys(l)[0],ke=l[Pe];U=N(this.chart.scales[Pe].getPixelForValue(ke))}ee=U-I,C=ee-E,M=e.left,V=e.right}const Be=Ne(s.ticks.maxTicksLimit,v),Ae=Math.max(1,Math.ceil(v/Be));for(q=0;q<v;q+=Ae){const Pe=this.getContext(q),ke=a.setContext(Pe),re=c.setContext(Pe),ge=ke.lineWidth,oe=ke.color,z=re.dash||[],Q=re.dashOffset,fe=ke.tickWidth,we=ke.tickColor,xe=ke.tickBorderDash||[],Te=ke.tickBorderDashOffset;Y=U1(this,q,f),Y!==void 0&&(G=os(r,Y,ge),p?ee=C=M=V=G:R=A=L=D=G,S.push({tx1:ee,ty1:R,tx2:C,ty2:A,x1:M,y1:L,x2:V,y2:D,width:ge,color:oe,borderDash:z,borderDashOffset:Q,tickWidth:fe,tickColor:we,tickBorderDash:xe,tickBorderDashOffset:Te}))}return this._ticksLength=v,this._borderValue=U,S}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:f,crossAlign:p,padding:m,mirror:v}=a,E=$a(r.grid),S=E+m,k=v?-m:S,b=-fs(this.labelRotation),I=[];let N,U,q,Y,G,ee,R,C,A,M,L,V,D="middle";if(s==="top")ee=this.bottom-k,R=this._getXAxisLabelAlignment();else if(s==="bottom")ee=this.top+k,R=this._getXAxisLabelAlignment();else if(s==="left"){const Ae=this._getYAxisLabelAlignment(E);R=Ae.textAlign,G=Ae.x}else if(s==="right"){const Ae=this._getYAxisLabelAlignment(E);R=Ae.textAlign,G=Ae.x}else if(t==="x"){if(s==="center")ee=(e.top+e.bottom)/2+S;else if(He(s)){const Ae=Object.keys(s)[0],Pe=s[Ae];ee=this.chart.scales[Ae].getPixelForValue(Pe)+S}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")G=(e.left+e.right)/2-S;else if(He(s)){const Ae=Object.keys(s)[0],Pe=s[Ae];G=this.chart.scales[Ae].getPixelForValue(Pe)}R=this._getYAxisLabelAlignment(E).textAlign}t==="y"&&(f==="start"?D="top":f==="end"&&(D="bottom"));const Be=this._getLabelSizes();for(N=0,U=c.length;N<U;++N){q=c[N],Y=q.label;const Ae=a.setContext(this.getContext(N));C=this.getPixelForTick(N)+a.labelOffset,A=this._resolveTickFontOptions(N),M=A.lineHeight,L=Rt(Y)?Y.length:1;const Pe=L/2,ke=Ae.color,re=Ae.textStrokeColor,ge=Ae.textStrokeWidth;let oe=R;l?(G=C,R==="inner"&&(N===U-1?oe=this.options.reverse?"left":"right":N===0?oe=this.options.reverse?"right":"left":oe="center"),s==="top"?p==="near"||b!==0?V=-L*M+M/2:p==="center"?V=-Be.highest.height/2-Pe*M+M:V=-Be.highest.height+M/2:p==="near"||b!==0?V=M/2:p==="center"?V=Be.highest.height/2-Pe*M:V=Be.highest.height-L*M,v&&(V*=-1),b!==0&&!Ae.showLabelBackdrop&&(G+=M/2*Math.sin(b))):(ee=C,V=(1-L)*M/2);let z;if(Ae.showLabelBackdrop){const Q=Dn(Ae.backdropPadding),fe=Be.heights[N],we=Be.widths[N];let xe=V-Q.top,Te=0-Q.left;switch(D){case"middle":xe-=fe/2;break;case"bottom":xe-=fe;break}switch(R){case"center":Te-=we/2;break;case"right":Te-=we;break;case"inner":N===U-1?Te-=we:N>0&&(Te-=we/2);break}z={left:Te,top:xe,width:we+Q.width,height:fe+Q.height,color:Ae.backdropColor}}I.push({label:Y,font:A,textOffset:V,options:{rotation:b,color:ke,strokeColor:re,strokeWidth:ge,textAlign:oe,textBaseline:D,translation:[G,ee],backdrop:z}})}return I}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-fs(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,f=l.widest.width;let p,m;return t==="left"?s?(m=this.right+a,r==="near"?p="left":r==="center"?(p="center",m+=f/2):(p="right",m+=f)):(m=this.right-c,r==="near"?p="right":r==="center"?(p="center",m-=f/2):(p="left",m=this.left)):t==="right"?s?(m=this.left+a,r==="near"?p="right":r==="center"?(p="center",m-=f/2):(p="left",m-=f)):(m=this.left+c,r==="near"?p="left":r==="center"?(p="center",m+=f/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(f,p,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=s.length;a<l;++a){const f=s[a];t.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,m,v,E;this.isHorizontal()?(p=os(e,this.left,l)-l/2,m=os(e,this.right,c)+c/2,v=E=f):(v=os(e,this.top,l)-l/2,E=os(e,this.bottom,c)+c/2,p=m=f),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(p,v),t.lineTo(m,E),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&tp(r,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,f=l.font,p=l.label,m=l.textOffset;pl(r,p,0,m,f,c)}s&&np(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const a=qt(r.font),l=Dn(r.padding),c=r.align;let f=a.lineHeight/2;t==="bottom"||t==="center"||He(t)?(f+=l.bottom,Rt(r.text)&&(f+=a.lineHeight*(r.text.length-1))):f+=l.top;const{titleX:p,titleY:m,maxWidth:v,rotation:E}=K1(this,f,t,c);pl(e,r.text,0,0,a,{color:r.color,maxWidth:v,rotation:E,textAlign:q1(c,t,s),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ne(e.grid&&e.grid.z,-1),s=Ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vo.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return qt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nc{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Y1(t)&&(r=this.register(t));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Q1(e,l,r),this.override&&ft.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in ft[s]&&(delete ft[s][r],this.override&&delete _s[r])}}function Q1(n,e,t){const r=hl(Object.create(null),[t?ft.get(t):{},ft.get(e),n.defaults]);ft.set(e,r),n.defaultRoutes&&G1(e,n.defaultRoutes),n.descriptors&&ft.describe(e,n.descriptors)}function G1(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),s=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),f=l.join(".");ft.route(a,s,f,c)})}function Y1(n){return"id"in n&&"defaults"in n}class X1{constructor(){this.controllers=new nc(il,"datasets",!0),this.elements=new nc(Br,"elements"),this.plugins=new nc(Object,"plugins"),this.scales=new nc(Vo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):qe(s,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const s=Xd(e);Ze(r["before"+s],[],r),t[e](r),Ze(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var lr=new X1;class J1{constructor(){this._init=[]}notify(e,t,r,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,s){s=s||{};for(const a of e){const l=a.plugin,c=l[r],f=[t,s,a.options];if(Ze(c,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Ne(r.options&&r.options.plugins,{}),a=Z1(r);return s===!1&&!t?[]:tC(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(c=>!l.some(f=>c.plugin.id===f.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function Z1(n){const e={},t=[],r=Object.keys(lr.plugins.items);for(let a=0;a<r.length;a++)t.push(lr.getPlugin(r[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function eC(n,e){return!e&&n===!1?null:n===!0?{}:n}function tC(n,{plugins:e,localIds:t},r,s){const a=[],l=n.getContext();for(const c of e){const f=c.id,p=eC(r[f],s);p!==null&&a.push({plugin:c,options:nC(n.config,{plugin:c,local:t[f]},p,l)})}return a}function nC(n,{plugin:e,local:t},r,s){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dd(n,e){const t=ft.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function rC(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function iC(n,e){return n===e?"_index_":"_value_"}function Ny(n){if(n==="x"||n==="y"||n==="r")return n}function sC(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function pd(n,...e){if(Ny(n))return n;for(const t of e){const r=t.axis||sC(t.position)||n.length>1&&Ny(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Vy(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function oC(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Vy(n,"x",t[0])||Vy(n,"y",t[0])}return{}}function aC(n,e){const t=_s[n.type]||{scales:{}},r=e.scales||{},s=dd(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!He(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=pd(l,c,oC(l,n),ft.scales[c.type]),p=iC(f,s),m=t.scales||{};a[l]=Za(Object.create(null),[{axis:f},c,m[f],m[p]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,f=l.indexAxis||dd(c,e),m=(_s[c]||{}).scales||{};Object.keys(m).forEach(v=>{const E=rC(v,f),S=l[E+"AxisID"]||E;a[S]=a[S]||Object.create(null),Za(a[S],[{axis:E},r[S],m[v]])})}),Object.keys(a).forEach(l=>{const c=a[l];Za(c,[ft.scales[c.type],ft.scale])}),a}function Gv(n){const e=n.options||(n.options={});e.plugins=Ne(e.plugins,{}),e.scales=aC(n,e)}function Yv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function lC(n){return n=n||{},n.data=Yv(n.data),Gv(n),n}const Fy=new Map,Xv=new Set;function rc(n,e){let t=Fy.get(n);return t||(t=e(),Fy.set(n,t),Xv.add(t)),t}const Ha=(n,e,t)=>{const r=Ic(e,t);r!==void 0&&n.add(r)};class uC{constructor(e){this._config=lC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Yv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Gv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return rc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return rc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return rc(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return(!s||t)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const f=new Set;t.forEach(m=>{e&&(f.add(e),m.forEach(v=>Ha(f,e,v))),m.forEach(v=>Ha(f,s,v)),m.forEach(v=>Ha(f,_s[a]||{},v)),m.forEach(v=>Ha(f,ft,v)),m.forEach(v=>Ha(f,cd,v))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),Xv.has(t)&&l.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,_s[t]||{},ft.datasets[t]||{},{type:t},ft,cd]}resolveNamedOptions(e,t,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=zy(this._resolverCache,e,s);let f=l;if(hC(l,t)){a.$shared=!1,r=Ci(r)?r():r;const p=this.createResolver(e,r,c);f=Io(l,r,p)}for(const p of t)a[p]=f[p];return a}createResolver(e,t,r=[""],s){const{resolver:a}=zy(this._resolverCache,e,r);return He(t)?Io(a,t,void 0,s):a}}function zy(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const s=t.join();let a=r.get(s);return a||(a={resolver:rp(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,a)),a}const cC=n=>He(n)&&Object.getOwnPropertyNames(n).some(e=>Ci(n[e]));function hC(n,e){const{isScriptable:t,isIndexable:r}=Lv(n);for(const s of e){const a=t(s),l=r(s),c=(l||a)&&n[s];if(a&&(Ci(c)||cC(c))||l&&Rt(c))return!0}return!1}var fC="4.4.7";const dC=["top","bottom","left","right","chartArea"];function By(n,e){return n==="top"||n==="bottom"||dC.indexOf(n)===-1&&e==="x"}function jy(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Uy(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ze(t&&t.onComplete,[n],e)}function pC(n){const e=n.chart,t=e.options.animation;Ze(t&&t.onProgress,[n],e)}function Jv(n){return op()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yc={},$y=n=>{const e=Jv(n);return Object.values(yc).filter(t=>t.canvas===e).pop()};function gC(n,e,t){const r=Object.keys(n);for(const s of r){const a=+s;if(a>=e){const l=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=l)}}}function mC(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function ic(n,e,t){return n.options.clip?n[t]:e[t]}function yC(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:ic(t,e,"left"),right:ic(t,e,"right"),top:ic(r,e,"top"),bottom:ic(r,e,"bottom")}:e}var gi;let Kc=(gi=class{static register(...e){lr.add(...e),Hy()}static unregister(...e){lr.remove(...e),Hy()}constructor(e,t){const r=this.config=new uC(t),s=Jv(e),a=$y(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||L1(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,l.aspectRatio),f=c&&c.canvas,p=f&&f.height,m=f&&f.width;if(this.id=SS(),this.ctx=c,this.canvas=f,this.width=m,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new J1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$S(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],yc[this.id]=this,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Nr.listen(this,"complete",Uy),Nr.listen(this,"progress",pC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:a}=this;return lt(e)?t&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return lr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fy(this.canvas,this.ctx),this}stop(){return Nr.stop(this),this}resize(e,t){Nr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,gy(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ze(r.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qe(t,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],f=pd(l,c),p=f==="r",m=f==="x";return{options:c,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),qe(a,l=>{const c=l.options,f=c.id,p=pd(f,c),m=Ne(c.type,l.dtype);(c.position===void 0||By(c.position,p)!==By(l.dposition))&&(c.position=l.dposition),s[f]=!0;let v=null;if(f in r&&r[f].type===m)v=r[f];else{const E=lr.getScale(m);v=new E({id:f,type:m,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(c,e)}),qe(s,(l,c)=>{l||delete r[c]}),qe(r,l=>{Rn.configure(this,l,l.options),Rn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>t){for(let s=t;s<r;++s)this._destroyDatasetMeta(s);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(jy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,s)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const a=t[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||dd(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const f=lr.getController(c),{datasetElementType:p,dataElementType:m}=ft.datasets[c];Object.assign(f,{dataElementType:lr.getElement(m),datasetElementType:p&&lr.getElement(p)}),l.controller=new f(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),E=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(E),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||qe(a,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jy("z","_idx"));const{_active:c,_lastEvent:f}=this;f?this._eventHandler(f,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){qe(this.scales,e=>{Rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ny(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of t){const l=r==="_removeElements"?-a:a;gC(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<t;a++)if(!ny(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],qe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Ci(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nr.has(this)?this.attached&&!Nr.running(this)&&Nr.start(this):(this.draw(),Uy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,s=!r.disabled,a=yC(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&tp(t,{left:r.left===!1?0:a.left-r.left,right:r.right===!1?this.width:a.right+r.right,top:r.top===!1?0:a.top-r.top,bottom:r.bottom===!1?this.height:a.bottom+r.bottom}),e.controller.draw(),s&&np(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return dl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const a=d1.modes[t];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);Ac(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Nr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fy(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete yc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};qe(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(f,p)=>{t.addEventListener(this,f,p),e[f]=p},s=(f,p)=>{e[f]&&(t.removeEventListener(this,f,p),delete e[f])},a=(f,p)=>{this.canvas&&this.resize(f,p)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){qe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let a,l,c,f;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,f=e.length;c<f;++c){l=e[c];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Cc(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const s=this.options.hover,a=(f,p)=>f.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=a(t,e),c=r?e:a(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:a}=this,l=t,c=this._getActiveElements(e,s,r,l),f=bS(e),p=mC(e,this._lastEvent,r,f);r&&(this._lastEvent=null,Ze(a.onHover,[e,c,this],this),f&&Ze(a.onClick,[e,c,this],this));const m=!Cc(c,s);return(m||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=p,m}_getActiveElements(e,t,r,s){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},Ie(gi,"defaults",ft),Ie(gi,"instances",yc),Ie(gi,"overrides",_s),Ie(gi,"registry",lr),Ie(gi,"version",fC),Ie(gi,"getChart",$y),gi);function Hy(){return qe(Kc.instances,n=>n._plugins.invalidate())}function Zv(n,e,t=e){n.lineCap=Ne(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ne(t.borderDash,e.borderDash)),n.lineDashOffset=Ne(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ne(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ne(t.borderWidth,e.borderWidth),n.strokeStyle=Ne(t.borderColor,e.borderColor)}function _C(n,e,t){n.lineTo(t.x,t.y)}function vC(n){return n.stepped?nT:n.tension||n.cubicInterpolationMode==="monotone"?rT:_C}function e0(n,e,t={}){const r=n.length,{start:s=0,end:a=r-1}=t,{start:l,end:c}=e,f=Math.max(s,l),p=Math.min(a,c),m=s<l&&a<l||s>c&&a>c;return{count:r,start:f,loop:e.loop,ilen:p<f&&!m?r+p-f:p-f}}function wC(n,e,t,r){const{points:s,options:a}=e,{count:l,start:c,loop:f,ilen:p}=e0(s,t,r),m=vC(a);let{move:v=!0,reverse:E}=r||{},S,k,b;for(S=0;S<=p;++S)k=s[(c+(E?p-S:S))%l],!k.skip&&(v?(n.moveTo(k.x,k.y),v=!1):m(n,b,k,E,a.stepped),b=k);return f&&(k=s[(c+(E?p:0))%l],m(n,b,k,E,a.stepped)),!!f}function EC(n,e,t,r){const s=e.points,{count:a,start:l,ilen:c}=e0(s,t,r),{move:f=!0,reverse:p}=r||{};let m=0,v=0,E,S,k,b,I,N;const U=Y=>(l+(p?c-Y:Y))%a,q=()=>{b!==I&&(n.lineTo(m,I),n.lineTo(m,b),n.lineTo(m,N))};for(f&&(S=s[U(0)],n.moveTo(S.x,S.y)),E=0;E<=c;++E){if(S=s[U(E)],S.skip)continue;const Y=S.x,G=S.y,ee=Y|0;ee===k?(G<b?b=G:G>I&&(I=G),m=(v*m+Y)/++v):(q(),n.lineTo(Y,G),k=ee,v=0,b=I=G),N=G}q()}function gd(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?EC:wC}function xC(n){return n.stepped?NT:n.tension||n.cubicInterpolationMode==="monotone"?VT:cs}function SC(n,e,t,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,r)&&s.closePath()),Zv(n,e.options),n.stroke(s)}function TC(n,e,t,r){const{segments:s,options:a}=e,l=gd(e);for(const c of s)Zv(n,a,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const CC=typeof Path2D=="function";function kC(n,e,t,r){CC&&!e.options.segment?SC(n,e,t,r):TC(n,e,t,r)}class Qa extends Br{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;AT(this._points,r,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=WT(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,s=e[t],a=this.points,l=UT(this,{property:t,start:s,end:s});if(!l.length)return;const c=[],f=xC(r);let p,m;for(p=0,m=l.length;p<m;++p){const{start:v,end:E}=l[p],S=a[v],k=a[E];if(S===k){c.push(S);continue}const b=Math.abs((s-S[t])/(k[t]-S[t])),I=f(S,k,b,r.stepped);I[t]=e[t],c.push(I)}return c.length===1?c[0]:c}pathSegment(e,t,r){return gd(this)(e,this,t,r)}path(e,t,r){const s=this.segments,a=gd(this);let l=this._loop;t=t||0,r=r||this.points.length-t;for(const c of s)l&=a(e,this,c,{start:t,end:t+r-1});return!!l}draw(e,t,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),kC(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(Qa,"id","line"),Ie(Qa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(Qa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(Qa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Wy(n,e,t,r){const s=n.options,{[t]:a}=n.getProps([t],r);return Math.abs(e-a)<s.radius+s.hitRadius}class _c extends Br{constructor(t){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(r-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,r){return Wy(this,t,"x",r)}inYRange(t,r){return Wy(this,t,"y",r)}getCenterPoint(t){const{x:r,y:s}=this.getProps(["x","y"],t);return{x:r,y:s}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const s=r&&t.borderWidth||0;return(r+s)*2}draw(t,r){const s=this.options;this.skip||s.radius<.1||!dl(this,r,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,hd(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ie(_c,"id","point"),Ie(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const qy=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},IC=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Ky extends Br{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ze(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=qt(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:f}=qy(r,a);let p,m;t.font=s.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(l,a,c,f)+10):(m=this.maxHeight,p=this._fitCols(l,s,c,f)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],m=s+c;let v=e;a.textAlign="left",a.textBaseline="middle";let E=-1,S=-m;return this.legendItems.forEach((k,b)=>{const I=r+t/2+a.measureText(k.text).width;(b===0||p[p.length-1]+I+2*c>l)&&(v+=m,p[p.length-(b>0?0:1)]=0,S+=m,E++),f[b]={left:0,top:S,row:E,width:I,height:s},p[p.length-1]+=I+c}),v}_fitCols(e,t,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],m=l-e;let v=c,E=0,S=0,k=0,b=0;return this.legendItems.forEach((I,N)=>{const{itemWidth:U,itemHeight:q}=AC(r,t,a,I,s);N>0&&S+q+2*c>m&&(v+=E+c,p.push({width:E,height:S}),k+=E+c,b++,E=S=0),f[N]={left:k,top:S,col:b,width:U,height:q},E=Math.max(E,U),S+=q+c}),v+=E,p.push({width:E,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:a}}=this,l=Eo(a,this.left,this.width);if(this.isHorizontal()){let c=0,f=$t(r,this.left+s,this.right-this.lineWidths[c]);for(const p of t)c!==p.row&&(c=p.row,f=$t(r,this.left+s,this.right-this.lineWidths[c])),p.top+=this.top+e+s,p.left=l.leftForLtr(l.x(f),p.width),f+=p.width+s}else{let c=0,f=$t(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const p of t)p.col!==c&&(c=p.col,f=$t(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),p.top=f,p.left+=this.left+s,p.left=l.leftForLtr(l.x(p.left),p.width),f+=p.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tp(e,this),this._draw(),np(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,c=ft.color,f=Eo(e.rtl,this.left,this.width),p=qt(l.font),{padding:m}=l,v=p.size,E=v/2;let S;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=p.string;const{boxWidth:k,boxHeight:b,itemHeight:I}=qy(l,v),N=function(ee,R,C){if(isNaN(k)||k<=0||isNaN(b)||b<0)return;s.save();const A=Ne(C.lineWidth,1);if(s.fillStyle=Ne(C.fillStyle,c),s.lineCap=Ne(C.lineCap,"butt"),s.lineDashOffset=Ne(C.lineDashOffset,0),s.lineJoin=Ne(C.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=Ne(C.strokeStyle,c),s.setLineDash(Ne(C.lineDash,[])),l.usePointStyle){const M={radius:b*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:A},L=f.xPlus(ee,k/2),V=R+E;Dv(s,M,L,V,l.pointStyleWidth&&k)}else{const M=R+Math.max((v-b)/2,0),L=f.leftForLtr(ee,k),V=rl(C.borderRadius);s.beginPath(),Object.values(V).some(D=>D!==0)?fd(s,{x:L,y:M,w:k,h:b,radius:V}):s.rect(L,M,k,b),s.fill(),A!==0&&s.stroke()}s.restore()},U=function(ee,R,C){pl(s,C.text,ee,R+I/2,p,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},q=this.isHorizontal(),Y=this._computeTitleHeight();q?S={x:$t(a,this.left+m,this.right-r[0]),y:this.top+m+Y,line:0}:S={x:this.left+m,y:$t(a,this.top+Y+m,this.bottom-t[0].height),line:0},zv(this.ctx,e.textDirection);const G=I+m;this.legendItems.forEach((ee,R)=>{s.strokeStyle=ee.fontColor,s.fillStyle=ee.fontColor;const C=s.measureText(ee.text).width,A=f.textAlign(ee.textAlign||(ee.textAlign=l.textAlign)),M=k+E+C;let L=S.x,V=S.y;f.setWidth(this.width),q?R>0&&L+M+m>this.right&&(V=S.y+=G,S.line++,L=S.x=$t(a,this.left+m,this.right-r[S.line])):R>0&&V+G>this.bottom&&(L=S.x=L+t[S.line].width+m,S.line++,V=S.y=$t(a,this.top+Y+m,this.bottom-t[S.line].height));const D=f.x(L);if(N(D,V,ee),L=HS(A,L+k+E,q?L+M:this.right,e.rtl),U(f.x(L),V,ee),q)S.x+=M+m;else if(typeof ee.text!="string"){const Be=p.lineHeight;S.y+=t0(ee,Be)+m}else S.y+=G}),Bv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=qt(t.font),s=Dn(t.padding);if(!t.display)return;const a=Eo(e.rtl,this.left,this.width),l=this.ctx,c=t.position,f=r.size/2,p=s.top+f;let m,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+p,v=$t(e.align,v,this.right-E);else{const k=this.columnSizes.reduce((b,I)=>Math.max(b,I.height),0);m=p+$t(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const S=$t(c,v,v+E);l.textAlign=a.textAlign(Zd(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,pl(l,t.text,S,m,r)}_computeTitleHeight(){const e=this.options.title,t=qt(e.font),r=Dn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,a;if(qa(e,this.left,this.right)&&qa(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],qa(e,s.left,s.left+s.width)&&qa(t,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!PC(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=IC(s,r);s&&!a&&Ze(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&Ze(t.onHover,[e,r,this],this)}else r&&Ze(t.onClick,[e,r,this],this)}}function AC(n,e,t,r,s){const a=bC(r,n,e,t),l=RC(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function bC(n,e,t,r){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(s).width}function RC(n,e,t){let r=n;return typeof e.text!="string"&&(r=t0(e,t)),r}function t0(n,e){const t=n.text?n.text.length:0;return e*t}function PC(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var DC={id:"legend",_element:Ky,start(n,e,t){const r=n.legend=new Ky({ctx:n.ctx,options:t,chart:n});Rn.configure(n,r,t),Rn.addBox(n,r)},stop(n){Rn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Rn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,s=t.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(t?0:void 0),m=Dn(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:s||p.textAlign,borderRadius:l&&(c||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class n0 extends Br{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Rt(r.text)?r.text.length:1;this._padding=Dn(r.padding);const a=s*qt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:s,right:a,options:l}=this,c=l.align;let f=0,p,m,v;return this.isHorizontal()?(m=$t(c,r,a),v=t+e,p=a-r):(l.position==="left"?(m=r+e,v=$t(c,s,t),f=Pt*-.5):(m=a-e,v=$t(c,t,s),f=Pt*.5),p=s-t),{titleX:m,titleY:v,maxWidth:p,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=qt(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:f,rotation:p}=this._drawArgs(a);pl(e,t.text,0,0,r,{color:t.color,maxWidth:f,rotation:p,textAlign:Zd(t.align),textBaseline:"middle",translation:[l,c]})}}function MC(n,e){const t=new n0({ctx:n.ctx,options:e,chart:n});Rn.configure(n,t,e),Rn.addBox(n,t),n.titleBlock=t}var LC={id:"title",_element:n0,start(n,e,t){MC(n,t)},stop(n){const e=n.titleBlock;Rn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Rn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ga={average(n){if(!n.length)return!1;let e,t,r=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const f=c.tooltipPosition();r.add(f.x),s+=f.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,f)=>c+f)/r.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),m=ud(e,p);m<s&&(s=m,c=f)}}if(c){const f=c.tooltipPosition();t=f.x,r=f.y}return{x:t,y:r}}};function ar(n,e){return e&&(Rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Vr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function OC(n,e){const{element:t,datasetIndex:r,index:s}=e,a=n.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[r].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:t}}function Qy(n,e){const t=n.chart.ctx,{body:r,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=e,f=qt(e.bodyFont),p=qt(e.titleFont),m=qt(e.footerFont),v=a.length,E=s.length,S=r.length,k=Dn(e.padding);let b=k.height,I=0,N=r.reduce((Y,G)=>Y+G.before.length+G.lines.length+G.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,v&&(b+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),N){const Y=e.displayColors?Math.max(c,f.lineHeight):f.lineHeight;b+=S*Y+(N-S)*f.lineHeight+(N-1)*e.bodySpacing}E&&(b+=e.footerMarginTop+E*m.lineHeight+(E-1)*e.footerSpacing);let U=0;const q=function(Y){I=Math.max(I,t.measureText(Y).width+U)};return t.save(),t.font=p.string,qe(n.title,q),t.font=f.string,qe(n.beforeBody.concat(n.afterBody),q),U=e.displayColors?l+2+e.boxPadding:0,qe(r,Y=>{qe(Y.before,q),qe(Y.lines,q),qe(Y.after,q)}),U=0,t.font=m.string,qe(n.footer,q),t.restore(),I+=k.width,{width:I,height:b}}function NC(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function VC(n,e,t,r){const{x:s,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&s+a+l>e.width||n==="right"&&s-a-l<0)return!0}function FC(n,e,t,r){const{x:s,width:a}=t,{width:l,chartArea:{left:c,right:f}}=n;let p="center";return r==="center"?p=s<=(c+f)/2?"left":"right":s<=a/2?p="left":s>=l-a/2&&(p="right"),VC(p,n,e,t)&&(p="center"),p}function Gy(n,e,t){const r=t.yAlign||e.yAlign||NC(n,t);return{xAlign:t.xAlign||e.xAlign||FC(n,e,t,r),yAlign:r}}function zC(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function BC(n,e,t){let{y:r,height:s}=n;return e==="top"?r+=t:e==="bottom"?r-=s+t:r-=s/2,r}function Yy(n,e,t,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:f}=t,p=s+a,{topLeft:m,topRight:v,bottomLeft:E,bottomRight:S}=rl(l);let k=zC(e,c);const b=BC(e,f,p);return f==="center"?c==="left"?k+=p:c==="right"&&(k-=p):c==="left"?k-=Math.max(m,E)+s:c==="right"&&(k+=Math.max(v,S)+s),{x:bn(k,0,r.width-e.width),y:bn(b,0,r.height-e.height)}}function sc(n,e,t){const r=Dn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Xy(n){return ar([],Vr(n))}function jC(n,e,t){return Es(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Jy(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const r0={beforeTitle:Or,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Or,beforeBody:Or,beforeLabel:Or,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return lt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Or,afterBody:Or,beforeFooter:Or,footer:Or,afterFooter:Or};function an(n,e,t,r){const s=n[e].call(t,r);return typeof s>"u"?r0[e].call(t,r):s}class md extends Br{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,a=new Uv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=jC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,s=an(r,"beforeTitle",this,e),a=an(r,"title",this,e),l=an(r,"afterTitle",this,e);let c=[];return c=ar(c,Vr(s)),c=ar(c,Vr(a)),c=ar(c,Vr(l)),c}getBeforeBody(e,t){return Xy(an(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return qe(e,a=>{const l={before:[],lines:[],after:[]},c=Jy(r,a);ar(l.before,Vr(an(c,"beforeLabel",this,a))),ar(l.lines,an(c,"label",this,a)),ar(l.after,Vr(an(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,t){return Xy(an(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=an(r,"beforeFooter",this,e),a=an(r,"footer",this,e),l=an(r,"afterFooter",this,e);let c=[];return c=ar(c,Vr(s)),c=ar(c,Vr(a)),c=ar(c,Vr(l)),c}_createItems(e){const t=this._active,r=this.chart.data,s=[],a=[],l=[];let c=[],f,p;for(f=0,p=t.length;f<p;++f)c.push(OC(this.chart,t[f]));return e.filter&&(c=c.filter((m,v,E)=>e.filter(m,v,E,r))),e.itemSort&&(c=c.sort((m,v)=>e.itemSort(m,v,r))),qe(c,m=>{const v=Jy(e.callbacks,m);s.push(an(v,"labelColor",this,m)),a.push(an(v,"labelPointStyle",this,m)),l.push(an(v,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Ga[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const f=this._size=Qy(this,r),p=Object.assign({},c,f),m=Gy(this.chart,r,p),v=Yy(r,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const a=this.getCaretPosition(e,r,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=rl(c),{x:E,y:S}=e,{width:k,height:b}=t;let I,N,U,q,Y,G;return a==="center"?(Y=S+b/2,s==="left"?(I=E,N=I-l,q=Y+l,G=Y-l):(I=E+k,N=I+l,q=Y-l,G=Y+l),U=I):(s==="left"?N=E+Math.max(f,m)+l:s==="right"?N=E+k-Math.max(p,v)-l:N=this.caretX,a==="top"?(q=S,Y=q-l,I=N-l,U=N+l):(q=S+b,Y=q+l,I=N+l,U=N-l),G=q),{x1:I,x2:N,x3:U,y1:q,y2:Y,y3:G}}drawTitle(e,t,r){const s=this.title,a=s.length;let l,c,f;if(a){const p=Eo(r.rtl,this.x,this.width);for(e.x=sc(this,r.titleAlign,r),t.textAlign=p.textAlign(r.titleAlign),t.textBaseline="middle",l=qt(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,f=0;f<a;++f)t.fillText(s[f],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,f+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,s,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:f,boxWidth:p}=a,m=qt(a.bodyFont),v=sc(this,"left",a),E=s.x(v),S=f<m.lineHeight?(m.lineHeight-f)/2:0,k=t.y+S;if(a.usePointStyle){const b={radius:Math.min(p,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=s.leftForLtr(E,p)+p/2,N=k+f/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,hd(e,b,I,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,hd(e,b,I,N)}else{e.lineWidth=He(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=s.leftForLtr(E,p),I=s.leftForLtr(s.xPlus(E,1),p-2),N=rl(l.borderRadius);Object.values(N).some(U=>U!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,fd(e,{x:b,y:k,w:p,h:f,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),fd(e,{x:I,y:k+1,w:p-2,h:f-2,radius:N}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,k,p,f),e.strokeRect(b,k,p,f),e.fillStyle=l.backgroundColor,e.fillRect(I,k+1,p-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:f,boxWidth:p,boxPadding:m}=r,v=qt(r.bodyFont);let E=v.lineHeight,S=0;const k=Eo(r.rtl,this.x,this.width),b=function(C){t.fillText(C,k.x(e.x+S),e.y+E/2),e.y+=E+a},I=k.textAlign(l);let N,U,q,Y,G,ee,R;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=sc(this,I,r),t.fillStyle=r.bodyColor,qe(this.beforeBody,b),S=c&&I!=="right"?l==="center"?p/2+m:p+2+m:0,Y=0,ee=s.length;Y<ee;++Y){for(N=s[Y],U=this.labelTextColors[Y],t.fillStyle=U,qe(N.before,b),q=N.lines,c&&q.length&&(this._drawColorBox(t,e,Y,k,r),E=Math.max(v.lineHeight,f)),G=0,R=q.length;G<R;++G)b(q[G]),E=v.lineHeight;qe(N.after,b)}S=0,E=v.lineHeight,qe(this.afterBody,b),e.y-=a}drawFooter(e,t,r){const s=this.footer,a=s.length;let l,c;if(a){const f=Eo(r.rtl,this.x,this.width);for(e.x=sc(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=f.textAlign(r.footerAlign),t.textBaseline="middle",l=qt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(s[c],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:a,yAlign:l}=this,{x:c,y:f}=e,{width:p,height:m}=r,{topLeft:v,topRight:E,bottomLeft:S,bottomRight:k}=rl(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+v,f),l==="top"&&this.drawCaret(e,t,r,s),t.lineTo(c+p-E,f),t.quadraticCurveTo(c+p,f,c+p,f+E),l==="center"&&a==="right"&&this.drawCaret(e,t,r,s),t.lineTo(c+p,f+m-k),t.quadraticCurveTo(c+p,f+m,c+p-k,f+m),l==="bottom"&&this.drawCaret(e,t,r,s),t.lineTo(c+S,f+m),t.quadraticCurveTo(c,f+m,c,f+m-S),l==="center"&&a==="left"&&this.drawCaret(e,t,r,s),t.lineTo(c,f+v),t.quadraticCurveTo(c,f,c+v,f),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=Ga[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Qy(this,e),f=Object.assign({},l,this._size),p=Gy(t,e,f),m=Yy(e,f,p,t);(s._to!==m.x||a._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Dn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,t),zv(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Bv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(({datasetIndex:c,index:f})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[f],index:f}}),a=!Cc(r,s),l=this._positionChanged(s,t);(a||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),c=this._positionChanged(l,e),f=t||!Cc(l,a)||c;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:s,options:a}=this,l=Ga[a.position].call(this,e,t);return l!==!1&&(r!==l.x||s!==l.y)}}Ie(md,"positioners",Ga);var UC={id:"tooltip",_element:md,positioners:Ga,afterInit(n,e,t){t&&(n.tooltip=new md({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:r0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $C=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function HC(n,e,t,r){const s=n.indexOf(e);if(s===-1)return $C(n,e,t,r);const a=n.lastIndexOf(e);return s!==a?t:s}const WC=(n,e)=>n===null?null:bn(Math.round(n),0,e);function Zy(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class yd extends Vo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:s,label:a}of t)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:HC(r,e,Ne(t,e),this._addedLabels),WC(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return Zy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(yd,"id","category"),Ie(yd,"defaults",{ticks:{callback:Zy}});function qC(n,e){const t=[],{bounds:s,step:a,min:l,max:c,precision:f,count:p,maxTicks:m,maxDigits:v,includeBounds:E}=n,S=a||1,k=m-1,{min:b,max:I}=e,N=!lt(l),U=!lt(c),q=!lt(p),Y=(I-b)/(v+1);let G=iy((I-b)/k/S)*S,ee,R,C,A;if(G<1e-14&&!N&&!U)return[{value:b},{value:I}];A=Math.ceil(I/G)-Math.floor(b/G),A>k&&(G=iy(A*G/k/S)*S),lt(f)||(ee=Math.pow(10,f),G=Math.ceil(G*ee)/ee),s==="ticks"?(R=Math.floor(b/G)*G,C=Math.ceil(I/G)*G):(R=b,C=I),N&&U&&a&&MS((c-l)/a,G/1e3)?(A=Math.round(Math.min((c-l)/G,m)),G=(c-l)/A,R=l,C=c):q?(R=N?l:R,C=U?c:C,A=p-1,G=(C-R)/A):(A=(C-R)/G,el(A,Math.round(A),G/1e3)?A=Math.round(A):A=Math.ceil(A));const M=Math.max(sy(G),sy(R));ee=Math.pow(10,lt(f)?M:f),R=Math.round(R*ee)/ee,C=Math.round(C*ee)/ee;let L=0;for(N&&(E&&R!==l?(t.push({value:l}),R<l&&L++,el(Math.round((R+L*G)*ee)/ee,l,e_(l,Y,n))&&L++):R<l&&L++);L<A;++L){const V=Math.round((R+L*G)*ee)/ee;if(U&&V>c)break;t.push({value:V})}return U&&E&&C!==c?t.length&&el(t[t.length-1].value,c,e_(c,Y,n))?t[t.length-1].value=c:t.push({value:c}):(!U||C===c)&&t.push({value:C}),t}function e_(n,e,{horizontal:t,minRotation:r}){const s=fs(r),a=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class KC extends Vo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=t?s:f,c=f=>a=r?a:f;if(e){const f=ko(s),p=ko(a);f<0&&p<0?c(0):f>0&&p>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);c(a+f),e||l(s-f)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=qC(s,a);return e.bounds==="ticks"&&LS(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return bv(e,this.chart.options.locale,this.options.ticks.format)}}class _d extends KC{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Pn(e)?e:0,this.max=Pn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=fs(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ie(_d,"id","linear"),Ie(_d,"defaults",{ticks:{callback:Pv.formatters.numeric}});const Qc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},un=Object.keys(Qc);function t_(n,e){return n-e}function n_(n,e){if(lt(e))return null;const t=n._adapter,{parser:r,round:s,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Pn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(fl(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,s)),+l)}function r_(n,e,t,r){const s=un.length;for(let a=un.indexOf(n);a<s-1;++a){const l=Qc[un[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return un[a]}return un[s-1]}function QC(n,e,t,r,s){for(let a=un.length-1;a>=un.indexOf(t);a--){const l=un[a];if(Qc[l].common&&n._adapter.diff(s,r,l)>=e-1)return l}return un[t?un.indexOf(t):0]}function GC(n){for(let e=un.indexOf(n)+1,t=un.length;e<t;++e)if(Qc[un[e]].common)return un[e]}function i_(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:s}=Jd(t,e),a=t[r]>=e?t[r]:t[s];n[a]=!0}}function YC(n,e,t,r){const s=n._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let c,f;for(c=a;c<=l;c=+s.add(c,1,r))f=t[c],f>=0&&(e[f].major=!0);return e}function s_(n,e,t){const r=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,r.push({value:c,major:!1});return a===0||!t?r:YC(n,r,s,t)}class Dc extends Vo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),s=this._adapter=new l1._date(e.adapters.date);s.init(t),Za(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:n_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function f(p){!l&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!c&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!l||!c)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=Pn(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),a=Pn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=BS(s,a,l);return this._unit=t.unit||(r.autoSkip?r_(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):QC(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:GC(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),s_(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=bn(t,0,l),r=bn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||r_(a.minUnit,t,r,this._getLabelCapacity(t)),c=Ne(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,p=fl(f)||f===!0,m={};let v=t,E,S;if(p&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,p?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const k=s.ticks.source==="data"&&this.getDataTimestamps();for(E=v,S=0;E<r;E=+e.add(E,c,l),S++)i_(m,E,k);return(E===r||s.bounds==="ticks"||S===1)&&i_(m,E,k),Object.keys(m).sort(t_).map(b=>+b)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,l=t||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,s){const a=this.options,l=a.ticks.callback;if(l)return Ze(l,[e,t,r],this);const c=a.time.displayFormats,f=this._unit,p=this._majorUnit,m=f&&c[f],v=p&&c[p],E=r[t],S=p&&v&&E&&E.major;return this._adapter.format(e,s||(S?v:m))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=fs(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,s_(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,r=s.length;t<r;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(n_(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return US(e.sort(t_))}}Ie(Dc,"id","time"),Ie(Dc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oc(n,e,t){let r=0,s=n.length-1,a,l,c,f;t?(e>=n[r].pos&&e<=n[s].pos&&({lo:r,hi:s}=ds(n,"pos",e)),{pos:a,time:c}=n[r],{pos:l,time:f}=n[s]):(e>=n[r].time&&e<=n[s].time&&({lo:r,hi:s}=ds(n,"time",e)),{time:a,pos:c}=n[r],{time:l,pos:f}=n[s]);const p=l-a;return p?c+(f-c)*(e-a)/p:c}class o_ extends Dc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=oc(t,this.min),this._tableRange=oc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,s=[],a=[];let l,c,f,p,m;for(l=0,c=e.length;l<c;++l)p=e[l],p>=t&&p<=r&&s.push(p);if(s.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=s.length;l<c;++l)m=s[l+1],f=s[l-1],p=s[l],Math.round((m+f)/2)!==p&&a.push({time:p,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(oc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return oc(this._table,r*this._tableRange+this._minPos,!0)}}Ie(o_,"id","timeseries"),Ie(o_,"defaults",Dc.defaults);const i0="label";function a_(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function XC(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function s0(n,e){n.labels=e}function o0(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i0;const r=[];n.datasets=e.map(s=>{const a=n.datasets.find(l=>l[t]===s[t]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function JC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i0;const t={labels:[],datasets:[]};return s0(t,n.labels),o0(t,n.datasets,e),t}function ZC(n,e){const{height:t=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:f,plugins:p=[],fallbackContent:m,updateMode:v,...E}=n,S=K.useRef(null),k=K.useRef(null),b=()=>{S.current&&(k.current=new Kc(S.current,{type:l,data:JC(c,a),options:f&&{...f},plugins:p}),a_(e,k.current))},I=()=>{a_(e,null),k.current&&(k.current.destroy(),k.current=null)};return K.useEffect(()=>{!s&&k.current&&f&&XC(k.current,f)},[s,f]),K.useEffect(()=>{!s&&k.current&&s0(k.current.config.data,c.labels)},[s,c.labels]),K.useEffect(()=>{!s&&k.current&&c.datasets&&o0(k.current.config.data,c.datasets,a)},[s,c.datasets]),K.useEffect(()=>{k.current&&(s?(I(),setTimeout(b)):k.current.update(v))},[s,f,c.labels,c.datasets,v]),K.useEffect(()=>{k.current&&(I(),setTimeout(b))},[l]),K.useEffect(()=>(b(),()=>I()),[]),sv.createElement("canvas",{ref:S,role:"img",height:t,width:r,...E},m)}const ek=K.forwardRef(ZC);function tk(n,e){return Kc.register(e),K.forwardRef((t,r)=>sv.createElement(ek,{...t,ref:r,type:n}))}const nk=tk("line",gc);Kc.register(yd,_d,_c,Qa,LC,UC,DC);const rk=()=>{const n={responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Weekly Reading"}},scales:{y:{beginAtZero:!0}}},t={labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],datasets:[{label:"Time Reading",data:[23,100,300,2,23,0,12],borderColor:"rgb(55, 162, 204)",backgroundColor:"rgba(84, 96, 253, 0.74)"}]};return ce.jsx("div",{className:"w-full h-96 p-4",children:ce.jsx(nk,{options:n,data:t})})};function ik(){return ce.jsx("div",{className:"weekly-graph-box",children:ce.jsx(rk,{})})}function sk(){const n=$d();return ce.jsxs("div",{className:"hold-action-buttons",children:[ce.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>n("/honors-reading-tracker/read"),children:"Read Book"}),ce.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>n("/honors-reading-tracker/my-books"),children:"My Books"})]})}var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ok=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(E=64)),r.push(t[m],t[v],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ok(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||v==null)throw new ak;const E=a<<2|c>>4;if(r.push(E),p!==64){const S=c<<4&240|p>>2;if(r.push(S),v!==64){const k=p<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lk=function(n){const e=a0(n);return l0.encodeByteArray(e,!0)},Mc=function(n){return lk(n).replace(/\./g,"")},uk=function(n){try{return l0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=()=>ck().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u"||typeof l_>"u")return;const n=l_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uk(n[1]);return e&&JSON.parse(e)},up=()=>{try{return hk()||fk()||dk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pk=n=>{var e,t;return(t=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gk=n=>{const e=pk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},u0=()=>{var n;return(n=up())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mc(JSON.stringify(t)),Mc(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vk(){var n;const e=(n=up())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wk(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function xk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="FirebaseError";class Fo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sk,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c0.prototype.create)}}class c0{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Tk(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Fo(s,c,r)}}function Tk(n,e){return n.replace(Ck,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Ck=/\{\$([^}]+)}/g;function vd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(u_(a)&&u_(l)){if(!vd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function u_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){return n&&n._delegate?n._delegate:n}class ml{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bk(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ak(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ak(n){return n===hs?void 0:n}function bk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ik(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const Pk={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Dk=Le.INFO,Mk={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Lk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Mk[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h0{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Ok=(n,e)=>e.some(t=>n instanceof t);let c_,h_;function Nk(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vk(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,wd=new WeakMap,d0=new WeakMap,Yf=new WeakMap,cp=new WeakMap;function Fk(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ei(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&f0.set(t,n)}).catch(()=>{}),cp.set(e,n),e}function zk(n){if(wd.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});wd.set(n,e)}let Ed={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ei(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Bk(n){Ed=n(Ed)}function jk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xf(this),e,...t);return d0.set(r,e.sort?e.sort():[e]),Ei(r)}:Vk().includes(n)?function(...e){return n.apply(Xf(this),e),Ei(f0.get(this))}:function(...e){return Ei(n.apply(Xf(this),e))}}function Uk(n){return typeof n=="function"?jk(n):(n instanceof IDBTransaction&&zk(n),Ok(n,Nk())?new Proxy(n,Ed):n)}function Ei(n){if(n instanceof IDBRequest)return Fk(n);if(Yf.has(n))return Yf.get(n);const e=Uk(n);return e!==n&&(Yf.set(n,e),cp.set(e,n)),e}const Xf=n=>cp.get(n);function $k(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Ei(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ei(l.result),f.oldVersion,f.newVersion,Ei(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Hk=["get","getKey","getAll","getAllKeys","count"],Wk=["put","add","delete","clear"],Jf=new Map;function f_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Wk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hk.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&f.done]))[0]};return Jf.set(e,a),a}Bk(n=>({...n,get:(e,t,r)=>f_(e,t)||n.get(e,t,r),has:(e,t)=>!!f_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Kk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",d_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new h0("@firebase/app"),Qk="@firebase/app-compat",Gk="@firebase/analytics-compat",Yk="@firebase/analytics",Xk="@firebase/app-check-compat",Jk="@firebase/app-check",Zk="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",sI="@firebase/functions-compat",oI="@firebase/installations",aI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",dI="@firebase/remote-config-compat",pI="@firebase/storage",gI="@firebase/storage-compat",mI="@firebase/firestore",yI="@firebase/vertexai",_I="@firebase/firestore-compat",vI="firebase",wI="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",EI={[xd]:"fire-core",[Qk]:"fire-core-compat",[Yk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Jk]:"fire-app-check",[Xk]:"fire-app-check-compat",[Zk]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[sI]:"fire-fn-compat",[oI]:"fire-iid",[aI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[dI]:"fire-rc-compat",[pI]:"fire-gcs",[gI]:"fire-gcs-compat",[mI]:"fire-fst",[_I]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[vI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,xI=new Map,Td=new Map;function p_(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oc(n){const e=n.name;if(Td.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Td.set(e,n);for(const t of Lc.values())p_(t,n);for(const t of xI.values())p_(t,n);return!0}function SI(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new c0("app","Firebase",TI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=wI;function p0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xi.create("bad-app-name",{appName:String(s)});if(t||(t=u0()),!t)throw xi.create("no-options");const a=Lc.get(s);if(a){if(vd(t,a.options)&&vd(r,a.config))return a;throw xi.create("duplicate-app",{appName:s})}const l=new Rk(s);for(const f of Td.values())l.addComponent(f);const c=new CI(t,r,l);return Lc.set(s,c),c}function II(n=Sd){const e=Lc.get(n);if(!e&&n===Sd&&u0())return p0();if(!e)throw xi.create("no-app",{appName:n});return e}function xo(n,e,t){var r;let s=(r=EI[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(c.join(" "));return}Oc(new ml(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",bI=1,yl="firebase-heartbeat-store";let Zf=null;function g0(){return Zf||(Zf=$k(AI,bI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),Zf}async function RI(n){try{const t=(await g0()).transaction(yl),r=await t.objectStore(yl).get(m0(n));return await t.done,r}catch(e){if(e instanceof Fo)jr.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function g_(n,e){try{const r=(await g0()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,m0(n)),await r.done}catch(t){if(t instanceof Fo)jr.warn(t.message);else{const r=xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(r.message)}}}function m0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1024,DI=30*24*60*60*1e3;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=DI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=m_(),{heartbeatsToSend:r,unsentEntries:s}=LI(this._heartbeatsCache.heartbeats),a=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return jr.warn(t),""}}}function m_(){return new Date().toISOString().substring(0,10)}function LI(n,e=PI){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),y_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),y_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class OI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?xk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y_(n){return Mc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){Oc(new ml("platform-logger",e=>new qk(e),"PRIVATE")),Oc(new ml("heartbeat",e=>new MI(e),"PRIVATE")),xo(xd,d_,n),xo(xd,d_,"esm2017"),xo("fire-js","")}NI("");var VI="firebase",FI="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo(VI,FI,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,y0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function A(){}A.prototype=C.prototype,R.D=C.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(M,L,V){for(var D=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)D[Be-2]=arguments[Be];return C.prototype[L].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,C,A){A||(A=0);var M=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)M[L]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(L=0;16>L;++L)M[L]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=R.g[0],A=R.g[1],L=R.g[2];var V=R.g[3],D=C+(V^A&(L^V))+M[0]+3614090360&4294967295;C=A+(D<<7&4294967295|D>>>25),D=V+(L^C&(A^L))+M[1]+3905402710&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(A^V&(C^A))+M[2]+606105819&4294967295,L=V+(D<<17&4294967295|D>>>15),D=A+(C^L&(V^C))+M[3]+3250441966&4294967295,A=L+(D<<22&4294967295|D>>>10),D=C+(V^A&(L^V))+M[4]+4118548399&4294967295,C=A+(D<<7&4294967295|D>>>25),D=V+(L^C&(A^L))+M[5]+1200080426&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(A^V&(C^A))+M[6]+2821735955&4294967295,L=V+(D<<17&4294967295|D>>>15),D=A+(C^L&(V^C))+M[7]+4249261313&4294967295,A=L+(D<<22&4294967295|D>>>10),D=C+(V^A&(L^V))+M[8]+1770035416&4294967295,C=A+(D<<7&4294967295|D>>>25),D=V+(L^C&(A^L))+M[9]+2336552879&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(A^V&(C^A))+M[10]+4294925233&4294967295,L=V+(D<<17&4294967295|D>>>15),D=A+(C^L&(V^C))+M[11]+2304563134&4294967295,A=L+(D<<22&4294967295|D>>>10),D=C+(V^A&(L^V))+M[12]+1804603682&4294967295,C=A+(D<<7&4294967295|D>>>25),D=V+(L^C&(A^L))+M[13]+4254626195&4294967295,V=C+(D<<12&4294967295|D>>>20),D=L+(A^V&(C^A))+M[14]+2792965006&4294967295,L=V+(D<<17&4294967295|D>>>15),D=A+(C^L&(V^C))+M[15]+1236535329&4294967295,A=L+(D<<22&4294967295|D>>>10),D=C+(L^V&(A^L))+M[1]+4129170786&4294967295,C=A+(D<<5&4294967295|D>>>27),D=V+(A^L&(C^A))+M[6]+3225465664&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^A&(V^C))+M[11]+643717713&4294967295,L=V+(D<<14&4294967295|D>>>18),D=A+(V^C&(L^V))+M[0]+3921069994&4294967295,A=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(A^L))+M[5]+3593408605&4294967295,C=A+(D<<5&4294967295|D>>>27),D=V+(A^L&(C^A))+M[10]+38016083&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^A&(V^C))+M[15]+3634488961&4294967295,L=V+(D<<14&4294967295|D>>>18),D=A+(V^C&(L^V))+M[4]+3889429448&4294967295,A=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(A^L))+M[9]+568446438&4294967295,C=A+(D<<5&4294967295|D>>>27),D=V+(A^L&(C^A))+M[14]+3275163606&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^A&(V^C))+M[3]+4107603335&4294967295,L=V+(D<<14&4294967295|D>>>18),D=A+(V^C&(L^V))+M[8]+1163531501&4294967295,A=L+(D<<20&4294967295|D>>>12),D=C+(L^V&(A^L))+M[13]+2850285829&4294967295,C=A+(D<<5&4294967295|D>>>27),D=V+(A^L&(C^A))+M[2]+4243563512&4294967295,V=C+(D<<9&4294967295|D>>>23),D=L+(C^A&(V^C))+M[7]+1735328473&4294967295,L=V+(D<<14&4294967295|D>>>18),D=A+(V^C&(L^V))+M[12]+2368359562&4294967295,A=L+(D<<20&4294967295|D>>>12),D=C+(A^L^V)+M[5]+4294588738&4294967295,C=A+(D<<4&4294967295|D>>>28),D=V+(C^A^L)+M[8]+2272392833&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^A)+M[11]+1839030562&4294967295,L=V+(D<<16&4294967295|D>>>16),D=A+(L^V^C)+M[14]+4259657740&4294967295,A=L+(D<<23&4294967295|D>>>9),D=C+(A^L^V)+M[1]+2763975236&4294967295,C=A+(D<<4&4294967295|D>>>28),D=V+(C^A^L)+M[4]+1272893353&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^A)+M[7]+4139469664&4294967295,L=V+(D<<16&4294967295|D>>>16),D=A+(L^V^C)+M[10]+3200236656&4294967295,A=L+(D<<23&4294967295|D>>>9),D=C+(A^L^V)+M[13]+681279174&4294967295,C=A+(D<<4&4294967295|D>>>28),D=V+(C^A^L)+M[0]+3936430074&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^A)+M[3]+3572445317&4294967295,L=V+(D<<16&4294967295|D>>>16),D=A+(L^V^C)+M[6]+76029189&4294967295,A=L+(D<<23&4294967295|D>>>9),D=C+(A^L^V)+M[9]+3654602809&4294967295,C=A+(D<<4&4294967295|D>>>28),D=V+(C^A^L)+M[12]+3873151461&4294967295,V=C+(D<<11&4294967295|D>>>21),D=L+(V^C^A)+M[15]+530742520&4294967295,L=V+(D<<16&4294967295|D>>>16),D=A+(L^V^C)+M[2]+3299628645&4294967295,A=L+(D<<23&4294967295|D>>>9),D=C+(L^(A|~V))+M[0]+4096336452&4294967295,C=A+(D<<6&4294967295|D>>>26),D=V+(A^(C|~L))+M[7]+1126891415&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~A))+M[14]+2878612391&4294967295,L=V+(D<<15&4294967295|D>>>17),D=A+(V^(L|~C))+M[5]+4237533241&4294967295,A=L+(D<<21&4294967295|D>>>11),D=C+(L^(A|~V))+M[12]+1700485571&4294967295,C=A+(D<<6&4294967295|D>>>26),D=V+(A^(C|~L))+M[3]+2399980690&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~A))+M[10]+4293915773&4294967295,L=V+(D<<15&4294967295|D>>>17),D=A+(V^(L|~C))+M[1]+2240044497&4294967295,A=L+(D<<21&4294967295|D>>>11),D=C+(L^(A|~V))+M[8]+1873313359&4294967295,C=A+(D<<6&4294967295|D>>>26),D=V+(A^(C|~L))+M[15]+4264355552&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~A))+M[6]+2734768916&4294967295,L=V+(D<<15&4294967295|D>>>17),D=A+(V^(L|~C))+M[13]+1309151649&4294967295,A=L+(D<<21&4294967295|D>>>11),D=C+(L^(A|~V))+M[4]+4149444226&4294967295,C=A+(D<<6&4294967295|D>>>26),D=V+(A^(C|~L))+M[11]+3174756917&4294967295,V=C+(D<<10&4294967295|D>>>22),D=L+(C^(V|~A))+M[2]+718787259&4294967295,L=V+(D<<15&4294967295|D>>>17),D=A+(V^(L|~C))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var A=C-this.blockSize,M=this.B,L=this.h,V=0;V<C;){if(L==0)for(;V<=A;)s(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<C;)if(M[L++]=R.charCodeAt(V++),L==this.blockSize){s(this,M),L=0;break}}else for(;V<C;)if(M[L++]=R[V++],L==this.blockSize){s(this,M),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var A=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.u(R),R=Array(16),C=A=0;4>C;++C)for(var M=0;32>M;M+=8)R[A++]=this.g[C]>>>M&255;return R};function a(R,C){var A=c;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=C(R)}function l(R,C){this.h=C;for(var A=[],M=!0,L=R.length-1;0<=L;L--){var V=R[L]|0;M&&V==C||(A[L]=V,M=!1)}this.g=A}var c={};function f(R){return-128<=R&&128>R?a(R,function(C){return new l([C|0],0>C?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return I(p(-R));for(var C=[],A=1,M=0;R>=A;M++)C[M]=R/A|0,A*=4294967296;return new l(C,0)}function m(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return I(m(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(C,8)),M=v,L=0;L<R.length;L+=8){var V=Math.min(8,R.length-L),D=parseInt(R.substring(L,L+V),C);8>V?(V=p(Math.pow(C,V)),M=M.j(V).add(p(D))):(M=M.j(A),M=M.add(p(D)))}return M}var v=f(0),E=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-I(this).m();for(var R=0,C=1,A=0;A<this.g.length;A++){var M=this.i(A);R+=(0<=M?M:4294967296+M)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(b(this))return"-"+I(this).toString(R);for(var C=p(Math.pow(R,6)),A=this,M="";;){var L=Y(A,C).g;A=N(A,L.j(C));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=L,k(A))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function b(R){return R.h==-1}n.l=function(R){return R=N(this,R),b(R)?-1:k(R)?0:1};function I(R){for(var C=R.g.length,A=[],M=0;M<C;M++)A[M]=~R.g[M];return new l(A,~R.h).add(E)}n.abs=function(){return b(this)?I(this):this},n.add=function(R){for(var C=Math.max(this.g.length,R.g.length),A=[],M=0,L=0;L<=C;L++){var V=M+(this.i(L)&65535)+(R.i(L)&65535),D=(V>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);M=D>>>16,V&=65535,D&=65535,A[L]=D<<16|V}return new l(A,A[A.length-1]&-2147483648?-1:0)};function N(R,C){return R.add(I(C))}n.j=function(R){if(k(this)||k(R))return v;if(b(this))return b(R)?I(this).j(I(R)):I(I(this).j(R));if(b(R))return I(this.j(I(R)));if(0>this.l(S)&&0>R.l(S))return p(this.m()*R.m());for(var C=this.g.length+R.g.length,A=[],M=0;M<2*C;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<R.g.length;L++){var V=this.i(M)>>>16,D=this.i(M)&65535,Be=R.i(L)>>>16,Ae=R.i(L)&65535;A[2*M+2*L]+=D*Ae,U(A,2*M+2*L),A[2*M+2*L+1]+=V*Ae,U(A,2*M+2*L+1),A[2*M+2*L+1]+=D*Be,U(A,2*M+2*L+1),A[2*M+2*L+2]+=V*Be,U(A,2*M+2*L+2)}for(M=0;M<C;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=C;M<2*C;M++)A[M]=0;return new l(A,0)};function U(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function q(R,C){this.g=R,this.h=C}function Y(R,C){if(k(C))throw Error("division by zero");if(k(R))return new q(v,v);if(b(R))return C=Y(I(R),C),new q(I(C.g),I(C.h));if(b(C))return C=Y(R,I(C)),new q(I(C.g),C.h);if(30<R.g.length){if(b(R)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var A=E,M=C;0>=M.l(R);)A=G(A),M=G(M);var L=ee(A,1),V=ee(M,1);for(M=ee(M,2),A=ee(A,2);!k(M);){var D=V.add(M);0>=D.l(R)&&(L=L.add(A),V=D),M=ee(M,1),A=ee(A,1)}return C=N(R,L.j(C)),new q(L,C)}for(L=v;0<=R.l(C);){for(A=Math.max(1,Math.floor(R.m()/C.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=p(A),D=V.j(C);b(D)||0<D.l(R);)A-=M,V=p(A),D=V.j(C);k(V)&&(V=E),L=L.add(V),R=N(R,D)}return new q(L,R)}n.A=function(R){return Y(this,R).h},n.and=function(R){for(var C=Math.max(this.g.length,R.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)&R.i(M);return new l(A,this.h&R.h)},n.or=function(R){for(var C=Math.max(this.g.length,R.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)|R.i(M);return new l(A,this.h|R.h)},n.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)^R.i(M);return new l(A,this.h^R.h)};function G(R){for(var C=R.g.length+1,A=[],M=0;M<C;M++)A[M]=R.i(M)<<1|R.i(M-1)>>>31;return new l(A,R.h)}function ee(R,C){var A=C>>5;C%=32;for(var M=R.g.length-A,L=[],V=0;V<M;V++)L[V]=0<C?R.i(V+A)>>>C|R.i(V+A+1)<<32-C:R.i(V+A);return new l(L,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y0=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Si=l}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _0,Ya,v0,vc,Cd,w0,E0,x0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,w){return h==Array.prototype||h==Object.prototype||(h[y]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(h,y){if(y)e:{var w=r;h=h.split(".");for(var T=0;T<h.length-1;T++){var B=h[T];if(!(B in w))break e;w=w[B]}h=h[h.length-1],T=w[h],y=y(T),y!=T&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var w=0,T=!1,B={next:function(){if(!T&&w<h.length){var W=w++;return{value:y(W,h[W]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,w){return h.call.apply(h.bind,arguments)}function v(h,y,w){if(!h)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),h.apply(y,B)}}return function(){return h.apply(y,arguments)}}function E(h,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function S(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function k(h,y){function w(){}w.prototype=y.prototype,h.aa=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(T,B,W){for(var ie=Array(arguments.length-2),We=2;We<arguments.length;We++)ie[We-2]=arguments[We];return y.prototype[B].apply(T,ie)}}function b(h){const y=h.length;if(0<y){const w=Array(y);for(let T=0;T<y;T++)w[T]=h[T];return w}return[]}function I(h,y){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(f(T)){const B=h.length||0,W=T.length||0;h.length=B+W;for(let ie=0;ie<W;ie++)h[B+ie]=T[ie]}else h.push(T)}}class N{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var G=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(h,y,w){for(const T in h)y.call(w,h[T],T,h)}function R(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function C(h){const y={};for(const w in h)y[w]=h[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let w,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(w in T)h[w]=T[w];for(let W=0;W<A.length;W++)w=A[W],Object.prototype.hasOwnProperty.call(T,w)&&(h[w]=T[w])}}function L(h){var y=1;h=h.split(":");const w=[];for(;0<y&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function V(h){c.setTimeout(()=>{throw h},0)}function D(){var h=ge;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,w){const T=Ae.get();T.set(y,w),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new N(()=>new Pe,h=>h.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,re=!1,ge=new Be,oe=()=>{const h=c.Promise.resolve(void 0);ke=()=>{h.then(z)}};var z=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(w){V(w)}var y=Ae;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return h}();function xe(h,y){if(fe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(G){e:{try{Y(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Te[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}k(xe,fe);var Te={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Qe(h,y,w,T,B){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!T,this.ha=B,this.key=++$e,this.da=this.fa=!1}function Tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yr(h){this.src=h,this.g={},this.h=0}yr.prototype.add=function(h,y,w,T,B){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ie=Hr(h,y,T,B);return-1<ie?(y=h[ie],w||(y.fa=!1)):(y=new Qe(y,this.src,W,!!T,B),y.fa=w,h.push(y)),y};function Ss(h,y){var w=y.type;if(w in h.g){var T=h.g[w],B=Array.prototype.indexOf.call(T,y,void 0),W;(W=0<=B)&&Array.prototype.splice.call(T,B,1),W&&(Tt(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Hr(h,y,w,T){for(var B=0;B<h.length;++B){var W=h[B];if(!W.da&&W.listener==y&&W.capture==!!w&&W.ha==T)return B}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),Ts={};function $o(h,y,w,T,B){if(Array.isArray(y)){for(var W=0;W<y.length;W++)$o(h,y[W],w,T,B);return null}return w=qo(w),h&&h[Ue]?h.K(y,w,p(T)?!!T.capture:!1,B):Ho(h,y,w,!1,T,B)}function Ho(h,y,w,T,B,W){if(!y)throw Error("Invalid event type");var ie=p(B)?!!B.capture:!!B,We=ks(h);if(We||(h[Pi]=We=new yr(h)),w=We.add(y,w,T,ie,W),w.proxy)return w;if(T=Rl(),w.proxy=T,T.src=h,T.listener=w,h.addEventListener)we||(B=ie),B===void 0&&(B=!1),h.addEventListener(y.toString(),T,B);else if(h.attachEvent)h.attachEvent(vr(y.toString()),T);else if(h.addListener&&h.removeListener)h.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Rl(){function h(w){return y.call(h.src,h.listener,w)}const y=Wo;return h}function Cs(h,y,w,T,B){if(Array.isArray(y))for(var W=0;W<y.length;W++)Cs(h,y[W],w,T,B);else T=p(T)?!!T.capture:!!T,w=qo(w),h&&h[Ue]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],w=Hr(W,w,T,B),-1<w&&(Tt(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=ks(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Hr(y,w,T,B)),(w=-1<h?y[h]:null)&&_r(w))}function _r(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ue])Ss(y.i,h);else{var w=h.type,T=h.proxy;y.removeEventListener?y.removeEventListener(w,T,h.capture):y.detachEvent?y.detachEvent(vr(w),T):y.addListener&&y.removeListener&&y.removeListener(T),(w=ks(y))?(Ss(w,h),w.h==0&&(w.src=null,y[Pi]=null)):Tt(h)}}}function vr(h){return h in Ts?Ts[h]:Ts[h]="on"+h}function Wo(h,y){if(h.da)h=!0;else{y=new xe(y,this);var w=h.listener,T=h.ha||h.src;h.fa&&_r(h),h=w.call(T,y)}return h}function ks(h){return h=h[Pi],h instanceof yr?h:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(h){return typeof h=="function"?h:(h[Is]||(h[Is]=function(y){return h.handleEvent(y)}),h[Is])}function yt(){Q.call(this),this.i=new yr(this),this.M=this,this.F=null}k(yt,Q),yt.prototype[Ue]=!0,yt.prototype.removeEventListener=function(h,y,w,T){Cs(this,h,y,w,T)};function _t(h,y){var w,T=h.F;if(T)for(w=[];T;T=T.F)w.push(T);if(h=h.M,T=y.type||y,typeof y=="string")y=new fe(y,h);else if(y instanceof fe)y.target=y.target||h;else{var B=y;y=new fe(T,h),M(y,B)}if(B=!0,w)for(var W=w.length-1;0<=W;W--){var ie=y.g=w[W];B=wr(ie,T,!0,y)&&B}if(ie=y.g=h,B=wr(ie,T,!0,y)&&B,B=wr(ie,T,!1,y)&&B,w)for(W=0;W<w.length;W++)ie=y.g=w[W],B=wr(ie,T,!1,y)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var w=h.g[y],T=0;T<w.length;T++)Tt(w[T]);delete h.g[y],h.h--}}this.F=null},yt.prototype.K=function(h,y,w,T){return this.i.add(String(h),y,!1,w,T)},yt.prototype.L=function(h,y,w,T){return this.i.add(String(h),y,!0,w,T)};function wr(h,y,w,T){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,W=0;W<y.length;++W){var ie=y[W];if(ie&&!ie.da&&ie.capture==w){var We=ie.listener,vt=ie.ha||ie.src;ie.fa&&Ss(h.i,ie),B=We.call(vt,T)!==!1&&B}}return B&&!T.defaultPrevented}function Ko(h,y,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function Wr(h){h.g=Ko(()=>{h.g=null,h.i&&(h.i=!1,Wr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Di extends Q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(h){Q.call(this),this.h=h,this.g={}}k(Mi,Q);var Qo=[];function Go(h){ee(h.g,function(y,w){this.g.hasOwnProperty(w)&&_r(y)},h),h.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Go(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yo=c.JSON.stringify,Xo=c.JSON.parse,Jo=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Li(){}Li.prototype.h=null;function As(h){return h.h||(h.h=h.i())}function bs(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){fe.call(this,"d")}k(Gn,fe);function Rs(){fe.call(this,"c")}k(Rs,fe);var Yn={},Zo=null;function Oi(){return Zo=Zo||new yt}Yn.La="serverreachability";function ea(h){fe.call(this,Yn.La,h)}k(ea,fe);function Er(h){const y=Oi();_t(y,new ea(y))}Yn.STAT_EVENT="statevent";function ta(h,y){fe.call(this,Yn.STAT_EVENT,h),this.stat=y}k(ta,fe);function ut(h){const y=Oi();_t(y,new ta(y,h))}Yn.Ma="timingevent";function Ps(h,y){fe.call(this,Yn.Ma,h),this.size=y}k(Ps,fe);function Mn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Ni(){this.g=!0}Ni.prototype.xa=function(){this.g=!1};function Vi(h,y,w,T,B,W){h.info(function(){if(h.g)if(W)for(var ie="",We=W.split("&"),vt=0;vt<We.length;vt++){var De=We[vt].split("=");if(1<De.length){var Ct=De[0];De=De[1];var pt=Ct.split("_");ie=2<=pt.length&&pt[1]=="type"?ie+(Ct+"="+De+"&"):ie+(Ct+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+w+`
`+ie})}function Ds(h,y,w,T,B,W,ie){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+w+`
`+W+" "+ie})}function Ln(h,y,w,T){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ah(h,w)+(T?" "+T:"")})}function na(h,y){h.info(function(){return"TIMEOUT: "+y})}Ni.prototype.info=function(){};function ah(h,y){if(!h.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var T=w[h];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Yo(w)}catch{return y}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Fi(){}k(Fi,Li),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},On=new Fi;function Nn(h,y,w,T){this.j=h,this.i=y,this.l=w,this.R=T||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var ra={},Ls={};function Os(h,y,w){h.L=1,h.v=Yr(fn(y)),h.m=w,h.P=!0,ia(h,null)}function ia(h,y){h.F=Date.now(),Ge(h),h.A=fn(h.v);var w=h.A,T=h.R;Array.isArray(T)||(T=[String(T)]),Jr(w.i,"t",T),h.C=0,w=h.j.J,h.h=new Dl,h.g=Yl(h.j,w?y:null,!h.m),0<h.O&&(h.M=new Di(E(h.Y,h,h.g),h.O)),y=h.U,w=h.g,T=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(Qo[0]=B.toString()),B=Qo);for(var W=0;W<B.length;W++){var ie=$o(w,B[W],T||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Er(),Vi(h.i,h.u,h.A,h.l,h.R,h.m)}Nn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Zt(h)==3?y.j():this.Y(h)},Nn.prototype.Y=function(h){try{if(h==this.g)e:{const pt=Zt(this.g);var y=this.g.Ba();const En=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||pt!=4||y==7||(y==8||0>=En?Er(3):Er(2)),zi(this);var w=this.g.Z();this.X=w;t:if(Ml(this)){var T=ca(this.g);h="";var B=T.length,W=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),qr(this);var ie="";break t}this.h.i=new c.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,h+=this.h.i.decode(T[y],{stream:!(W&&y==B-1)});T.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=w==200,Ds(this.i,this.u,this.A,this.l,this.R,pt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,vt=this.g;if((We=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(We)){var De=We;break t}}De=null}if(w=De)Ln(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,w);else{this.o=!1,this.s=3,ut(12),vn(this),qr(this);break e}}if(this.P){w=!0;let pn;for(;!this.J&&this.C<ie.length;)if(pn=lh(this,ie),pn==Ls){pt==4&&(this.s=4,ut(14),w=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ra){this.s=4,ut(15),Ln(this.i,this.l,ie,"[Invalid Chunk]"),w=!1;break}else Ln(this.i,this.l,pn,null),sa(this,pn);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)Ln(this.i,this.l,ie,"[Invalid Chunked Response]"),vn(this),qr(this);else if(0<ie.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),fa(Ct),Ct.M=!0,ut(11))}}else Ln(this.i,this.l,ie,null),sa(this,ie);pt==4&&vn(this),this.o&&!this.J&&(pt==4?qs(this.j,this):(this.o=!1,Ge(this)))}else js(this.g),w==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),vn(this),qr(this)}}}catch{}finally{}};function Ml(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function lh(h,y){var w=h.C,T=y.indexOf(`
`,w);return T==-1?Ls:(w=Number(y.substring(w,T)),isNaN(w)?ra:(T+=1,T+w>y.length?Ls:(y=y.slice(T,T+w),h.C=T+w,y)))}Nn.prototype.cancel=function(){this.J=!0,vn(this)};function Ge(h){h.S=Date.now()+h.I,Ll(h,h.I)}function Ll(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Mn(E(h.ba,h),y)}function zi(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Nn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(na(this.i,this.A),this.L!=2&&(Er(),ut(17)),vn(this),this.s=2,qr(this)):Ll(this,this.S-h)};function qr(h){h.j.G==0||h.J||qs(h.j,h)}function vn(h){zi(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Go(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function sa(h,y){try{var w=h.j;if(w.G!=0&&(w.g==h||Kt(w.h,h))){if(!h.K&&Kt(w.h,h)&&w.G==3){try{var T=w.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ws(w),jn(w);else break e;Hs(w),ut(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=Mn(E(w.Za,w),6e3));if(1>=Nl(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else kr(w,11)}else if((h.K||w.g==h)&&Ws(w),!U(y))for(B=w.Da.g.parse(y),y=0;y<B.length;y++){let De=B[y];if(w.T=De[0],De=De[1],w.G==2)if(De[0]=="c"){w.K=De[1],w.ia=De[2];const Ct=De[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const pt=De[4];pt!=null&&(w.Aa=pt,w.j.info("SVER="+w.Aa));const En=De[5];En!=null&&typeof En=="number"&&0<En&&(T=1.5*En,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const pn=h.g;if(pn){const qi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var W=T.h;W.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(oa(W,W.h),W.h=null))}if(T.D){const Qs=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,Ke(T.I,T.D,Qs))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var ie=h;if(T.qa=Gl(T,T.J?T.ia:null,T.W),ie.K){Vl(T.h,ie);var We=ie,vt=T.L;vt&&(We.I=vt),We.B&&(zi(We),Ge(We)),T.g=ie}else Wi(T);0<w.i.length&&er(w)}else De[0]!="stop"&&De[0]!="close"||kr(w,7);else w.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?kr(w,7):Mt(w):De[0]!="noop"&&w.l&&w.l.ta(De),w.v=0)}}Er(4)}catch{}}var Ol=class{constructor(h,y){this.g=h,this.map=y}};function Bi(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Nl(h){return h.h?1:h.g?h.g.size:0}function Kt(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function oa(h,y){h.g?h.g.add(y):h.h=y}function Vl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.D);return y}return b(h.i)}function Ns(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],w=h.length,T=0;T<w;T++)y.push(h[T]);return y}y=[],w=0;for(T in h)y[w++]=h[T];return y}function Vs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var w=0;w<h;w++)y.push(w);return y}y=[],w=0;for(const T in h)y[w++]=T;return y}}}function Kr(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var w=Vs(h),T=Ns(h),B=T.length,W=0;W<B;W++)y.call(void 0,T[W],w&&w[W],h)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(h,y){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var T=h[w].indexOf("="),B=null;if(0<=T){var W=h[w].substring(0,T);B=h[w].substring(T+1)}else W=h[w];y(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xr){this.h=h.h,Ui(this,h.j),this.o=h.o,this.g=h.g,Qr(this,h.s),this.l=h.l;var y=h.i,w=new Xn;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Gr(this,w),this.m=h.m}else h&&(y=String(h).match(ji))?(this.h=!1,Ui(this,y[1]||"",!0),this.o=Re(y[2]||""),this.g=Re(y[3]||"",!0),Qr(this,y[4]),this.l=Re(y[5]||"",!0),Gr(this,y[6]||"",!0),this.m=Re(y[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}xr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Xr(y,Fs,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xr(y,Fs,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Xr(w,w.charAt(0)=="/"?jl:Bl,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Xr(w,aa)),h.join("")};function fn(h){return new xr(h)}function Ui(h,y,w){h.j=w?Re(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Gr(h,y,w){y instanceof Xn?(h.i=y,Jn(h.i,h.h)):(w||(y=Xr(y,Ul)),h.i=new Xn(y,h.h))}function Ke(h,y,w){h.i.set(y,w)}function Yr(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Re(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xr(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,zl),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function zl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fs=/[#\/\?@]/g,Bl=/[#\?:]/g,jl=/[#\?]/g,Ul=/[#\?@]/g,aa=/#/g;function Xn(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dt(h){h.g||(h.g=new Map,h.h=0,h.i&&uh(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Xn.prototype,n.add=function(h,y){Dt(this),this.i=null,h=wn(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function Vn(h,y){Dt(h),y=wn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Fn(h,y){return Dt(h),y=wn(h,y),h.g.has(y)}n.forEach=function(h,y){Dt(this),this.g.forEach(function(w,T){w.forEach(function(B){h.call(y,B,T,this)},this)},this)},n.na=function(){Dt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let T=0;T<y.length;T++){const B=h[T];for(let W=0;W<B.length;W++)w.push(y[T])}return w},n.V=function(h){Dt(this);let y=[];if(typeof h=="string")Fn(this,h)&&(y=y.concat(this.g.get(wn(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)y=y.concat(h[w])}return y},n.set=function(h,y){return Dt(this),this.i=null,h=wn(this,h),Fn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Jr(h,y,w){Vn(h,y),0<w.length&&(h.i=null,h.g.set(wn(h,y),b(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var T=y[w];const W=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var B=W;ie[T]!==""&&(B+="="+encodeURIComponent(String(ie[T]))),h.push(B)}}return this.i=h.join("&")};function wn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Jn(h,y){y&&!h.j&&(Dt(h),h.i=null,h.g.forEach(function(w,T){var B=T.toLowerCase();T!=B&&(Vn(this,T),Jr(this,B,w))},h)),h.j=y}function ch(h,y){const w=new Ni;if(c.Image){const T=new Image;T.onload=S(Jt,w,"TestLoadImage: loaded",!0,y,T),T.onerror=S(Jt,w,"TestLoadImage: error",!1,y,T),T.onabort=S(Jt,w,"TestLoadImage: abort",!1,y,T),T.ontimeout=S(Jt,w,"TestLoadImage: timeout",!1,y,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else y(!1)}function $l(h,y){const w=new Ni,T=new AbortController,B=setTimeout(()=>{T.abort(),Jt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:T.signal}).then(W=>{clearTimeout(B),W.ok?Jt(w,"TestPingServer: ok",!0,y):Jt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Jt(w,"TestPingServer: error",!1,y)})}function Jt(h,y,w,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(w)}catch{}}function hh(){this.g=new Jo}function Hl(h,y,w){const T=w||"";try{Kr(h,function(B,W){let ie=B;p(B)&&(ie=Yo(B)),y.push(T+W+"="+encodeURIComponent(ie))})}catch(B){throw y.push(T+"type="+encodeURIComponent("_badmap")),B}}function Sr(h){this.l=h.Ub||null,this.j=h.eb||!1}k(Sr,Li),Sr.prototype.g=function(){return new $i(this.l,this.j)},Sr.prototype.i=function(h){return function(){return h}}({});function $i(h,y){yt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k($i,yt),n=$i.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Bn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?zn(this):Bn(this),this.readyState==3&&Wl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,zn(this))},n.Qa=function(h){this.g&&(this.response=h,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Bn(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function Bn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tr(h){let y="";return ee(h,function(w,T){y+=T,y+=":",y+=w,y+=`\r
`}),y}function Zr(h,y,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=Tr(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):Ke(h,y,w))}function et(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(et,yt);var fh=/^https?$/i,la=["POST","PUT"];n=et.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?As(this.o):As(On),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){Hi(this,W);return}if(h=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)w.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())w.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(la,y,void 0))||T||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of w)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Hi(this,W)}};function Hi(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,zs(h),dn(h)}function zs(h){h.A||(h.A=!0,_t(h,"complete"),_t(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,_t(this,"complete"),_t(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Zt(h)!=4||h.Z()!=2)){if(h.u&&Zt(h)==4)Ko(h.Ea,0,h);else if(_t(h,"readystatechange"),Zt(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var T;if(T=ie===0){var B=String(h.D).match(ji)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),T=!fh.test(B?B.toLowerCase():"")}w=T}if(w)_t(h,"complete"),_t(h,"success");else{h.m=6;try{var W=2<Zt(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",zs(h)}}finally{dn(h)}}}}function dn(h,y){if(h.g){Bs(h);const w=h.g,T=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||_t(h,"ready");try{w.onreadystatechange=T}catch{}}}function Bs(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Zt(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xo(y)}};function ca(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function js(h){const y={};h=(h.g&&2<=Zt(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<h.length;T++){if(U(h[T]))continue;var w=L(h[T]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=y[B]||[];y[B]=W,W.push(w)}R(y,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function ha(h){this.Aa=0,this.i=[],this.j=new Ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,h),this.cb=Zn("retryDelaySeedMs",1e4,h),this.Wa=Zn("forwardChannelMaxRetries",2,h),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new hh,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(h,y,w,T){ut(0),this.W=h,this.H=y||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=Gl(this,null,this.W),er(this)};function Mt(h){if(Us(h),h.G==3){var y=h.U++,w=fn(h.I);if(Ke(w,"SID",h.K),Ke(w,"RID",y),Ke(w,"TYPE","terminate"),Cr(h,w),y=new Nn(h,h.j,y),y.L=2,y.v=Yr(fn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=Yl(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ge(y)}Ql(h)}function jn(h){h.g&&(fa(h),h.g.cancel(),h.g=null)}function Us(h){jn(h),h.u&&(c.clearTimeout(h.u),h.u=null),Ws(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function er(h){if(!hn(h.h)&&!h.s){h.s=!0;var y=h.Ga;ke||oe(),re||(ke(),re=!0),ge.add(y,h),h.B=0}}function dh(h,y){return Nl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Mn(E(h.Ga,h,y),Kl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new Nn(this,this.j,h);let W=this.o;if(this.S&&(W?(W=C(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ei(this,B,y),w=fn(this.I),Ke(w,"RID",h),Ke(w,"CVER",22),this.D&&Ke(w,"X-HTTP-Session-Id",this.D),Cr(this,w),W&&(this.O?y="headers="+encodeURIComponent(String(Tr(W)))+"&"+y:this.m&&Zr(w,this.m,W)),oa(this.h,B),this.Ua&&Ke(w,"TYPE","init"),this.P?(Ke(w,"$req",y),Ke(w,"SID","null"),B.T=!0,Os(B,w,null)):Os(B,w,y),this.G=2}}else this.G==3&&(h?$s(this,h):this.i.length==0||hn(this.h)||$s(this))};function $s(h,y){var w;y?w=y.l:w=h.U++;const T=fn(h.I);Ke(T,"SID",h.K),Ke(T,"RID",w),Ke(T,"AID",h.T),Cr(h,T),h.m&&h.o&&Zr(T,h.m,h.o),w=new Nn(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),y&&(h.i=y.D.concat(h.i)),y=ei(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),oa(h.h,w),Os(w,T,y)}function Cr(h,y){h.H&&ee(h.H,function(w,T){Ke(y,T,w)}),h.l&&Kr({},function(w,T){Ke(y,T,w)})}function ei(h,y,w){w=Math.min(h.i.length,w);var T=h.l?E(h.l.Na,h.l,h):null;e:{var B=h.i;let W=-1;for(;;){const ie=["count="+w];W==-1?0<w?(W=B[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let We=!0;for(let vt=0;vt<w;vt++){let De=B[vt].g;const Ct=B[vt].map;if(De-=W,0>De)W=Math.max(0,B[vt].g-100),We=!1;else try{Hl(Ct,ie,"req"+De+"_")}catch{T&&T(Ct)}}if(We){T=ie.join("&");break e}}}return h=h.i.splice(0,w),y.D=h,T}function Wi(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ke||oe(),re||(ke(),re=!0),ge.add(y,h),h.v=0}}function Hs(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Mn(E(h.Fa,h),Kl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Mn(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),jn(this),ql(this))};function fa(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function ql(h){h.g=new Nn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=fn(h.qa);Ke(y,"RID","rpc"),Ke(y,"SID",h.K),Ke(y,"AID",h.T),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(y,"TO",h.ja),Ke(y,"TYPE","xmlhttp"),Cr(h,y),h.m&&h.o&&Zr(y,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Yr(fn(y)),w.m=null,w.P=!0,ia(w,h)}n.Za=function(){this.C!=null&&(this.C=null,jn(this),Hs(this),ut(19))};function Ws(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function qs(h,y){var w=null;if(h.g==y){Ws(h),fa(h),h.g=null;var T=2}else if(Kt(h.h,y))w=y.D,Vl(h.h,y),T=1;else return;if(h.G!=0){if(y.o)if(T==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var B=h.B;T=Oi(),_t(T,new Ps(T,w)),er(h)}else Wi(h);else if(B=y.s,B==3||B==0&&0<y.X||!(T==1&&dh(h,y)||T==2&&Hs(h)))switch(w&&0<w.length&&(y=h.h,y.i=y.i.concat(w)),B){case 1:kr(h,5);break;case 4:kr(h,10);break;case 3:kr(h,6);break;default:kr(h,2)}}}function Kl(h,y){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*y}function kr(h,y){if(h.j.info("Error code "+y),y==2){var w=E(h.fb,h),T=h.Xa;const B=!T;T=new xr(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ui(T,"https"),Yr(T),B?ch(T.toString(),w):$l(T.toString(),w)}else ut(2);h.G=0,h.l&&h.l.sa(y),Ql(h),Us(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ql(h){if(h.G=0,h.ka=[],h.l){const y=Fl(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ka,y),I(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function Gl(h,y,w){var T=w instanceof xr?fn(w):new xr(w);if(T.g!="")y&&(T.g=y+"."+T.g),Qr(T,T.s);else{var B=c.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var W=new xr(null);T&&Ui(W,T),y&&(W.g=y),B&&Qr(W,B),w&&(W.l=w),T=W}return w=h.D,y=h.ya,w&&y&&Ke(T,w,y),Ke(T,"VER",h.la),Cr(h,T),T}function Yl(h,y,w){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new et(new Sr({eb:w})):new et(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}n=da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ks(){}Ks.prototype.g=function(h,y){return new Qt(h,y)};function Qt(h,y){yt.call(this),this.g=new ha(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!U(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new tr(this)}k(Qt,yt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Mt(this.g)},Qt.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Yo(h),h=w);y.i.push(new Ol(y.Ya++,h)),y.G==3&&er(y)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Qt.aa.N.call(this)};function Xl(h){Gn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}k(Xl,Gn);function Jl(){Rs.call(this),this.status=1}k(Jl,Rs);function tr(h){this.g=h}k(tr,da),tr.prototype.ua=function(){_t(this.g,"a")},tr.prototype.ta=function(h){_t(this.g,new Xl(h))},tr.prototype.sa=function(h){_t(this.g,new Jl)},tr.prototype.ra=function(){_t(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,x0=function(){return new Ks},E0=function(){return Oi()},w0=Yn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,vc=Ms,Pl.COMPLETE="complete",v0=Pl,bs.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ya=bs,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,_0=et}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const v_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new h0("@firebase/firestore");function yo(){return vs.logLevel}function le(n,...e){if(vs.logLevel<=Le.DEBUG){const t=e.map(hp);vs.debug(`Firestore (${zo}): ${n}`,...t)}}function Ur(n,...e){if(vs.logLevel<=Le.ERROR){const t=e.map(hp);vs.error(`Firestore (${zo}): ${n}`,...t)}}function bo(n,...e){if(vs.logLevel<=Le.WARN){const t=e.map(hp);vs.warn(`Firestore (${zo}): ${n}`,...t)}}function hp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function st(n,e){n||Ce()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Fo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class BI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ms)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new S0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Ht(e)}}class UI{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $I{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new UI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){st(this.o===void 0);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new HI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=qI(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function Ro(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new cn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new cn(0,0))}static max(){return new Se(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(),r===void 0?r=e.length-t:r>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ur.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=ur.isNumericId(e),s=ur.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ur.extractNumericId(e).compare(ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class at extends ur{construct(e,t,r){return new at(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new at(t)}static emptyPath(){return new at([])}}const QI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends ur{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return QI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function GI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new cn(t+1,0):new cn(t,r));return new ki(s,ve.empty(),e)}function YI(n){return new ki(n.readTime,n.key,-1)}class ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ki(Se.min(),ve.empty(),-1)}static max(){return new ki(Se.max(),ve.empty(),-1)}}function XI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==JI)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&t()},f=>r(f))}),l=!0,a===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,t){return new X((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function eA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yc.oe=-1;function Xc(n){return n==null}function kd(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=w_(e)),e=nA(n.get(t),e);return w_(e)}function nA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function w_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Nt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new _i([])}unionWith(e){let t=new St(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new T0("Invalid base64 string: "+a):a}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const iA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(st(!!n),typeof n=="string"){let e=0;const t=iA.exec(n);if(st(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ai(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jc(n){const e=n.mapValue.fields.__previous_value__;return fp(e)?Jc(e):e}function _l(n){const e=Ii(n.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,r,s,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fp(n)?4:aA(n)?9007199254740991:oA(n)?10:11:Ce()}function pr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ii(s.timestampValue),c=Ii(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Ai(s.bytesValue).isEqual(Ai(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ht(s.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ht(s.integerValue)===ht(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ht(s.doubleValue),c=ht(a.doubleValue);return l===c?kd(l)===kd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ro(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(E_(l)!==E_(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!pr(l[f],c[f])))return!1;return!0}(n,e);default:return Ce()}}function wl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Po(n,e){if(n===e)return 0;const t=bi(n),r=bi(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=ht(a.integerValue||a.doubleValue),f=ht(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return S_(n.timestampValue,e.timestampValue);case 4:return S_(_l(n),_l(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ai(a),f=Ai(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Oe(c[p],f[p]);if(m!==0)return m}return Oe(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Oe(ht(a.latitude),ht(l.latitude));return c!==0?c:Oe(ht(a.longitude),ht(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return T_(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,m;const v=a.fields||{},E=l.fields||{},S=(c=v.value)===null||c===void 0?void 0:c.arrayValue,k=(f=E.value)===null||f===void 0?void 0:f.arrayValue,b=Oe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:T_(S,k)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===uc.mapValue&&l===uc.mapValue)return 0;if(a===uc.mapValue)return 1;if(l===uc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const E=Oe(f[v],m[v]);if(E!==0)return E;const S=Po(c[f[v]],p[m[v]]);if(S!==0)return S}return Oe(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function S_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ii(n),r=Ii(e),s=Oe(t.seconds,r.seconds);return s!==0?s:Oe(t.nanos,r.nanos)}function T_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Po(t[s],r[s]);if(a)return a}return Oe(t.length,r.length)}function Do(n){return Id(n)}function Id(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ii(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ai(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Id(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Id(t.fields[l])}`;return s+"}"}(n.mapValue):Ce()}function wc(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jc(n);return e?16+wc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ai(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+wc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return kl(r.fields,(a,l)=>{s+=a.length+wc(l)}),s}(n.mapValue);default:throw Ce()}}function Ad(n){return!!n&&"integerValue"in n}function dp(n){return!!n&&"arrayValue"in n}function C_(n){return!!n&&"nullValue"in n}function k_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ed(n){return!!n&&"mapValue"in n}function oA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=Xt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=sl(l):s.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ed(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){kl(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new cr(sl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),cr.empty(),0)}static newFoundDocument(e,t,r,s){return new Wt(e,1,t,Se.min(),r,s,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.position=e,this.inclusive=t}}function I_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Po(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function A_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function lA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class xt extends C0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cA(e,t,r):t==="array-contains"?new dA(e,r):t==="in"?new pA(e,r):t==="not-in"?new gA(e,r):t==="array-contains-any"?new mA(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hA(e,r):new fA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Po(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends C0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new gr(e,t)}matches(e){return k0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k0(n){return n.op==="and"}function I0(n){return uA(n)&&k0(n)}function uA(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function bd(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(I0(n))return n.filters.map(e=>bd(e)).join(",");{const e=n.filters.map(t=>bd(t)).join(",");return`${n.op}(${e})`}}function A0(n,e){return n instanceof xt?function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(n,e):n instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&A0(l,s.filters[c]),!0):!1}(n,e):void Ce()}function b0(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(b0).join(" ,")+"}"}(n):"Filter"}class cA extends xt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class hA extends xt{constructor(e,t){super(e,"in",t),this.keys=R0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fA extends xt{constructor(e,t){super(e,"not-in",t),this.keys=R0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class dA extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dp(t)&&wl(t.arrayValue,this.value)}}class pA extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wl(this.value.arrayValue,t)}}class gA extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wl(this.value.arrayValue,t)}}class mA extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function b_(n,e=null,t=[],r=[],s=null,a=null,l=null){return new yA(n,e,t,r,s,a,l)}function pp(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bd(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Do(r)).join(",")),e.ue=t}return e.ue}function gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!A0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A_(n.startAt,e.startAt)&&A_(n.endAt,e.endAt)}function Rd(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _A(n,e,t,r,s,a,l,c){return new Zc(n,e,t,r,s,a,l,c)}function P0(n){return new Zc(n)}function R_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vA(n){return n.collectionGroup!==null}function ol(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new St(Xt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vc(a,r))}),t.has(Xt.keyField().canonicalString())||e.ce.push(new Vc(Xt.keyField(),r))}return e.ce}function fr(n){const e=Ve(n);return e.le||(e.le=wA(e,ol(n))),e.le}function wA(n,e){if(n.limitType==="F")return b_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Vc(s.field,a)});const t=n.endAt?new Nc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Nc(n.startAt.position,n.startAt.inclusive):null;return b_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pd(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eh(n,e){return gp(fr(n),fr(e))&&n.limitType===e.limitType}function D0(n){return`${pp(fr(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>b0(s)).join(", ")}]`),Xc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Do(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Do(s)).join(",")),`Target(${r})`}(fr(n))}; limitType=${n.limitType})`}function th(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of ol(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const p=I_(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,ol(r),s)||r.endAt&&!function(l,c,f){const p=I_(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,ol(r),s))}(n,e)}function EA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M0(n){return(e,t)=>{let r=!1;for(const s of ol(n)){const a=xA(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function xA(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Po(f,p):Ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){kl(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new dt(ve.comparator);function Ri(){return SA}const L0=new dt(ve.comparator);function Xa(...n){let e=L0;for(const t of n)e=e.insert(t.key,t);return e}function TA(n){let e=L0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ps(){return al()}function O0(){return al()}function al(){return new xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const CA=new St(ve.comparator);function ze(...n){let e=CA;for(const t of n)e=e.add(t);return e}const kA=new St(Oe);function IA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function bA(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function RA(n,e,t){return n instanceof Dd?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&fp(a)&&(a=Jc(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Fc?N0(n,e):n instanceof zc?V0(n,e):function(s,a){const l=DA(s,a),c=P_(l)+P_(s.Pe);return Ad(l)&&Ad(s.Pe)?bA(c):AA(s.serializer,c)}(n,e)}function PA(n,e,t){return n instanceof Fc?N0(n,e):n instanceof zc?V0(n,e):t}function DA(n,e){return n instanceof Md?function(r){return Ad(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Dd extends nh{}class Fc extends nh{constructor(e){super(),this.elements=e}}function N0(n,e){const t=F0(e);for(const r of n.elements)t.some(s=>pr(s,r))||t.push(r);return{arrayValue:{values:t}}}class zc extends nh{constructor(e){super(),this.elements=e}}function V0(n,e){let t=F0(e);for(const r of n.elements)t=t.filter(s=>!pr(s,r));return{arrayValue:{values:t}}}class Md extends nh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function P_(n){return ht(n.integerValue||n.doubleValue)}function F0(n){return dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MA(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Fc&&s instanceof Fc||r instanceof zc&&s instanceof zc?Ro(r.elements,s.elements,pr):r instanceof Md&&s instanceof Md?pr(r.Pe,s.Pe):r instanceof Dd&&s instanceof Dd}(n.transform,e.transform)}class ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mp{}function z0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new OA(n.key,ys.none()):new yp(n.key,n.data,ys.none());{const t=n.data,r=cr.empty();let s=new St(Xt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new rh(n.key,r,new _i(s.toArray()),ys.none())}}function LA(n,e,t){n instanceof yp?function(s,a,l){const c=s.value.clone(),f=M_(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof rh?function(s,a,l){if(!Ec(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=M_(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(B0(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,r){return n instanceof yp?function(a,l,c,f){if(!Ec(a.precondition,l))return c;const p=a.value.clone(),m=L_(a.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof rh?function(a,l,c,f){if(!Ec(a.precondition,l))return c;const p=L_(a.fieldTransforms,f,l),m=l.data;return m.setAll(B0(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,c){return Ec(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function D_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ro(r,s,(a,l)=>MA(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yp extends mp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rh extends mp{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function B0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M_(n,e,t){const r=new Map;st(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,PA(l,c,t[s]))}return r}function L_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,RA(a,l,e))}return r}class OA extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&LA(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=O0();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const f=z0(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,r)=>D_(t,r))&&Ro(this.baseMutations,e.baseMutations,(t,r)=>D_(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Me;function j0(n){if(n===void 0)return Ur("GRPC error has no .code"),se.UNKNOWN;switch(n){case mt.OK:return se.OK;case mt.CANCELLED:return se.CANCELLED;case mt.UNKNOWN:return se.UNKNOWN;case mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case mt.INTERNAL:return se.INTERNAL;case mt.UNAVAILABLE:return se.UNAVAILABLE;case mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case mt.NOT_FOUND:return se.NOT_FOUND;case mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case mt.ABORTED:return se.ABORTED;case mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case mt.DATA_LOSS:return se.DATA_LOSS;default:return Ce()}}(Me=mt||(mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Si([4294967295,4294967295],0);function O_(n){const e=zA().encode(n),t=new y0;return t.update(e),new Uint8Array(t.digest())}function N_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Si([t,r],0),new Si([s,a],0)]}class _p{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ja(`Invalid padding: ${t}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Si.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Si.fromNumber(r)));return s.compare(BA)===1&&(s=new Si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=O_(e),[r,s]=N_(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new _p(a,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=O_(e),[r,s]=N_(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ih(Se.min(),s,new dt(Oe),Ri(),ze())}}class Il{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Il(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class U0{constructor(e,t){this.targetId=e,this.me=t}}class $0{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class V_{constructor(){this.fe=0,this.ge=F_(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),r=ze();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new Il(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=F_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jA{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ri(),this.qe=cc(),this.Qe=cc(),this.Ke=new dt(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Rd(a))if(r===0){const l=new ve(a.path);this.We(t,l,Wt.newNoDocument(l,Se.min()))}else st(r===1);else{const l=this.Ze(t);if(l!==r){const c=this.Xe(e),f=c?this.et(c,e,l):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=Ai(r).toUint8Array()}catch(f){if(f instanceof T0)return bo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new _p(l,s,a)}catch(f){return bo(f instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&Rd(c.target)){const f=new ve(c.target.path);this.st(f).has(l)||this.ot(l,f)||this.We(l,f,Wt.newNoDocument(f,e))}a.be&&(t.set(l,a.ve()),a.Ce())}});let r=ze();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new ih(e,t,this.Ke,this.ke,r);return this.ke=Ri(),this.qe=cc(),this.Qe=cc(),this.Ke=new dt(Oe),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new V_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new St(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new V_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function cc(){return new dt(ve.comparator)}function F_(){return new dt(ve.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},$A={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class WA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ld(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function qA(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function So(n){return st(!!n),Se.fromTimestamp(function(t){const r=Ii(t);return new cn(r.seconds,r.nanos)}(n))}function QA(n,e){return Od(n,e).canonicalString()}function Od(n,e){const t=function(s){return new at(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function H0(n){const e=at.fromString(n);return st(G0(e)),e}function td(n,e){const t=H0(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(q0(t))}function W0(n,e){return QA(n.databaseId,e)}function GA(n){const e=H0(n);return e.length===4?at.emptyPath():q0(e)}function z_(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q0(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function YA(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(st(m===void 0||typeof m=="string"),Vt.fromBase64String(m||"")):(st(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Vt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?se.UNKNOWN:j0(p.code);return new _e(m,p.message||"")}(l);t=new $0(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=td(n,r.document.name),a=So(r.document.updateTime),l=r.document.createTime?So(r.document.createTime):Se.min(),c=new cr({mapValue:{fields:r.document.fields}}),f=Wt.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];t=new xc(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=td(n,r.document),a=r.readTime?So(r.readTime):Se.min(),l=Wt.newNoDocument(s,a),c=r.removedTargetIds||[];t=new xc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=td(n,r.document),a=r.removedTargetIds||[];t=new xc([],a,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new FA(s,a),c=r.targetId;t=new U0(c,l)}}return t}function XA(n,e){return{documents:[W0(n,e.path)]}}function JA(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=W0(n,s);const a=function(p){if(p.length!==0)return Q0(gr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(E){return{field:vo(E.field),direction:tb(E.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Ld(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function ZA(n){let e=GA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){st(r===1);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const E=K0(v);return E instanceof gr&&I0(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(k){return new Vc(wo(k.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Xc(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,S=v.values||[];return new Nc(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,S=v.values||[];return new Nc(S,E)}(t.endAt)),_A(e,s,l,a,c,"F",f,p)}function eb(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wo(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wo(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wo(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wo(t.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return xt.create(wo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gr.create(t.compositeFilter.filters.map(r=>K0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function tb(n){return UA[n]}function nb(n){return $A[n]}function rb(n){return HA[n]}function vo(n){return{fieldPath:n.canonicalString()}}function wo(n){return Xt.fromServerFormat(n.fieldPath)}function Q0(n){return n instanceof xt?function(t){if(t.op==="=="){if(k_(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(k_(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:nb(t.op),value:t.value}}}(n):n instanceof gr?function(t){const r=t.getFilters().map(s=>Q0(s));return r.length===1?r[0]:{compositeFilter:{op:rb(t.op),filters:r}}}(n):Ce()}function G0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,r,s,a=Se.min(),l=Se.min(),c=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.ht=e}}function sb(n){const e=ZA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.ln=new ab}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ki.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class ab{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new St(at.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Mo(0)}static Qn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_([n,e],[t,r]){const s=Oe(n,t);return s===0?Oe(e,r):s}class lb{constructor(e){this.Gn=e,this.buffer=new St(j_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();j_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ub{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Gc(t)}await this.Yn(3e5)})}}class cb{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Yc.oe);const r=new lb(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(B_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),yo()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function hb(n,e){return new cb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.changes=new xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ll(r.mutation,s,_i.empty(),cn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ze()){const s=ps();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Xa();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ps();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ze()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let a=Ri();const l=al(),c=function(){return al()}();return t.forEach((f,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof rh)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),ll(m.mutation,p,m.mutation.getFieldMask(),cn.now())):l.set(p.key,_i.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var v;return c.set(p,new db(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=al();let s=new dt((l,c)=>l-c),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||_i.empty();m=c.applyToLocalView(p,m),r.set(f,m);const v=(s.get(c.batchId)||ze()).add(f);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,v=O0();m.forEach(E=>{if(!a.has(E)){const S=z0(t.get(E),r.get(E));S!==null&&v.set(E,S),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):X.resolve(ps());let c=-1,f=a;return l.next(p=>X.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{f=f.insert(m,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,ze())).next(m=>({batchId:c,changes:TA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let s=Xa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Xa();return this.indexManager.getCollectionParents(e,a).next(c=>X.forEach(c,f=>{const p=function(v,E){return new Zc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(m=>{m.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Wt.newInvalidDocument(m)))});let c=Xa();return l.forEach((f,p)=>{const m=a.get(f);m!==void 0&&ll(m.mutation,p,_i.empty(),cn.now()),th(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:So(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:sb(s.bundledQuery),readTime:So(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.overlays=new dt(ve.comparator),this.dr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ps();return X.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=ps(),a=t.length+1,l=new ve(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new dt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=ps(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=ps(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=s)););return X.resolve(c)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new VA(t,r));let a=this.dr.get(t);a===void 0&&(a=ze(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Er=new St(bt.Ar),this.Rr=new St(bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new bt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new ve(new at([])),r=new bt(t,e),s=new bt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new at([])),r=new bt(t,e),s=new bt(t,e+1);let a=ze();return this.Rr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new bt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new St(bt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NA(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.vr=this.vr.add(new bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bt(t,0),s=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],l=>{const c=this.Cr(l.br);a.push(c)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Oe);return t.forEach(s=>{const a=new bt(s,0),l=new bt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{r=r.add(c.br)})}),X.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new bt(new ve(a),0);let c=new St(Oe);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.br)),!0)},l),X.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){st(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return X.forEach(t.mutations,s=>{const a=new bt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new bt(t,0),s=this.vr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.Nr=e,this.docs=function(){return new dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Wt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Ri();const l=t.path,c=new ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||XI(YI(m),r)<=0||(s.has(m.key)||th(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ce()}Br(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wb(this)}getSize(e){return X.resolve(this.size)}}class wb extends fb{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.persistence=e,this.Lr=new xs(t=>pp(t),gp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new vp,this.targetCount=0,this.Qr=Mo.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Yc(0),this.Ur=!1,this.Ur=!0,this.Wr=new yb,this.referenceDelegate=e(this),this.Gr=new Eb(this),this.indexManager=new ob,this.remoteDocumentCache=function(s){return new vb(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new ib(t),this.jr=new gb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new _b(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const s=new xb(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class xb extends ZI{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Zr=new vp,this.Xr=null}static ei(e){return new wp(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,r=>{const s=ve.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Bc{constructor(e,t){this.persistence=e,this.ri=new xs(r=>tA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hb(this,t)}static ei(e,t){return new Bc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?X.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,l=>this.ir(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wc(e.data.value)),t}ir(e,t,r){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=ze(),s=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ep(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wk()?8:eA(_k())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Sb;return this.ts(e,t,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(yo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(yo()<=Le.DEBUG&&le("QueryEngine","Query:",_o(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(yo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):X.resolve())}Xi(e,t){if(R_(t))return X.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Pd(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ze(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,c);return this.ss(t,p,l,f.readTime)?this.Xi(e,Pd(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return R_(t)||s.isEqual(Se.min())?X.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(t,a);return this.ss(t,l,r,s)?X.resolve(null):(yo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_o(t)),this.os(e,l,t,GI(s,-1)).next(c=>c))})}rs(e,t){let r=new St(M0(e));return t.forEach((s,a)=>{th(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return yo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",_o(t)),this.Zi.getDocumentsMatchingQuery(e,t,ki.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new dt(Oe),this.cs=new xs(a=>pp(a),gp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pb(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function kb(n,e,t,r){return new Cb(n,e,t,r)}async function X0(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=ze();for(const p of s){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function J0(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Ib(n,e){const t=Ve(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const c=[];e.targetChanges.forEach((m,v)=>{const E=s.get(v);if(!E)return;c.push(t.Gr.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,m.addedDocuments,v)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(v,S),function(b,I,N){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(E,S,m)&&c.push(t.Gr.updateTargetData(a,S))});let f=Ri(),p=ze();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(Ab(a,l,e.documentUpdates).next(m=>{f=m.Is,p=m.ds})),!r.isEqual(Se.min())){const m=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return X.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function Ab(n,e,t){let r=ze(),s=ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ri();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Is:l,ds:s}})}function bb(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,X.resolve(s)):t.Gr.allocateTargetId(r).next(l=>(s=new vi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Nd(n,e,t){const r=Ve(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Bo(l))throw l;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function U_(n,e,t){const r=Ve(n);let s=Se.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const v=Ve(f),E=v.cs.get(m);return E!==void 0?X.resolve(v.us.get(E)):v.Gr.getTargetData(p,m)}(r,l,fr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?s:Se.min(),t?a:ze())).next(c=>(Rb(r,EA(e),c),{documents:c,Es:a})))}function Rb(n,e,t){let r=n.ls.get(e)||Se.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class $_{constructor(){this.activeTargetIds=IA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pb{constructor(){this._o=new $_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new $_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function nd(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class Ob extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,l){const c=nd(),f=this.No(t,r.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(t,f,p,s).then(m=>(le("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw bo("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",f,"request:",s),m})}ko(t,r,s,a,l,c){return this.Oo(t,r,s,a,l)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}No(t,r){const s=Mb[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=nd();return new Promise((l,c)=>{const f=new _0;f.setWithCredentials(!0),f.listenOnce(v0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case vc.NO_ERROR:const m=f.getResponseJson();le(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case vc.TIMEOUT:le(Ut,`RPC '${e}' ${a} timed out`),c(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const v=f.getStatus();if(le(Ut,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const k=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(N)>=0?N:se.UNKNOWN}(S.status);c(new _e(k,S.message))}else c(new _e(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new _e(se.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{le(Ut,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);le(Ut,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=nd(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=x0(),c=E0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");le(Ut,`Creating RPC '${e}' stream ${s}: ${m}`,f);const v=l.createWebChannel(m,f);let E=!1,S=!1;const k=new Lb({Eo:I=>{S?le(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(E||(le(Ut,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),le(Ut,`RPC '${e}' stream ${s} sending:`,I),v.send(I))},Ao:()=>v.close()}),b=(I,N,U)=>{I.listen(N,q=>{try{U(q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return b(v,Ya.EventType.OPEN,()=>{S||(le(Ut,`RPC '${e}' stream ${s} transport opened.`),k.So())}),b(v,Ya.EventType.CLOSE,()=>{S||(S=!0,le(Ut,`RPC '${e}' stream ${s} transport closed`),k.Do())}),b(v,Ya.EventType.ERROR,I=>{S||(S=!0,bo(Ut,`RPC '${e}' stream ${s} transport errored:`,I),k.Do(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),b(v,Ya.EventType.MESSAGE,I=>{var N;if(!S){const U=I.data[0];st(!!U);const q=U,Y=(q==null?void 0:q.error)||((N=q[0])===null||N===void 0?void 0:N.error);if(Y){le(Ut,`RPC '${e}' stream ${s} received error:`,Y);const G=Y.status;let ee=function(A){const M=mt[A];if(M!==void 0)return j0(M)}(G),R=Y.message;ee===void 0&&(ee=se.INTERNAL,R="Unknown error status: "+G+" with message "+Y.message),S=!0,k.Do(new _e(ee,R)),v.close()}else le(Ut,`RPC '${e}' stream ${s} received:`,U),k.vo(U)}}),b(c,w0.STAT_EVENT,I=>{I.stat===Cd.PROXY?le(Ut,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Cd.NOPROXY&&le(Ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){return new WA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,r,s,a,l,c,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ew(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new _e(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vb extends Nb{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=YA(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?So(l.readTime):Se.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=z_(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Rd(f)?{documents:XA(a,f)}:{query:JA(a,f).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=KA(a,l.resumeToken);const p=Ld(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Se.min())>0){c.readTime=qA(a,l.snapshotVersion.toTimestamp());const p=Ld(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=eb(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=z_(this.serializer),t.removeTarget=e,this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,Od(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(se.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Od(t,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(se.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class zb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{bl(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Ve(f);p.k_.add(4),await Al(p),p.K_.set("Unknown"),p.k_.delete(4),await sh(p)}(this))})}),this.K_=new zb(r,s)}}async function sh(n){if(bl(n))for(const e of n.q_)await e(!0)}async function Al(n){for(const e of n.q_)await e(!1)}function tw(n,e){const t=Ve(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Cp(t)?Tp(t):jo(t).s_()&&Sp(t,e))}function xp(n,e){const t=Ve(n),r=jo(t);t.L_.delete(e),r.s_()&&nw(t,e),t.L_.size===0&&(r.s_()?r.a_():bl(t)&&t.K_.set("Unknown"))}function Sp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(n).V_(e)}function nw(n,e){n.U_.xe(e),jo(n).m_(e)}function Tp(n){n.U_=new jA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),jo(n).start(),n.K_.F_()}function Cp(n){return bl(n)&&!jo(n).i_()&&n.L_.size>0}function bl(n){return Ve(n).k_.size===0}function rw(n){n.U_=void 0}async function jb(n){n.K_.set("Online")}async function Ub(n){n.L_.forEach((e,t)=>{Sp(n,e)})}async function $b(n,e){rw(n),Cp(n)?(n.K_.O_(e),Tp(n)):n.K_.set("Unknown")}async function Hb(n,e,t){if(n.K_.set("Online"),e instanceof $0&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.L_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.L_.delete(c),s.U_.removeTarget(c))}(n,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await W_(n,r)}else if(e instanceof xc?n.U_.$e(e):e instanceof U0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const r=await J0(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.L_.get(p);m&&a.L_.set(p,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const m=a.L_.get(f);if(!m)return;a.L_.set(f,m.withResumeToken(Vt.EMPTY_BYTE_STRING,m.snapshotVersion)),nw(a,f);const v=new vi(m.target,f,p,m.sequenceNumber);Sp(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await W_(n,r)}}async function W_(n,e,t){if(!Bo(e))throw e;n.k_.add(1),await Al(n),n.K_.set("Offline"),t||(t=()=>J0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await sh(n)})}async function q_(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=bl(t);t.k_.add(3),await Al(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await sh(t)}async function Wb(n,e){const t=Ve(n);e?(t.k_.delete(2),await sh(t)):e||(t.k_.add(2),await Al(t),t.K_.set("Unknown"))}function jo(n){return n.W_||(n.W_=function(t,r,s){const a=Ve(t);return a.b_(),new Vb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:jb.bind(null,n),mo:Ub.bind(null,n),po:$b.bind(null,n),R_:Hb.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Cp(n)?Tp(n):n.K_.set("Unknown")):(await n.W_.stop(),rw(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new kp(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Bo(n))return new _e(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Xa(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.z_=new dt(ve.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lo{constructor(e,t,r,s,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Lo(e,t,To.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Kb{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Ve(t),a=s.queries;s.queries=Q_(),a.forEach((l,c)=>{for(const f of c.J_)f.onError(r)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function Q_(){return new xs(n=>D0(n),eh)}async function Qb(n,e){const t=Ve(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new qb,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=iw(l,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Ip(t)}async function Gb(n,e){const t=Ve(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Yb(n,e){const t=Ve(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.J_)c.ta(s)&&(r=!0);l.H_=s}}r&&Ip(t)}function Xb(n,e,t){const r=Ve(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function Ip(n){n.X_.forEach(e=>{e.next()})}var Vd,G_;(G_=Vd||(Vd={})).na="default",G_.Cache="cache";class Jb{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class Zb{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ze(),this.mutatedKeys=ze(),this.Va=M0(e),this.ma=new To(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new K_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const E=s.get(m),S=th(this.query,v)?v:null,k=!!E&&this.mutatedKeys.has(E.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;E&&S?E.data.isEqual(S.data)?k!==b&&(r.track({type:3,doc:S}),I=!0):this.ya(E,S)||(r.track({type:2,doc:S}),I=!0,(f&&this.Va(S,f)>0||p&&this.Va(S,p)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),I=!0):E&&!S&&(r.track({type:1,doc:E}),I=!0,(f||p)&&(c=!0)),I&&(S?(l=l.add(S),a=b?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:c,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,v)=>function(S,k){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return b(S)-b(k)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(r),s=s!=null&&s;const c=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,l.length!==0||p?{snapshot:new Lo(this.query,e.ma,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new K_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ze(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new ow(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new sw(r))}),t}va(e){this.Ea=e.Es,this.Ra=ze();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Lo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class eR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tR{constructor(e){this.key=e,this.Fa=!1}}class nR{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new xs(c=>D0(c),eh),this.Oa=new Map,this.Na=new Set,this.Ba=new dt(ve.comparator),this.La=new Map,this.ka=new vp,this.qa={},this.Qa=new Map,this.Ka=Mo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function rR(n,e,t=!0){const r=hw(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await aw(r,e,t,!0),s}async function iR(n,e){const t=hw(n);await aw(t,e,!0,!1)}async function aw(n,e,t,r){const s=await bb(n.localStore,fr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await sR(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&tw(n.remoteStore,s),c}async function sR(n,e,t,r,s){n.Ua=(v,E,S)=>async function(b,I,N,U){let q=I.view.ga(N);q.ss&&(q=await U_(b.localStore,I.query,!1).then(({documents:R})=>I.view.ga(R,q)));const Y=U&&U.targetChanges.get(I.targetId),G=U&&U.targetMismatches.get(I.targetId)!=null,ee=I.view.applyChanges(q,b.isPrimaryClient,Y,G);return X_(b,I.targetId,ee.ba),ee.snapshot}(n,v,E,S);const a=await U_(n.localStore,e,!0),l=new Zb(e,a.Es),c=l.ga(a.documents),f=Il.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,f);X_(n,t,p.ba);const m=new eR(e,t,l);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function oR(n,e,t){const r=Ve(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(l=>!eh(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&xp(r.remoteStore,s.targetId),Fd(r,s.targetId)}).catch(Gc)):(Fd(r,s.targetId),await Nd(r.localStore,s.targetId,!0))}async function aR(n,e){const t=Ve(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xp(t.remoteStore,r.targetId))}async function lw(n,e){const t=Ve(n);try{const r=await Ib(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.La.get(a);l&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?st(l.Fa):s.removedDocuments.size>0&&(st(l.Fa),l.Fa=!1))}),await cw(t,r,e)}catch(r){await Gc(r)}}function Y_(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=Ve(l);f.onlineState=c;let p=!1;f.queries.forEach((m,v)=>{for(const E of v.J_)E.ea(c)&&(p=!0)}),p&&Ip(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lR(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let l=new dt(ve.comparator);l=l.insert(a,Wt.newNoDocument(a,Se.min()));const c=ze().add(a),f=new ih(Se.min(),new Map,new dt(Oe),l,c);await lw(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),Ap(r)}else await Nd(r.localStore,e,!1).then(()=>Fd(r,e,t)).catch(Gc)}function Fd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||uw(n,r)})}function uw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(xp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Ap(n))}function X_(n,e,t){for(const r of t)r instanceof sw?(n.ka.addReference(r.key,e),uR(n,r)):r instanceof ow?(le("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||uw(n,r.key)):Ce()}function uR(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(r),Ap(n))}function Ap(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(at.fromString(e)),r=n.Ka.next();n.La.set(r,new tR(t)),n.Ba=n.Ba.insert(t,r),tw(n.remoteStore,new vi(fr(P0(t.path)),r,"TargetPurposeLimboResolution",Yc.oe))}}async function cw(n,e,t){const r=Ve(n),s=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,f)=>{l.push(r.Ua(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Ep.zi(f.targetId,p);a.push(v)}}))}),await Promise.all(l),r.Ma.R_(s),await async function(f,p){const m=Ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>X.forEach(p,E=>X.forEach(E.Wi,S=>m.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>X.forEach(E.Gi,S=>m.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!Bo(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const S=m.us.get(E),k=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(k);m.us=m.us.insert(E,b)}}}(r.localStore,a))}async function cR(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await X0(t.localStore,e);t.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(f=>{f.reject(new _e(se.CANCELLED,l))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cw(t,r.Ts)}}function hR(n,e){const t=Ve(n),r=t.La.get(e);if(r&&r.Fa)return ze().add(r.key);{let s=ze();const a=t.Oa.get(e);if(!a)return s;for(const l of a){const c=t.xa.get(l);s=s.unionWith(c.view.fa)}return s}}function hw(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lR.bind(null,e),e.Ma.R_=Yb.bind(null,e.eventManager),e.Ma.Wa=Xb.bind(null,e.eventManager),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Z0(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return kb(this.persistence,new Tb,e.initialUser,this.serializer)}ja(e){return new Y0(wp.ei,this.serializer)}za(e){return new Pb}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class fR extends jc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){st(this.persistence.referenceDelegate instanceof Bc);const r=this.persistence.referenceDelegate.garbageCollector;return new ub(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Y0(r=>Bc.ei(r,t),this.serializer)}}class zd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cR.bind(null,this.syncEngine),await Wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kb}()}createDatastore(e){const t=Z0(e.databaseInfo.databaseId),r=function(a){return new Ob(a)}(e.databaseInfo);return function(a,l,c,f){return new Fb(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,c){return new Bb(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Y_(this.syncEngine,t,0),function(){return H_.p()?new H_:new Db}())}createSyncEngine(e,t){return function(s,a,l,c,f,p,m){const v=new nR(s,a,l,c,f,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ve(s);le("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Al(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=KI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{le("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(le("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=iw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function id(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await X0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function J_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gR(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>q_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>q_(e.remoteStore,s)),n._onlineComponents=e}async function gR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await id(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),await id(n,new jc)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await id(n,new fR(void 0));return n._offlineComponents}async function mR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await J_(n,new zd))),n._onlineComponents}async function yR(n){const e=await mR(n),t=e.eventManager;return t.onListen=rR.bind(null,e.syncEngine),t.onUnlisten=oR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aR.bind(null,e.syncEngine),t}function _R(n,e,t={}){const r=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const m=new dR({next:E=>{m.eu(),l.enqueueAndForget(()=>Gb(a,v)),E.fromCache&&f.source==="server"?p.reject(new _e(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Jb(c,m,{includeMetadataChanges:!0,ua:!0});return Qb(a,v)}(await yR(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function vR(n,e,t,r){if(e===!0&&r===!0)throw new _e(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ev(n){if(ve.isDocumentKey(n))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wR(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function Bd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wR(n);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zI;switch(r.type){case"firstParty":return new $I(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Z_.get(t);r&&(le("ComponentProvider","Removing Datastore"),Z_.delete(t),r.terminate())}(this),Promise.resolve()}}function ER(n,e,t,r={}){var s;const a=(n=Bd(n,bp))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Ht.MOCK_USER;else{c=yk(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(p)}n._authCredentials=new BI(new S0(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oh(this.firestore,e,this._query)}}class Uo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uo(this.firestore,e,this._key)}}class Co extends oh{constructor(e,t,r){super(e,t,P0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uo(this.firestore,null,new ve(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function xR(n,e,...t){if(n=kk(n),n instanceof bp){const r=at.fromString(e,...t);return ev(r),new Co(n,null,r)}{if(!(n instanceof Uo||n instanceof Co))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return ev(r),new Co(n.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ew(this,"async_queue_retry"),this.fu=()=>{const r=rd();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=rd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=rd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new ms;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=kp.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class dw extends bp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new nv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function SR(n,e){const t=typeof n=="object"?n:II(),r=typeof n=="string"?n:"(default)",s=SI(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=gk("firestore");a&&ER(s,...a)}return s}function TR(n){if(n._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CR(n),n._firestoreClient}function CR(n){var e,t,r;const s=n._freezeSettings(),a=function(c,f,p,m){return new sA(c,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fw(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new pR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(Vt.fromBase64String(e))}catch(t){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uc(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}const AR=new RegExp("[~\\*/\\[\\]]");function bR(n,e,t){if(e.search(AR)>=0)throw rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new pw(...e.split("."))._internalPath}catch{throw rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function rv(n,e,t,r,s){let a=`Function ${e}() called with invalid data`;a+=". ";let l="";return new _e(se.INVALID_ARGUMENT,a+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RR extends gw{data(){return super.data()}}function mw(n,e){return typeof e=="string"?bR(n,e):e instanceof pw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DR{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return kl(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>ht(l.doubleValue));return new IR(a)}convertGeoPoint(e){return new kR(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jc(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=at.fromString(e);st(G0(r));const s=new vl(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(t)||Ur(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MR extends gw{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sc extends MR{data(e={}){return super.data(e)}}class LR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sc(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new Sc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Sc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:OR(c.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class NR extends DR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uo(this.firestore,null,t)}}function VR(n){n=Bd(n,oh);const e=Bd(n.firestore,dw),t=TR(e),r=new NR(e);return PR(n._query),_R(t,n._query).then(s=>new LR(e,r,n,s))}(function(e,t=!0){(function(s){zo=s})(kI),Oc(new ml("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new dw(new jI(r.getProvider("auth-internal")),new WI(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(p.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),xo(v_,"4.7.6",e),xo(v_,"4.7.6","esm2017")})();const FR={apiKey:"AIzaSyCl8O2n8kmLT51pZEbEfscRy9ZcY8mW61Q",authDomain:"reading-habit-tracker-website.firebaseapp.com",projectId:"reading-habit-tracker-website",storageBucket:"reading-habit-tracker-website.firebasestorage.app",messagingSenderId:"925605783685",appId:"1:925605783685:web:c693560fa19431b18621ec",measurementId:"G-RVD2K8L3CL"},zR=p0(FR),BR=SR(zR),jR=xR(BR,"users"),UR=async()=>{const n=await VR(jR),e=[];return n.forEach(t=>{console.log(t.id," => ",t.data()),e.push(t.data())}),console.log(e),e};UR();function $R(){return ce.jsx("div",{className:"progress-box"})}function HR(){return ce.jsxs("div",{className:"dasboard-div",children:[ce.jsx($R,{}),ce.jsx(ik,{}),ce.jsx(sk,{})]})}function iv(){const n=$d(),[e,t]=K.useState(""),[r,s]=K.useState(""),a=(l,c)=>{l==="paslamarca@gmail.com"&&c==="1234"?n("/honors-reading-tracker/dashboard"):alert("Invalid credentials")};return ce.jsxs("form",{className:"login-holder",children:[ce.jsx("h1",{children:"Log in"}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{className:"text",children:"Email"}),ce.jsx("input",{id:"email",value:e,onChange:l=>t(l.target.value),type:"email",className:"form-control",placeholder:"Enter email"})]}),ce.jsx("div",{className:"spacer"}),ce.jsxs("div",{className:"form-group",children:[ce.jsx("label",{className:"text",children:"Password"}),ce.jsx("input",{id:"password",value:r,onChange:l=>s(l.target.value),type:"password",className:"form-control",placeholder:"Enter password"})]}),ce.jsx("div",{className:"spacer"}),ce.jsxs("div",{className:"button-cluster",children:[ce.jsx(Wc,{to:"/honors-reading-tracker/create-account",children:ce.jsx("button",{type:"button",className:"btn btn-primary btn-sm",children:"Sign Up"})}),ce.jsx("button",{type:"button",onClick:()=>{a(e,r)},className:"btn btn-primary btn-sm",children:"Log in"})]})]})}function WR(){return ce.jsx("div",{children:ce.jsx("h1",{children:"My Books"})})}function qR(){return ce.jsx("div",{children:ce.jsx("h1",{children:"READING HERE"})})}function KR(){return ce.jsx(Hx,{children:ce.jsxs(wx,{children:[ce.jsx(ls,{path:"/honors-reading-tracker",element:ce.jsx(iv,{})}),ce.jsx(ls,{path:"/honors-reading-tracker/login",element:ce.jsx(iv,{})}),ce.jsx(ls,{path:"/honors-reading-tracker/create-account",element:ce.jsx(eS,{})}),ce.jsx(ls,{path:"/honors-reading-tracker/dashboard",element:ce.jsx(HR,{})}),ce.jsx(ls,{path:"/honors-reading-tracker/my-books",element:ce.jsx(WR,{})}),ce.jsx(ls,{path:"/honors-reading-tracker/read",element:ce.jsx(qR,{})})]})})}RE.createRoot(document.getElementById("root")).render(ce.jsx(K.StrictMode,{children:ce.jsx(KR,{})}));
